var QR=Object.defineProperty;var XR=(t,e,n)=>e in t?QR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var JR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var se=(t,e,n)=>(XR(t,typeof e!="symbol"?e+"":e,n),n);var oX=JR((xn,Tn)=>{function ZR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var eO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ro(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Vb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var $b={exports:{}},Of={},jb={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ic=Symbol.for("react.element"),tO=Symbol.for("react.portal"),nO=Symbol.for("react.fragment"),rO=Symbol.for("react.strict_mode"),iO=Symbol.for("react.profiler"),sO=Symbol.for("react.provider"),oO=Symbol.for("react.context"),aO=Symbol.for("react.forward_ref"),lO=Symbol.for("react.suspense"),uO=Symbol.for("react.memo"),cO=Symbol.for("react.lazy"),A1=Symbol.iterator;function hO(t){return t===null||typeof t!="object"?null:(t=A1&&t[A1]||t["@@iterator"],typeof t=="function"?t:null)}var Ub={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zb=Object.assign,Bb={};function Da(t,e,n){this.props=t,this.context=e,this.refs=Bb,this.updater=n||Ub}Da.prototype.isReactComponent={};Da.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Da.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wb(){}Wb.prototype=Da.prototype;function Sy(t,e,n){this.props=t,this.context=e,this.refs=Bb,this.updater=n||Ub}var Cy=Sy.prototype=new Wb;Cy.constructor=Sy;zb(Cy,Da.prototype);Cy.isPureReactComponent=!0;var k1=Array.isArray,Hb=Object.prototype.hasOwnProperty,Iy={current:null},qb={key:!0,ref:!0,__self:!0,__source:!0};function Gb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Hb.call(e,r)&&!qb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ic,type:t,key:s,ref:o,props:i,_owner:Iy.current}}function dO(t,e){return{$$typeof:ic,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ay(t){return typeof t=="object"&&t!==null&&t.$$typeof===ic}function fO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var P1=/\/+/g;function hm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fO(""+t.key):e.toString(36)}function $h(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ic:case tO:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+hm(o,0):r,k1(i)?(n="",t!=null&&(n=t.replace(P1,"$&/")+"/"),$h(i,e,n,"",function(u){return u})):i!=null&&(Ay(i)&&(i=dO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(P1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",k1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+hm(s,a);o+=$h(s,e,n,l,i)}else if(l=hO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+hm(s,a++),o+=$h(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bc(t,e,n){if(t==null)return t;var r=[],i=0;return $h(t,r,"","",function(s){return e.call(n,s,i++)}),r}function pO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},jh={transition:null},mO={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:jh,ReactCurrentOwner:Iy};me.Children={map:Bc,forEach:function(t,e,n){Bc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bc(t,function(){e++}),e},toArray:function(t){return Bc(t,function(e){return e})||[]},only:function(t){if(!Ay(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Da;me.Fragment=nO;me.Profiler=iO;me.PureComponent=Sy;me.StrictMode=rO;me.Suspense=lO;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mO;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Iy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Hb.call(e,l)&&!qb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ic,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:oO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sO,_context:t},t.Consumer=t};me.createElement=Gb;me.createFactory=function(t){var e=Gb.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:aO,render:t}};me.isValidElement=Ay;me.lazy=function(t){return{$$typeof:cO,_payload:{_status:-1,_result:t},_init:pO}};me.memo=function(t,e){return{$$typeof:uO,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=jh.transition;jh.transition={};try{t()}finally{jh.transition=e}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(t,e){return nn.current.useCallback(t,e)};me.useContext=function(t){return nn.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};me.useEffect=function(t,e){return nn.current.useEffect(t,e)};me.useId=function(){return nn.current.useId()};me.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return nn.current.useMemo(t,e)};me.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};me.useRef=function(t){return nn.current.useRef(t)};me.useState=function(t){return nn.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return nn.current.useTransition()};me.version="18.2.0";jb.exports=me;var x=jb.exports;const K=ro(x),gO=ZR({__proto__:null,default:K},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yO=x,vO=Symbol.for("react.element"),_O=Symbol.for("react.fragment"),wO=Object.prototype.hasOwnProperty,EO=yO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xO={key:!0,ref:!0,__self:!0,__source:!0};function Kb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wO.call(e,r)&&!xO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vO,type:t,key:s,ref:o,props:i,_owner:EO.current}}Of.Fragment=_O;Of.jsx=Kb;Of.jsxs=Kb;$b.exports=Of;var _=$b.exports,Cg={},Yb={exports:{}},In={},Qb={exports:{}},Xb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,U){var X=k.length;k.push(U);e:for(;0<X;){var ue=X-1>>>1,V=k[ue];if(0<i(V,U))k[ue]=U,k[X]=V,X=ue;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var U=k[0],X=k.pop();if(X!==U){k[0]=X;e:for(var ue=0,V=k.length,B=V>>>1;ue<B;){var Y=2*(ue+1)-1,ie=k[Y],I=Y+1,ge=k[I];if(0>i(ie,X))I<V&&0>i(ge,ie)?(k[ue]=ge,k[I]=X,ue=I):(k[ue]=ie,k[Y]=X,ue=Y);else if(I<V&&0>i(ge,X))k[ue]=ge,k[I]=X,ue=I;else break e}}return U}function i(k,U){var X=k.sortIndex-U.sortIndex;return X!==0?X:k.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(k){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=k)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function E(k){if(m=!1,w(k),!p)if(n(l)!==null)p=!0,te(T);else{var U=n(u);U!==null&&L(E,U.startTime-k)}}function T(k,U){p=!1,m&&(m=!1,g(C),C=-1),f=!0;var X=d;try{for(w(U),h=n(l);h!==null&&(!(h.expirationTime>U)||k&&!N());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,d=h.priorityLevel;var V=ue(h.expirationTime<=U);U=t.unstable_now(),typeof V=="function"?h.callback=V:h===n(l)&&r(l),w(U)}else r(l);h=n(l)}if(h!==null)var B=!0;else{var Y=n(u);Y!==null&&L(E,Y.startTime-U),B=!1}return B}finally{h=null,d=X,f=!1}}var b=!1,S=null,C=-1,R=5,P=-1;function N(){return!(t.unstable_now()-P<R)}function $(){if(S!==null){var k=t.unstable_now();P=k;var U=!0;try{U=S(!0,k)}finally{U?Z():(b=!1,S=null)}}else b=!1}var Z;if(typeof v=="function")Z=function(){v($)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,G=re.port2;re.port1.onmessage=$,Z=function(){G.postMessage(null)}}else Z=function(){y($,0)};function te(k){S=k,b||(b=!0,Z())}function L(k,U){C=y(function(){k(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,te(T))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var X=d;d=U;try{return k()}finally{d=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var X=d;d=k;try{return U()}finally{d=X}},t.unstable_scheduleCallback=function(k,U,X){var ue=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ue+X:ue):X=ue,k){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=X+V,k={id:c++,callback:U,priorityLevel:k,startTime:X,expirationTime:V,sortIndex:-1},X>ue?(k.sortIndex=X,e(u,k),n(l)===null&&k===n(u)&&(m?(g(C),C=-1):m=!0,L(E,X-ue))):(k.sortIndex=V,e(l,k),p||f||(p=!0,te(T))),k},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(k){var U=d;return function(){var X=d;d=U;try{return k.apply(this,arguments)}finally{d=X}}}})(Xb);Qb.exports=Xb;var TO=Qb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb=x,Sn=TO;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zb=new Set,ou={};function io(t,e){da(t,e),da(t+"Capture",e)}function da(t,e){for(ou[t]=e,t=0;t<e.length;t++)Zb.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ig=Object.prototype.hasOwnProperty,bO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R1={},O1={};function SO(t){return Ig.call(O1,t)?!0:Ig.call(R1,t)?!1:bO.test(t)?O1[t]=!0:(R1[t]=!0,!1)}function CO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IO(t,e,n,r){if(e===null||typeof e>"u"||CO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ky=/[\-:]([a-z])/g;function Py(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ky,Py);Ft[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ky,Py);Ft[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ky,Py);Ft[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ry(t,e,n,r){var i=Ft.hasOwnProperty(e)?Ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IO(e,n,i,r)&&(n=null),r||i===null?SO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ri=Jb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wc=Symbol.for("react.element"),Lo=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),Oy=Symbol.for("react.strict_mode"),Ag=Symbol.for("react.profiler"),eS=Symbol.for("react.provider"),tS=Symbol.for("react.context"),Dy=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Pg=Symbol.for("react.suspense_list"),Ny=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),nS=Symbol.for("react.offscreen"),D1=Symbol.iterator;function Ya(t){return t===null||typeof t!="object"?null:(t=D1&&t[D1]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,dm;function gl(t){if(dm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dm=e&&e[1]||""}return`
`+dm+t}var fm=!1;function pm(t,e){if(!t||fm)return"";fm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{fm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gl(t):""}function AO(t){switch(t.tag){case 5:return gl(t.type);case 16:return gl("Lazy");case 13:return gl("Suspense");case 19:return gl("SuspenseList");case 0:case 2:case 15:return t=pm(t.type,!1),t;case 11:return t=pm(t.type.render,!1),t;case 1:return t=pm(t.type,!0),t;default:return""}}function Rg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fo:return"Fragment";case Lo:return"Portal";case Ag:return"Profiler";case Oy:return"StrictMode";case kg:return"Suspense";case Pg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tS:return(t.displayName||"Context")+".Consumer";case eS:return(t._context.displayName||"Context")+".Provider";case Dy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ny:return e=t.displayName||null,e!==null?e:Rg(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return Rg(t(e))}catch{}}return null}function kO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rg(e);case 8:return e===Oy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PO(t){var e=rS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hc(t){t._valueTracker||(t._valueTracker=PO(t))}function iS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Og(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function N1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sS(t,e){e=e.checked,e!=null&&Ry(t,"checked",e,!1)}function Dg(t,e){sS(t,e);var n=Gi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ng(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ng(t,e.type,Gi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function M1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ng(t,e,n){(e!=="number"||dd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yl=Array.isArray;function Jo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Mg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function L1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(yl(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gi(n)}}function oS(t,e){var n=Gi(e.value),r=Gi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function F1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qc,lS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function au(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RO=["Webkit","ms","Moz","O"];Object.keys(Fl).forEach(function(t){RO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fl[e]=Fl[t]})});function uS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fl.hasOwnProperty(t)&&Fl[t]?(""+e).trim():e+"px"}function cS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var OO=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fg(t,e){if(e){if(OO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Vg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $g=null;function My(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jg=null,Zo=null,ea=null;function V1(t){if(t=ac(t)){if(typeof jg!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Ff(e),jg(t.stateNode,t.type,e))}}function hS(t){Zo?ea?ea.push(t):ea=[t]:Zo=t}function dS(){if(Zo){var t=Zo,e=ea;if(ea=Zo=null,V1(t),e)for(t=0;t<e.length;t++)V1(e[t])}}function fS(t,e){return t(e)}function pS(){}var mm=!1;function mS(t,e,n){if(mm)return t(e,n);mm=!0;try{return fS(t,e,n)}finally{mm=!1,(Zo!==null||ea!==null)&&(pS(),dS())}}function lu(t,e){var n=t.stateNode;if(n===null)return null;var r=Ff(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Ug=!1;if(Yr)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){Ug=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Ug=!1}function DO(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Vl=!1,fd=null,pd=!1,zg=null,NO={onError:function(t){Vl=!0,fd=t}};function MO(t,e,n,r,i,s,o,a,l){Vl=!1,fd=null,DO.apply(NO,arguments)}function LO(t,e,n,r,i,s,o,a,l){if(MO.apply(this,arguments),Vl){if(Vl){var u=fd;Vl=!1,fd=null}else throw Error(F(198));pd||(pd=!0,zg=u)}}function so(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $1(t){if(so(t)!==t)throw Error(F(188))}function FO(t){var e=t.alternate;if(!e){if(e=so(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $1(i),t;if(s===r)return $1(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function yS(t){return t=FO(t),t!==null?vS(t):null}function vS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vS(t);if(e!==null)return e;t=t.sibling}return null}var _S=Sn.unstable_scheduleCallback,j1=Sn.unstable_cancelCallback,VO=Sn.unstable_shouldYield,$O=Sn.unstable_requestPaint,st=Sn.unstable_now,jO=Sn.unstable_getCurrentPriorityLevel,Ly=Sn.unstable_ImmediatePriority,wS=Sn.unstable_UserBlockingPriority,md=Sn.unstable_NormalPriority,UO=Sn.unstable_LowPriority,ES=Sn.unstable_IdlePriority,Df=null,vr=null;function zO(t){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(Df,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:HO,BO=Math.log,WO=Math.LN2;function HO(t){return t>>>=0,t===0?32:31-(BO(t)/WO|0)|0}var Gc=64,Kc=4194304;function vl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=vl(a):(s&=o,s!==0&&(r=vl(s)))}else o=n&~i,o!==0?r=vl(o):s!==0&&(r=vl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xn(e),i=1<<n,r|=t[n],e&=~i;return r}function qO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Xn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=qO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Bg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xS(){var t=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),t}function gm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=n}function KO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Xn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Fy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function TS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bS,Vy,SS,CS,IS,Wg=!1,Yc=[],ki=null,Pi=null,Ri=null,uu=new Map,cu=new Map,fi=[],YO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U1(t,e){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":uu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(e.pointerId)}}function Xa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ac(e),e!==null&&Vy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function QO(t,e,n,r,i){switch(e){case"focusin":return ki=Xa(ki,t,e,n,r,i),!0;case"dragenter":return Pi=Xa(Pi,t,e,n,r,i),!0;case"mouseover":return Ri=Xa(Ri,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return uu.set(s,Xa(uu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,cu.set(s,Xa(cu.get(s)||null,t,e,n,r,i)),!0}return!1}function AS(t){var e=Es(t.target);if(e!==null){var n=so(e);if(n!==null){if(e=n.tag,e===13){if(e=gS(n),e!==null){t.blockedOn=e,IS(t.priority,function(){SS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$g=r,n.target.dispatchEvent(r),$g=null}else return e=ac(n),e!==null&&Vy(e),t.blockedOn=n,!1;e.shift()}return!0}function z1(t,e,n){Uh(t)&&n.delete(e)}function XO(){Wg=!1,ki!==null&&Uh(ki)&&(ki=null),Pi!==null&&Uh(Pi)&&(Pi=null),Ri!==null&&Uh(Ri)&&(Ri=null),uu.forEach(z1),cu.forEach(z1)}function Ja(t,e){t.blockedOn===e&&(t.blockedOn=null,Wg||(Wg=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,XO)))}function hu(t){function e(i){return Ja(i,t)}if(0<Yc.length){Ja(Yc[0],t);for(var n=1;n<Yc.length;n++){var r=Yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ki!==null&&Ja(ki,t),Pi!==null&&Ja(Pi,t),Ri!==null&&Ja(Ri,t),uu.forEach(e),cu.forEach(e),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)AS(n),n.blockedOn===null&&fi.shift()}var ta=ri.ReactCurrentBatchConfig,yd=!0;function JO(t,e,n,r){var i=ke,s=ta.transition;ta.transition=null;try{ke=1,$y(t,e,n,r)}finally{ke=i,ta.transition=s}}function ZO(t,e,n,r){var i=ke,s=ta.transition;ta.transition=null;try{ke=4,$y(t,e,n,r)}finally{ke=i,ta.transition=s}}function $y(t,e,n,r){if(yd){var i=Hg(t,e,n,r);if(i===null)Cm(t,e,r,vd,n),U1(t,r);else if(QO(i,t,e,n,r))r.stopPropagation();else if(U1(t,r),e&4&&-1<YO.indexOf(t)){for(;i!==null;){var s=ac(i);if(s!==null&&bS(s),s=Hg(t,e,n,r),s===null&&Cm(t,e,r,vd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cm(t,e,r,null,n)}}var vd=null;function Hg(t,e,n,r){if(vd=null,t=My(r),t=Es(t),t!==null)if(e=so(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vd=t,null}function kS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jO()){case Ly:return 1;case wS:return 4;case md:case UO:return 16;case ES:return 536870912;default:return 16}default:return 16}}var wi=null,jy=null,zh=null;function PS(){if(zh)return zh;var t,e=jy,n=e.length,r,i="value"in wi?wi.value:wi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return zh=i.slice(t,1<r?1-r:void 0)}function Bh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qc(){return!0}function B1(){return!1}function An(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qc:B1,this.isPropagationStopped=B1,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),e}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uy=An(Na),oc=Ye({},Na,{view:0,detail:0}),eD=An(oc),ym,vm,Za,Nf=Ye({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Za&&(Za&&t.type==="mousemove"?(ym=t.screenX-Za.screenX,vm=t.screenY-Za.screenY):vm=ym=0,Za=t),ym)},movementY:function(t){return"movementY"in t?t.movementY:vm}}),W1=An(Nf),tD=Ye({},Nf,{dataTransfer:0}),nD=An(tD),rD=Ye({},oc,{relatedTarget:0}),_m=An(rD),iD=Ye({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),sD=An(iD),oD=Ye({},Na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aD=An(oD),lD=Ye({},Na,{data:0}),H1=An(lD),uD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hD[t])?!!e[t]:!1}function zy(){return dD}var fD=Ye({},oc,{key:function(t){if(t.key){var e=uD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zy,charCode:function(t){return t.type==="keypress"?Bh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pD=An(fD),mD=Ye({},Nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q1=An(mD),gD=Ye({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zy}),yD=An(gD),vD=Ye({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),_D=An(vD),wD=Ye({},Nf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ED=An(wD),xD=[9,13,27,32],By=Yr&&"CompositionEvent"in window,$l=null;Yr&&"documentMode"in document&&($l=document.documentMode);var TD=Yr&&"TextEvent"in window&&!$l,RS=Yr&&(!By||$l&&8<$l&&11>=$l),G1=String.fromCharCode(32),K1=!1;function OS(t,e){switch(t){case"keyup":return xD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vo=!1;function bD(t,e){switch(t){case"compositionend":return DS(e);case"keypress":return e.which!==32?null:(K1=!0,G1);case"textInput":return t=e.data,t===G1&&K1?null:t;default:return null}}function SD(t,e){if(Vo)return t==="compositionend"||!By&&OS(t,e)?(t=PS(),zh=jy=wi=null,Vo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RS&&e.locale!=="ko"?null:e.data;default:return null}}var CD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CD[t.type]:e==="textarea"}function NS(t,e,n,r){hS(r),e=_d(e,"onChange"),0<e.length&&(n=new Uy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jl=null,du=null;function ID(t){HS(t,0)}function Mf(t){var e=Uo(t);if(iS(e))return t}function AD(t,e){if(t==="change")return e}var MS=!1;if(Yr){var wm;if(Yr){var Em="oninput"in document;if(!Em){var Q1=document.createElement("div");Q1.setAttribute("oninput","return;"),Em=typeof Q1.oninput=="function"}wm=Em}else wm=!1;MS=wm&&(!document.documentMode||9<document.documentMode)}function X1(){jl&&(jl.detachEvent("onpropertychange",LS),du=jl=null)}function LS(t){if(t.propertyName==="value"&&Mf(du)){var e=[];NS(e,du,t,My(t)),mS(ID,e)}}function kD(t,e,n){t==="focusin"?(X1(),jl=e,du=n,jl.attachEvent("onpropertychange",LS)):t==="focusout"&&X1()}function PD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mf(du)}function RD(t,e){if(t==="click")return Mf(e)}function OD(t,e){if(t==="input"||t==="change")return Mf(e)}function DD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zn=typeof Object.is=="function"?Object.is:DD;function fu(t,e){if(Zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ig.call(e,i)||!Zn(t[i],e[i]))return!1}return!0}function J1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z1(t,e){var n=J1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J1(n)}}function FS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VS(){for(var t=window,e=dd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dd(t.document)}return e}function Wy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ND(t){var e=VS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FS(n.ownerDocument.documentElement,n)){if(r!==null&&Wy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Z1(n,s);var o=Z1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MD=Yr&&"documentMode"in document&&11>=document.documentMode,$o=null,qg=null,Ul=null,Gg=!1;function ew(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gg||$o==null||$o!==dd(r)||(r=$o,"selectionStart"in r&&Wy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ul&&fu(Ul,r)||(Ul=r,r=_d(qg,"onSelect"),0<r.length&&(e=new Uy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$o)))}function Xc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var jo={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},xm={},$S={};Yr&&($S=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Lf(t){if(xm[t])return xm[t];if(!jo[t])return t;var e=jo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $S)return xm[t]=e[n];return t}var jS=Lf("animationend"),US=Lf("animationiteration"),zS=Lf("animationstart"),BS=Lf("transitionend"),WS=new Map,tw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(t,e){WS.set(t,e),io(e,[t])}for(var Tm=0;Tm<tw.length;Tm++){var bm=tw[Tm],LD=bm.toLowerCase(),FD=bm[0].toUpperCase()+bm.slice(1);ns(LD,"on"+FD)}ns(jS,"onAnimationEnd");ns(US,"onAnimationIteration");ns(zS,"onAnimationStart");ns("dblclick","onDoubleClick");ns("focusin","onFocus");ns("focusout","onBlur");ns(BS,"onTransitionEnd");da("onMouseEnter",["mouseout","mouseover"]);da("onMouseLeave",["mouseout","mouseover"]);da("onPointerEnter",["pointerout","pointerover"]);da("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VD=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function nw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LO(r,e,void 0,t),t.currentTarget=null}function HS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;nw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;nw(i,a,u),s=l}}}if(pd)throw t=zg,pd=!1,zg=null,t}function Fe(t,e){var n=e[Jg];n===void 0&&(n=e[Jg]=new Set);var r=t+"__bubble";n.has(r)||(qS(e,t,2,!1),n.add(r))}function Sm(t,e,n){var r=0;e&&(r|=4),qS(n,t,r,e)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function pu(t){if(!t[Jc]){t[Jc]=!0,Zb.forEach(function(n){n!=="selectionchange"&&(VD.has(n)||Sm(n,!1,t),Sm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jc]||(e[Jc]=!0,Sm("selectionchange",!1,e))}}function qS(t,e,n,r){switch(kS(e)){case 1:var i=JO;break;case 4:i=ZO;break;default:i=$y}n=i.bind(null,e,n,t),i=void 0,!Ug||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Es(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}mS(function(){var u=s,c=My(n),h=[];e:{var d=WS.get(t);if(d!==void 0){var f=Uy,p=t;switch(t){case"keypress":if(Bh(n)===0)break e;case"keydown":case"keyup":f=pD;break;case"focusin":p="focus",f=_m;break;case"focusout":p="blur",f=_m;break;case"beforeblur":case"afterblur":f=_m;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=W1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=nD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=yD;break;case jS:case US:case zS:f=sD;break;case BS:f=_D;break;case"scroll":f=eD;break;case"wheel":f=ED;break;case"copy":case"cut":case"paste":f=aD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=q1}var m=(e&4)!==0,y=!m&&t==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var v=u,w;v!==null;){w=v;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,g!==null&&(E=lu(v,g),E!=null&&m.push(mu(v,E,w)))),y)break;v=v.return}0<m.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==$g&&(p=n.relatedTarget||n.fromElement)&&(Es(p)||p[Qr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?Es(p):null,p!==null&&(y=so(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=W1,E="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=q1,E="onPointerLeave",g="onPointerEnter",v="pointer"),y=f==null?d:Uo(f),w=p==null?d:Uo(p),d=new m(E,v+"leave",f,n,c),d.target=y,d.relatedTarget=w,E=null,Es(c)===u&&(m=new m(g,v+"enter",p,n,c),m.target=w,m.relatedTarget=y,E=m),y=E,f&&p)t:{for(m=f,g=p,v=0,w=m;w;w=Co(w))v++;for(w=0,E=g;E;E=Co(E))w++;for(;0<v-w;)m=Co(m),v--;for(;0<w-v;)g=Co(g),w--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=Co(m),g=Co(g)}m=null}else m=null;f!==null&&rw(h,d,f,m,!1),p!==null&&y!==null&&rw(h,y,p,m,!0)}}e:{if(d=u?Uo(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var T=AD;else if(Y1(d))if(MS)T=OD;else{T=PD;var b=kD}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=RD);if(T&&(T=T(t,u))){NS(h,T,n,c);break e}b&&b(t,d,u),t==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&Ng(d,"number",d.value)}switch(b=u?Uo(u):window,t){case"focusin":(Y1(b)||b.contentEditable==="true")&&($o=b,qg=u,Ul=null);break;case"focusout":Ul=qg=$o=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,ew(h,n,c);break;case"selectionchange":if(MD)break;case"keydown":case"keyup":ew(h,n,c)}var S;if(By)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Vo?OS(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(RS&&n.locale!=="ko"&&(Vo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Vo&&(S=PS()):(wi=c,jy="value"in wi?wi.value:wi.textContent,Vo=!0)),b=_d(u,C),0<b.length&&(C=new H1(C,t,null,n,c),h.push({event:C,listeners:b}),S?C.data=S:(S=DS(n),S!==null&&(C.data=S)))),(S=TD?bD(t,n):SD(t,n))&&(u=_d(u,"onBeforeInput"),0<u.length&&(c=new H1("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=S))}HS(h,e)})}function mu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _d(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=lu(t,n),s!=null&&r.unshift(mu(t,s,i)),s=lu(t,e),s!=null&&r.push(mu(t,s,i))),t=t.return}return r}function Co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=lu(n,s),l!=null&&o.unshift(mu(n,l,a))):i||(l=lu(n,s),l!=null&&o.push(mu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $D=/\r\n?/g,jD=/\u0000|\uFFFD/g;function iw(t){return(typeof t=="string"?t:""+t).replace($D,`
`).replace(jD,"")}function Zc(t,e,n){if(e=iw(e),iw(t)!==e&&n)throw Error(F(425))}function wd(){}var Kg=null,Yg=null;function Qg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xg=typeof setTimeout=="function"?setTimeout:void 0,UD=typeof clearTimeout=="function"?clearTimeout:void 0,sw=typeof Promise=="function"?Promise:void 0,zD=typeof queueMicrotask=="function"?queueMicrotask:typeof sw<"u"?function(t){return sw.resolve(null).then(t).catch(BD)}:Xg;function BD(t){setTimeout(function(){throw t})}function Im(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),hu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hu(e)}function Oi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ow(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),cr="__reactFiber$"+Ma,gu="__reactProps$"+Ma,Qr="__reactContainer$"+Ma,Jg="__reactEvents$"+Ma,WD="__reactListeners$"+Ma,HD="__reactHandles$"+Ma;function Es(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ow(t);t!==null;){if(n=t[cr])return n;t=ow(t)}return e}t=n,n=t.parentNode}return null}function ac(t){return t=t[cr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Ff(t){return t[gu]||null}var Zg=[],zo=-1;function rs(t){return{current:t}}function Ue(t){0>zo||(t.current=Zg[zo],Zg[zo]=null,zo--)}function Le(t,e){zo++,Zg[zo]=t.current,t.current=e}var Ki={},Gt=rs(Ki),fn=rs(!1),Vs=Ki;function fa(t,e){var n=t.type.contextTypes;if(!n)return Ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pn(t){return t=t.childContextTypes,t!=null}function Ed(){Ue(fn),Ue(Gt)}function aw(t,e,n){if(Gt.current!==Ki)throw Error(F(168));Le(Gt,e),Le(fn,n)}function GS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,kO(t)||"Unknown",i));return Ye({},n,r)}function xd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ki,Vs=Gt.current,Le(Gt,t),Le(fn,fn.current),!0}function lw(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=GS(t,e,Vs),r.__reactInternalMemoizedMergedChildContext=t,Ue(fn),Ue(Gt),Le(Gt,t)):Ue(fn),Le(fn,n)}var Ur=null,Vf=!1,Am=!1;function KS(t){Ur===null?Ur=[t]:Ur.push(t)}function qD(t){Vf=!0,KS(t)}function is(){if(!Am&&Ur!==null){Am=!0;var t=0,e=ke;try{var n=Ur;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ur=null,Vf=!1}catch(i){throw Ur!==null&&(Ur=Ur.slice(t+1)),_S(Ly,is),i}finally{ke=e,Am=!1}}return null}var Bo=[],Wo=0,Td=null,bd=0,On=[],Dn=0,$s=null,Br=1,Wr="";function ps(t,e){Bo[Wo++]=bd,Bo[Wo++]=Td,Td=t,bd=e}function YS(t,e,n){On[Dn++]=Br,On[Dn++]=Wr,On[Dn++]=$s,$s=t;var r=Br;t=Wr;var i=32-Xn(r)-1;r&=~(1<<i),n+=1;var s=32-Xn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Br=1<<32-Xn(e)+i|n<<i|r,Wr=s+t}else Br=1<<s|n<<i|r,Wr=t}function Hy(t){t.return!==null&&(ps(t,1),YS(t,1,0))}function qy(t){for(;t===Td;)Td=Bo[--Wo],Bo[Wo]=null,bd=Bo[--Wo],Bo[Wo]=null;for(;t===$s;)$s=On[--Dn],On[Dn]=null,Wr=On[--Dn],On[Dn]=null,Br=On[--Dn],On[Dn]=null}var bn=null,_n=null,We=!1,Kn=null;function QS(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,_n=Oi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$s!==null?{id:Br,overflow:Wr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,_n=null,!0):!1;default:return!1}}function e0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function t0(t){if(We){var e=_n;if(e){var n=e;if(!uw(t,e)){if(e0(t))throw Error(F(418));e=Oi(n.nextSibling);var r=bn;e&&uw(t,e)?QS(r,n):(t.flags=t.flags&-4097|2,We=!1,bn=t)}}else{if(e0(t))throw Error(F(418));t.flags=t.flags&-4097|2,We=!1,bn=t}}}function cw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function eh(t){if(t!==bn)return!1;if(!We)return cw(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qg(t.type,t.memoizedProps)),e&&(e=_n)){if(e0(t))throw XS(),Error(F(418));for(;e;)QS(t,e),e=Oi(e.nextSibling)}if(cw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=Oi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=bn?Oi(t.stateNode.nextSibling):null;return!0}function XS(){for(var t=_n;t;)t=Oi(t.nextSibling)}function pa(){_n=bn=null,We=!1}function Gy(t){Kn===null?Kn=[t]:Kn.push(t)}var GD=ri.ReactCurrentBatchConfig;function qn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Sd=rs(null),Cd=null,Ho=null,Ky=null;function Yy(){Ky=Ho=Cd=null}function Qy(t){var e=Sd.current;Ue(Sd),t._currentValue=e}function n0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function na(t,e){Cd=t,Ky=Ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(Ky!==t)if(t={context:t,memoizedValue:e,next:null},Ho===null){if(Cd===null)throw Error(F(308));Ho=t,Cd.dependencies={lanes:0,firstContext:t}}else Ho=Ho.next=t;return e}var xs=null;function Xy(t){xs===null?xs=[t]:xs.push(t)}function JS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xr(t,r)}function Xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hi=!1;function Jy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Di(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xr(t,n)}return i=r.interleaved,i===null?(e.next=e,Xy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xr(t,n)}function Wh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fy(t,n)}}function hw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Id(t,e,n,r){var i=t.updateQueue;hi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Ye({},h,d);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Us|=o,t.lanes=o,t.memoizedState=h}}function dw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var eC=new Jb.Component().refs;function r0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $f={isMounted:function(t){return(t=t._reactInternals)?so(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),i=Mi(t),s=Kr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Di(t,s,i),e!==null&&(Jn(e,t,i,r),Wh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),i=Mi(t),s=Kr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Di(t,s,i),e!==null&&(Jn(e,t,i,r),Wh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=Mi(t),i=Kr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Di(t,i,r),e!==null&&(Jn(e,t,r,n),Wh(e,t,r))}};function fw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!fu(n,r)||!fu(i,s):!0}function tC(t,e,n){var r=!1,i=Ki,s=e.contextType;return typeof s=="object"&&s!==null?s=zn(s):(i=pn(e)?Vs:Gt.current,r=e.contextTypes,s=(r=r!=null)?fa(t,i):Ki),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$f,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function pw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$f.enqueueReplaceState(e,e.state,null)}function i0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=eC,Jy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=zn(s):(s=pn(e)?Vs:Gt.current,i.context=fa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(r0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$f.enqueueReplaceState(i,i.state,null),Id(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function el(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===eC&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function th(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mw(t){var e=t._init;return e(t._payload)}function nC(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Li(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,w,E){return v===null||v.tag!==6?(v=Mm(w,g.mode,E),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,E){var T=w.type;return T===Fo?c(g,v,w.props.children,E,w.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ci&&mw(T)===v.type)?(E=i(v,w.props),E.ref=el(g,v,w),E.return=g,E):(E=Qh(w.type,w.key,w.props,null,g.mode,E),E.ref=el(g,v,w),E.return=g,E)}function u(g,v,w,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Lm(w,g.mode,E),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function c(g,v,w,E,T){return v===null||v.tag!==7?(v=Rs(w,g.mode,E,T),v.return=g,v):(v=i(v,w),v.return=g,v)}function h(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Mm(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wc:return w=Qh(v.type,v.key,v.props,null,g.mode,w),w.ref=el(g,null,v),w.return=g,w;case Lo:return v=Lm(v,g.mode,w),v.return=g,v;case ci:var E=v._init;return h(g,E(v._payload),w)}if(yl(v)||Ya(v))return v=Rs(v,g.mode,w,null),v.return=g,v;th(g,v)}return null}function d(g,v,w,E){var T=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(g,v,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wc:return w.key===T?l(g,v,w,E):null;case Lo:return w.key===T?u(g,v,w,E):null;case ci:return T=w._init,d(g,v,T(w._payload),E)}if(yl(w)||Ya(w))return T!==null?null:c(g,v,w,E,null);th(g,w)}return null}function f(g,v,w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(w)||null,a(v,g,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Wc:return g=g.get(E.key===null?w:E.key)||null,l(v,g,E,T);case Lo:return g=g.get(E.key===null?w:E.key)||null,u(v,g,E,T);case ci:var b=E._init;return f(g,v,w,b(E._payload),T)}if(yl(E)||Ya(E))return g=g.get(w)||null,c(v,g,E,T,null);th(v,E)}return null}function p(g,v,w,E){for(var T=null,b=null,S=v,C=v=0,R=null;S!==null&&C<w.length;C++){S.index>C?(R=S,S=null):R=S.sibling;var P=d(g,S,w[C],E);if(P===null){S===null&&(S=R);break}t&&S&&P.alternate===null&&e(g,S),v=s(P,v,C),b===null?T=P:b.sibling=P,b=P,S=R}if(C===w.length)return n(g,S),We&&ps(g,C),T;if(S===null){for(;C<w.length;C++)S=h(g,w[C],E),S!==null&&(v=s(S,v,C),b===null?T=S:b.sibling=S,b=S);return We&&ps(g,C),T}for(S=r(g,S);C<w.length;C++)R=f(S,g,C,w[C],E),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?C:R.key),v=s(R,v,C),b===null?T=R:b.sibling=R,b=R);return t&&S.forEach(function(N){return e(g,N)}),We&&ps(g,C),T}function m(g,v,w,E){var T=Ya(w);if(typeof T!="function")throw Error(F(150));if(w=T.call(w),w==null)throw Error(F(151));for(var b=T=null,S=v,C=v=0,R=null,P=w.next();S!==null&&!P.done;C++,P=w.next()){S.index>C?(R=S,S=null):R=S.sibling;var N=d(g,S,P.value,E);if(N===null){S===null&&(S=R);break}t&&S&&N.alternate===null&&e(g,S),v=s(N,v,C),b===null?T=N:b.sibling=N,b=N,S=R}if(P.done)return n(g,S),We&&ps(g,C),T;if(S===null){for(;!P.done;C++,P=w.next())P=h(g,P.value,E),P!==null&&(v=s(P,v,C),b===null?T=P:b.sibling=P,b=P);return We&&ps(g,C),T}for(S=r(g,S);!P.done;C++,P=w.next())P=f(S,g,C,P.value,E),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?C:P.key),v=s(P,v,C),b===null?T=P:b.sibling=P,b=P);return t&&S.forEach(function($){return e(g,$)}),We&&ps(g,C),T}function y(g,v,w,E){if(typeof w=="object"&&w!==null&&w.type===Fo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Wc:e:{for(var T=w.key,b=v;b!==null;){if(b.key===T){if(T=w.type,T===Fo){if(b.tag===7){n(g,b.sibling),v=i(b,w.props.children),v.return=g,g=v;break e}}else if(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ci&&mw(T)===b.type){n(g,b.sibling),v=i(b,w.props),v.ref=el(g,b,w),v.return=g,g=v;break e}n(g,b);break}else e(g,b);b=b.sibling}w.type===Fo?(v=Rs(w.props.children,g.mode,E,w.key),v.return=g,g=v):(E=Qh(w.type,w.key,w.props,null,g.mode,E),E.ref=el(g,v,w),E.return=g,g=E)}return o(g);case Lo:e:{for(b=w.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=Lm(w,g.mode,E),v.return=g,g=v}return o(g);case ci:return b=w._init,y(g,v,b(w._payload),E)}if(yl(w))return p(g,v,w,E);if(Ya(w))return m(g,v,w,E);th(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,w),v.return=g,g=v):(n(g,v),v=Mm(w,g.mode,E),v.return=g,g=v),o(g)):n(g,v)}return y}var ma=nC(!0),rC=nC(!1),lc={},_r=rs(lc),yu=rs(lc),vu=rs(lc);function Ts(t){if(t===lc)throw Error(F(174));return t}function Zy(t,e){switch(Le(vu,e),Le(yu,t),Le(_r,lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lg(e,t)}Ue(_r),Le(_r,e)}function ga(){Ue(_r),Ue(yu),Ue(vu)}function iC(t){Ts(vu.current);var e=Ts(_r.current),n=Lg(e,t.type);e!==n&&(Le(yu,t),Le(_r,n))}function ev(t){yu.current===t&&(Ue(_r),Ue(yu))}var qe=rs(0);function Ad(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var km=[];function tv(){for(var t=0;t<km.length;t++)km[t]._workInProgressVersionPrimary=null;km.length=0}var Hh=ri.ReactCurrentDispatcher,Pm=ri.ReactCurrentBatchConfig,js=0,Ke=null,pt=null,wt=null,kd=!1,zl=!1,_u=0,KD=0;function Vt(){throw Error(F(321))}function nv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zn(t[n],e[n]))return!1;return!0}function rv(t,e,n,r,i,s){if(js=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hh.current=t===null||t.memoizedState===null?JD:ZD,t=n(r,i),zl){s=0;do{if(zl=!1,_u=0,25<=s)throw Error(F(301));s+=1,wt=pt=null,e.updateQueue=null,Hh.current=eN,t=n(r,i)}while(zl)}if(Hh.current=Pd,e=pt!==null&&pt.next!==null,js=0,wt=pt=Ke=null,kd=!1,e)throw Error(F(300));return t}function iv(){var t=_u!==0;return _u=0,t}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ke.memoizedState=wt=t:wt=wt.next=t,wt}function Bn(){if(pt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=wt===null?Ke.memoizedState:wt.next;if(e!==null)wt=e,pt=t;else{if(t===null)throw Error(F(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},wt===null?Ke.memoizedState=wt=t:wt=wt.next=t}return wt}function wu(t,e){return typeof e=="function"?e(t):e}function Rm(t){var e=Bn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((js&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ke.lanes|=c,Us|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Zn(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,Us|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Om(t){var e=Bn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Zn(s,e.memoizedState)||(dn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sC(){}function oC(t,e){var n=Ke,r=Bn(),i=e(),s=!Zn(r.memoizedState,i);if(s&&(r.memoizedState=i,dn=!0),r=r.queue,sv(uC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Eu(9,lC.bind(null,n,r,i,e),void 0,null),xt===null)throw Error(F(349));js&30||aC(n,e,i)}return i}function aC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lC(t,e,n,r){e.value=n,e.getSnapshot=r,cC(e)&&hC(t)}function uC(t,e,n){return n(function(){cC(e)&&hC(t)})}function cC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zn(t,n)}catch{return!0}}function hC(t){var e=Xr(t,1);e!==null&&Jn(e,t,1,-1)}function gw(t){var e=sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wu,lastRenderedState:t},e.queue=t,t=t.dispatch=XD.bind(null,Ke,t),[e.memoizedState,t]}function Eu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dC(){return Bn().memoizedState}function qh(t,e,n,r){var i=sr();Ke.flags|=t,i.memoizedState=Eu(1|e,n,void 0,r===void 0?null:r)}function jf(t,e,n,r){var i=Bn();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&nv(r,o.deps)){i.memoizedState=Eu(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=Eu(1|e,n,s,r)}function yw(t,e){return qh(8390656,8,t,e)}function sv(t,e){return jf(2048,8,t,e)}function fC(t,e){return jf(4,2,t,e)}function pC(t,e){return jf(4,4,t,e)}function mC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gC(t,e,n){return n=n!=null?n.concat([t]):null,jf(4,4,mC.bind(null,e,t),n)}function ov(){}function yC(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vC(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _C(t,e,n){return js&21?(Zn(n,e)||(n=xS(),Ke.lanes|=n,Us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function YD(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Pm.transition;Pm.transition={};try{t(!1),e()}finally{ke=n,Pm.transition=r}}function wC(){return Bn().memoizedState}function QD(t,e,n){var r=Mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},EC(t))xC(e,n);else if(n=JS(t,e,n,r),n!==null){var i=en();Jn(n,t,r,i),TC(n,e,r)}}function XD(t,e,n){var r=Mi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(EC(t))xC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Zn(a,o)){var l=e.interleaved;l===null?(i.next=i,Xy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=JS(t,e,i,r),n!==null&&(i=en(),Jn(n,t,r,i),TC(n,e,r))}}function EC(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function xC(t,e){zl=kd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fy(t,n)}}var Pd={readContext:zn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},JD={readContext:zn,useCallback:function(t,e){return sr().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:yw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qh(4194308,4,mC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qh(4194308,4,t,e)},useInsertionEffect:function(t,e){return qh(4,2,t,e)},useMemo:function(t,e){var n=sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QD.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=sr();return t={current:t},e.memoizedState=t},useState:gw,useDebugValue:ov,useDeferredValue:function(t){return sr().memoizedState=t},useTransition:function(){var t=gw(!1),e=t[0];return t=YD.bind(null,t[1]),sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=sr();if(We){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),xt===null)throw Error(F(349));js&30||aC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,yw(uC.bind(null,r,s,t),[t]),r.flags|=2048,Eu(9,lC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=sr(),e=xt.identifierPrefix;if(We){var n=Wr,r=Br;n=(r&~(1<<32-Xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_u++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZD={readContext:zn,useCallback:yC,useContext:zn,useEffect:sv,useImperativeHandle:gC,useInsertionEffect:fC,useLayoutEffect:pC,useMemo:vC,useReducer:Rm,useRef:dC,useState:function(){return Rm(wu)},useDebugValue:ov,useDeferredValue:function(t){var e=Bn();return _C(e,pt.memoizedState,t)},useTransition:function(){var t=Rm(wu)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:sC,useSyncExternalStore:oC,useId:wC,unstable_isNewReconciler:!1},eN={readContext:zn,useCallback:yC,useContext:zn,useEffect:sv,useImperativeHandle:gC,useInsertionEffect:fC,useLayoutEffect:pC,useMemo:vC,useReducer:Om,useRef:dC,useState:function(){return Om(wu)},useDebugValue:ov,useDeferredValue:function(t){var e=Bn();return pt===null?e.memoizedState=t:_C(e,pt.memoizedState,t)},useTransition:function(){var t=Om(wu)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:sC,useSyncExternalStore:oC,useId:wC,unstable_isNewReconciler:!1};function ya(t,e){try{var n="",r=e;do n+=AO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Dm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function s0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tN=typeof WeakMap=="function"?WeakMap:Map;function bC(t,e,n){n=Kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Od||(Od=!0,m0=r),s0(t,e)},n}function SC(t,e,n){n=Kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){s0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){s0(t,e),typeof r!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function vw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=mN.bind(null,t,e,n),e.then(t,t))}function _w(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ww(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kr(-1,1),e.tag=2,Di(n,e,1))),n.lanes|=1),t)}var nN=ri.ReactCurrentOwner,dn=!1;function Jt(t,e,n,r){e.child=t===null?rC(e,null,n,r):ma(e,t.child,n,r)}function Ew(t,e,n,r,i){n=n.render;var s=e.ref;return na(e,i),r=rv(t,e,n,r,s,i),n=iv(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(We&&n&&Hy(e),e.flags|=1,Jt(t,e,r,i),e.child)}function xw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!pv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,CC(t,e,s,r,i)):(t=Qh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:fu,n(o,r)&&t.ref===e.ref)return Jr(t,e,i)}return e.flags|=1,t=Li(s,r),t.ref=e.ref,t.return=e,e.child=t}function CC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(fu(s,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,Jr(t,e,i)}return o0(t,e,n,r,i)}function IC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Go,vn),vn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Go,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Le(Go,vn),vn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Le(Go,vn),vn|=r;return Jt(t,e,i,n),e.child}function AC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function o0(t,e,n,r,i){var s=pn(n)?Vs:Gt.current;return s=fa(e,s),na(e,i),n=rv(t,e,n,r,s,i),r=iv(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(We&&r&&Hy(e),e.flags|=1,Jt(t,e,n,i),e.child)}function Tw(t,e,n,r,i){if(pn(n)){var s=!0;xd(e)}else s=!1;if(na(e,i),e.stateNode===null)Gh(t,e),tC(e,n,r),i0(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=pn(n)?Vs:Gt.current,u=fa(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&pw(e,o,r,u),hi=!1;var d=e.memoizedState;o.state=d,Id(e,r,o,i),l=e.memoizedState,a!==r||d!==l||fn.current||hi?(typeof c=="function"&&(r0(e,n,c,r),l=e.memoizedState),(a=hi||fw(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:qn(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zn(l):(l=pn(n)?Vs:Gt.current,l=fa(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&pw(e,o,r,l),hi=!1,d=e.memoizedState,o.state=d,Id(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||fn.current||hi?(typeof f=="function"&&(r0(e,n,f,r),p=e.memoizedState),(u=hi||fw(e,n,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return a0(t,e,n,r,s,i)}function a0(t,e,n,r,i,s){AC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&lw(e,n,!1),Jr(t,e,s);r=e.stateNode,nN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ma(e,t.child,null,s),e.child=ma(e,null,a,s)):Jt(t,e,a,s),e.memoizedState=r.state,i&&lw(e,n,!0),e.child}function kC(t){var e=t.stateNode;e.pendingContext?aw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&aw(t,e.context,!1),Zy(t,e.containerInfo)}function bw(t,e,n,r,i){return pa(),Gy(i),e.flags|=256,Jt(t,e,n,r),e.child}var l0={dehydrated:null,treeContext:null,retryLane:0};function u0(t){return{baseLanes:t,cachePool:null,transitions:null}}function PC(t,e,n){var r=e.pendingProps,i=qe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(qe,i&1),t===null)return t0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bf(o,r,0,null),t=Rs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=u0(n),e.memoizedState=l0,t):av(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return rN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Li(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Li(a,s):(s=Rs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?u0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=l0,r}return s=t.child,t=s.sibling,r=Li(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function av(t,e){return e=Bf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nh(t,e,n,r){return r!==null&&Gy(r),ma(e,t.child,null,n),t=av(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Dm(Error(F(422))),nh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bf({mode:"visible",children:r.children},i,0,null),s=Rs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ma(e,t.child,null,o),e.child.memoizedState=u0(o),e.memoizedState=l0,s);if(!(e.mode&1))return nh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=Dm(s,r,void 0),nh(t,e,o,r)}if(a=(o&t.childLanes)!==0,dn||a){if(r=xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xr(t,i),Jn(r,t,i,-1))}return fv(),r=Dm(Error(F(421))),nh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,_n=Oi(i.nextSibling),bn=e,We=!0,Kn=null,t!==null&&(On[Dn++]=Br,On[Dn++]=Wr,On[Dn++]=$s,Br=t.id,Wr=t.overflow,$s=e),e=av(e,r.children),e.flags|=4096,e)}function Sw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),n0(t.return,e,n)}function Nm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function RC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Jt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sw(t,n,e);else if(t.tag===19)Sw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ad(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Nm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ad(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Nm(e,!0,n,null,s);break;case"together":Nm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Li(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Li(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iN(t,e,n){switch(e.tag){case 3:kC(e),pa();break;case 5:iC(e);break;case 1:pn(e.type)&&xd(e);break;case 4:Zy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(Sd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?PC(t,e,n):(Le(qe,qe.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);Le(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,IC(t,e,n)}return Jr(t,e,n)}var OC,c0,DC,NC;OC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};c0=function(){};DC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ts(_r.current);var s=null;switch(n){case"input":i=Og(t,i),r=Og(t,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=Mg(t,i),r=Mg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wd)}Fg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ou.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ou.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};NC=function(t,e,n,r){n!==r&&(e.flags|=4)};function tl(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sN(t,e,n){var r=e.pendingProps;switch(qy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return pn(e.type)&&Ed(),$t(e),null;case 3:return r=e.stateNode,ga(),Ue(fn),Ue(Gt),tv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kn!==null&&(v0(Kn),Kn=null))),c0(t,e),$t(e),null;case 5:ev(e);var i=Ts(vu.current);if(n=e.type,t!==null&&e.stateNode!=null)DC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return $t(e),null}if(t=Ts(_r.current),eh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[cr]=e,r[gu]=s,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<_l.length;i++)Fe(_l[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":N1(r,s),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",r);break;case"textarea":L1(r,s),Fe("invalid",r)}Fg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zc(r.textContent,a,t),i=["children",""+a]):ou.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Hc(r),M1(r,s,!0);break;case"textarea":Hc(r),F1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cr]=e,t[gu]=r,OC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vg(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<_l.length;i++)Fe(_l[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":N1(t,r),i=Og(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":L1(t,r),i=Mg(t,r),Fe("invalid",t);break;default:i=r}Fg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?cS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&au(t,l):typeof l=="number"&&au(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ou.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Fe("scroll",t):l!=null&&Ry(t,s,l,o))}switch(n){case"input":Hc(t),M1(t,r,!1);break;case"textarea":Hc(t),F1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Jo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Jo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)NC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Ts(vu.current),Ts(_r.current),eh(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(s=r.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:Zc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return $t(e),null;case 13:if(Ue(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&_n!==null&&e.mode&1&&!(e.flags&128))XS(),pa(),e.flags|=98560,s=!1;else if(s=eh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[cr]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),s=!1}else Kn!==null&&(v0(Kn),Kn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?mt===0&&(mt=3):fv())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return ga(),c0(t,e),t===null&&pu(e.stateNode.containerInfo),$t(e),null;case 10:return Qy(e.type._context),$t(e),null;case 17:return pn(e.type)&&Ed(),$t(e),null;case 19:if(Ue(qe),s=e.memoizedState,s===null)return $t(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)tl(s,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ad(t),o!==null){for(e.flags|=128,tl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(qe,qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&st()>va&&(e.flags|=128,r=!0,tl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ad(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return $t(e),null}else 2*st()-s.renderingStartTime>va&&n!==1073741824&&(e.flags|=128,r=!0,tl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=st(),e.sibling=null,n=qe.current,Le(qe,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return dv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function oN(t,e){switch(qy(e),e.tag){case 1:return pn(e.type)&&Ed(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ga(),Ue(fn),Ue(Gt),tv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ev(e),null;case 13:if(Ue(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(qe),null;case 4:return ga(),null;case 10:return Qy(e.type._context),null;case 22:case 23:return dv(),null;case 24:return null;default:return null}}var rh=!1,zt=!1,aN=typeof WeakSet=="function"?WeakSet:Set,Q=null;function qo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(t,e,r)}else n.current=null}function h0(t,e,n){try{n()}catch(r){Xe(t,e,r)}}var Cw=!1;function lN(t,e){if(Kg=yd,t=VS(),Wy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yg={focusedElem:t,selectionRange:n},yd=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:qn(e.type,m),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(E){Xe(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return p=Cw,Cw=!1,p}function Bl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&h0(e,n,s)}i=i.next}while(i!==r)}}function Uf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function d0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MC(t){var e=t.alternate;e!==null&&(t.alternate=null,MC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[gu],delete e[Jg],delete e[WD],delete e[HD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LC(t){return t.tag===5||t.tag===3||t.tag===4}function Iw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function f0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wd));else if(r!==4&&(t=t.child,t!==null))for(f0(t,e,n),t=t.sibling;t!==null;)f0(t,e,n),t=t.sibling}function p0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(p0(t,e,n),t=t.sibling;t!==null;)p0(t,e,n),t=t.sibling}var It=null,Gn=!1;function oi(t,e,n){for(n=n.child;n!==null;)FC(t,e,n),n=n.sibling}function FC(t,e,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(Df,n)}catch{}switch(n.tag){case 5:zt||qo(n,e);case 6:var r=It,i=Gn;It=null,oi(t,e,n),It=r,Gn=i,It!==null&&(Gn?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(Gn?(t=It,n=n.stateNode,t.nodeType===8?Im(t.parentNode,n):t.nodeType===1&&Im(t,n),hu(t)):Im(It,n.stateNode));break;case 4:r=It,i=Gn,It=n.stateNode.containerInfo,Gn=!0,oi(t,e,n),It=r,Gn=i;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&h0(n,e,o),i=i.next}while(i!==r)}oi(t,e,n);break;case 1:if(!zt&&(qo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Xe(n,e,a)}oi(t,e,n);break;case 21:oi(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,oi(t,e,n),zt=r):oi(t,e,n);break;default:oi(t,e,n)}}function Aw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aN),e.forEach(function(r){var i=yN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,Gn=!1;break e;case 3:It=a.stateNode.containerInfo,Gn=!0;break e;case 4:It=a.stateNode.containerInfo,Gn=!0;break e}a=a.return}if(It===null)throw Error(F(160));FC(s,o,i),It=null,Gn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Xe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VC(e,t),e=e.sibling}function VC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wn(e,t),rr(t),r&4){try{Bl(3,t,t.return),Uf(3,t)}catch(m){Xe(t,t.return,m)}try{Bl(5,t,t.return)}catch(m){Xe(t,t.return,m)}}break;case 1:Wn(e,t),rr(t),r&512&&n!==null&&qo(n,n.return);break;case 5:if(Wn(e,t),rr(t),r&512&&n!==null&&qo(n,n.return),t.flags&32){var i=t.stateNode;try{au(i,"")}catch(m){Xe(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&sS(i,s),Vg(a,o);var u=Vg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?cS(i,h):c==="dangerouslySetInnerHTML"?lS(i,h):c==="children"?au(i,h):Ry(i,c,h,u)}switch(a){case"input":Dg(i,s);break;case"textarea":oS(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Jo(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Jo(i,!!s.multiple,s.defaultValue,!0):Jo(i,!!s.multiple,s.multiple?[]:"",!1))}i[gu]=s}catch(m){Xe(t,t.return,m)}}break;case 6:if(Wn(e,t),rr(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Xe(t,t.return,m)}}break;case 3:if(Wn(e,t),rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hu(e.containerInfo)}catch(m){Xe(t,t.return,m)}break;case 4:Wn(e,t),rr(t);break;case 13:Wn(e,t),rr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cv=st())),r&4&&Aw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(u=zt)||c,Wn(e,t),zt=u):Wn(e,t),rr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Q=t,c=t.child;c!==null;){for(h=Q=c;Q!==null;){switch(d=Q,f=d.child,d.tag){case 0:case 11:case 14:case 15:Bl(4,d,d.return);break;case 1:qo(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Xe(r,n,m)}}break;case 5:qo(d,d.return);break;case 22:if(d.memoizedState!==null){Pw(h);continue}}f!==null?(f.return=d,Q=f):Pw(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uS("display",o))}catch(m){Xe(t,t.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Xe(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wn(e,t),rr(t),r&4&&Aw(t);break;case 21:break;default:Wn(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LC(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(au(i,""),r.flags&=-33);var s=Iw(t);p0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Iw(t);f0(t,a,o);break;default:throw Error(F(161))}}catch(l){Xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uN(t,e,n){Q=t,$C(t)}function $C(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||rh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||zt;a=rh;var u=zt;if(rh=o,(zt=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?Rw(i):l!==null?(l.return=o,Q=l):Rw(i);for(;s!==null;)Q=s,$C(s),s=s.sibling;Q=i,rh=a,zt=u}kw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):kw(t)}}function kw(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||Uf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&dw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&hu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}zt||e.flags&512&&d0(e)}catch(d){Xe(e,e.return,d)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Pw(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Rw(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uf(4,e)}catch(l){Xe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Xe(e,i,l)}}var s=e.return;try{d0(e)}catch(l){Xe(e,s,l)}break;case 5:var o=e.return;try{d0(e)}catch(l){Xe(e,o,l)}}}catch(l){Xe(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var cN=Math.ceil,Rd=ri.ReactCurrentDispatcher,lv=ri.ReactCurrentOwner,jn=ri.ReactCurrentBatchConfig,Ee=0,xt=null,ut=null,Dt=0,vn=0,Go=rs(0),mt=0,xu=null,Us=0,zf=0,uv=0,Wl=null,ln=null,cv=0,va=1/0,jr=null,Od=!1,m0=null,Ni=null,ih=!1,Ei=null,Dd=0,Hl=0,g0=null,Kh=-1,Yh=0;function en(){return Ee&6?st():Kh!==-1?Kh:Kh=st()}function Mi(t){return t.mode&1?Ee&2&&Dt!==0?Dt&-Dt:GD.transition!==null?(Yh===0&&(Yh=xS()),Yh):(t=ke,t!==0||(t=window.event,t=t===void 0?16:kS(t.type)),t):1}function Jn(t,e,n,r){if(50<Hl)throw Hl=0,g0=null,Error(F(185));sc(t,n,r),(!(Ee&2)||t!==xt)&&(t===xt&&(!(Ee&2)&&(zf|=n),mt===4&&pi(t,Dt)),mn(t,r),n===1&&Ee===0&&!(e.mode&1)&&(va=st()+500,Vf&&is()))}function mn(t,e){var n=t.callbackNode;GO(t,e);var r=gd(t,t===xt?Dt:0);if(r===0)n!==null&&j1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&j1(n),e===1)t.tag===0?qD(Ow.bind(null,t)):KS(Ow.bind(null,t)),zD(function(){!(Ee&6)&&is()}),n=null;else{switch(TS(r)){case 1:n=Ly;break;case 4:n=wS;break;case 16:n=md;break;case 536870912:n=ES;break;default:n=md}n=GC(n,jC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jC(t,e){if(Kh=-1,Yh=0,Ee&6)throw Error(F(327));var n=t.callbackNode;if(ra()&&t.callbackNode!==n)return null;var r=gd(t,t===xt?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nd(t,r);else{e=r;var i=Ee;Ee|=2;var s=zC();(xt!==t||Dt!==e)&&(jr=null,va=st()+500,Ps(t,e));do try{fN();break}catch(a){UC(t,a)}while(1);Yy(),Rd.current=s,Ee=i,ut!==null?e=0:(xt=null,Dt=0,e=mt)}if(e!==0){if(e===2&&(i=Bg(t),i!==0&&(r=i,e=y0(t,i))),e===1)throw n=xu,Ps(t,0),pi(t,r),mn(t,st()),n;if(e===6)pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!hN(i)&&(e=Nd(t,r),e===2&&(s=Bg(t),s!==0&&(r=s,e=y0(t,s))),e===1))throw n=xu,Ps(t,0),pi(t,r),mn(t,st()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:ms(t,ln,jr);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=cv+500-st(),10<e)){if(gd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xg(ms.bind(null,t,ln,jr),e);break}ms(t,ln,jr);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Xn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cN(r/1960))-r,10<r){t.timeoutHandle=Xg(ms.bind(null,t,ln,jr),r);break}ms(t,ln,jr);break;case 5:ms(t,ln,jr);break;default:throw Error(F(329))}}}return mn(t,st()),t.callbackNode===n?jC.bind(null,t):null}function y0(t,e){var n=Wl;return t.current.memoizedState.isDehydrated&&(Ps(t,e).flags|=256),t=Nd(t,e),t!==2&&(e=ln,ln=n,e!==null&&v0(e)),t}function v0(t){ln===null?ln=t:ln.push.apply(ln,t)}function hN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~uv,e&=~zf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xn(e),r=1<<n;t[n]=-1,e&=~r}}function Ow(t){if(Ee&6)throw Error(F(327));ra();var e=gd(t,0);if(!(e&1))return mn(t,st()),null;var n=Nd(t,e);if(t.tag!==0&&n===2){var r=Bg(t);r!==0&&(e=r,n=y0(t,r))}if(n===1)throw n=xu,Ps(t,0),pi(t,e),mn(t,st()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ms(t,ln,jr),mn(t,st()),null}function hv(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(va=st()+500,Vf&&is())}}function zs(t){Ei!==null&&Ei.tag===0&&!(Ee&6)&&ra();var e=Ee;Ee|=1;var n=jn.transition,r=ke;try{if(jn.transition=null,ke=1,t)return t()}finally{ke=r,jn.transition=n,Ee=e,!(Ee&6)&&is()}}function dv(){vn=Go.current,Ue(Go)}function Ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UD(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(qy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ed();break;case 3:ga(),Ue(fn),Ue(Gt),tv();break;case 5:ev(r);break;case 4:ga();break;case 13:Ue(qe);break;case 19:Ue(qe);break;case 10:Qy(r.type._context);break;case 22:case 23:dv()}n=n.return}if(xt=t,ut=t=Li(t.current,null),Dt=vn=e,mt=0,xu=null,uv=zf=Us=0,ln=Wl=null,xs!==null){for(e=0;e<xs.length;e++)if(n=xs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}xs=null}return t}function UC(t,e){do{var n=ut;try{if(Yy(),Hh.current=Pd,kd){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kd=!1}if(js=0,wt=pt=Ke=null,zl=!1,_u=0,lv.current=null,n===null||n.return===null){mt=1,xu=e,ut=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=_w(o);if(f!==null){f.flags&=-257,ww(f,o,a,s,e),f.mode&1&&vw(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){vw(s,u,e),fv();break e}l=Error(F(426))}}else if(We&&a.mode&1){var y=_w(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ww(y,o,a,s,e),Gy(ya(l,a));break e}}s=l=ya(l,a),mt!==4&&(mt=2),Wl===null?Wl=[s]:Wl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=bC(s,l,e);hw(s,g);break e;case 1:a=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ni===null||!Ni.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=SC(s,a,e);hw(s,E);break e}}s=s.return}while(s!==null)}WC(n)}catch(T){e=T,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(1)}function zC(){var t=Rd.current;return Rd.current=Pd,t===null?Pd:t}function fv(){(mt===0||mt===3||mt===2)&&(mt=4),xt===null||!(Us&268435455)&&!(zf&268435455)||pi(xt,Dt)}function Nd(t,e){var n=Ee;Ee|=2;var r=zC();(xt!==t||Dt!==e)&&(jr=null,Ps(t,e));do try{dN();break}catch(i){UC(t,i)}while(1);if(Yy(),Ee=n,Rd.current=r,ut!==null)throw Error(F(261));return xt=null,Dt=0,mt}function dN(){for(;ut!==null;)BC(ut)}function fN(){for(;ut!==null&&!VO();)BC(ut)}function BC(t){var e=qC(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?WC(t):ut=e,lv.current=null}function WC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oN(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ut=null;return}}else if(n=sN(n,e,vn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);mt===0&&(mt=5)}function ms(t,e,n){var r=ke,i=jn.transition;try{jn.transition=null,ke=1,pN(t,e,n,r)}finally{jn.transition=i,ke=r}return null}function pN(t,e,n,r){do ra();while(Ei!==null);if(Ee&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(KO(t,s),t===xt&&(ut=xt=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ih||(ih=!0,GC(md,function(){return ra(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=jn.transition,jn.transition=null;var o=ke;ke=1;var a=Ee;Ee|=4,lv.current=null,lN(t,n),VC(n,t),ND(Yg),yd=!!Kg,Yg=Kg=null,t.current=n,uN(n),$O(),Ee=a,ke=o,jn.transition=s}else t.current=n;if(ih&&(ih=!1,Ei=t,Dd=i),s=t.pendingLanes,s===0&&(Ni=null),zO(n.stateNode),mn(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Od)throw Od=!1,t=m0,m0=null,t;return Dd&1&&t.tag!==0&&ra(),s=t.pendingLanes,s&1?t===g0?Hl++:(Hl=0,g0=t):Hl=0,is(),null}function ra(){if(Ei!==null){var t=TS(Dd),e=jn.transition,n=ke;try{if(jn.transition=null,ke=16>t?16:t,Ei===null)var r=!1;else{if(t=Ei,Ei=null,Dd=0,Ee&6)throw Error(F(331));var i=Ee;for(Ee|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:Bl(8,c,s)}var h=c.child;if(h!==null)h.return=c,Q=h;else for(;Q!==null;){c=Q;var d=c.sibling,f=c.return;if(MC(c),c===u){Q=null;break}if(d!==null){d.return=f,Q=d;break}Q=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Q=g;break e}Q=s.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uf(9,a)}}catch(T){Xe(a,a.return,T)}if(a===o){Q=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Q=E;break e}Q=a.return}}if(Ee=i,is(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(Df,t)}catch{}r=!0}return r}finally{ke=n,jn.transition=e}}return!1}function Dw(t,e,n){e=ya(n,e),e=bC(t,e,1),t=Di(t,e,1),e=en(),t!==null&&(sc(t,1,e),mn(t,e))}function Xe(t,e,n){if(t.tag===3)Dw(t,t,n);else for(;e!==null;){if(e.tag===3){Dw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ni===null||!Ni.has(r))){t=ya(n,t),t=SC(e,t,1),e=Di(e,t,1),t=en(),e!==null&&(sc(e,1,t),mn(e,t));break}}e=e.return}}function mN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Dt&n)===n&&(mt===4||mt===3&&(Dt&130023424)===Dt&&500>st()-cv?Ps(t,0):uv|=n),mn(t,e)}function HC(t,e){e===0&&(t.mode&1?(e=Kc,Kc<<=1,!(Kc&130023424)&&(Kc=4194304)):e=1);var n=en();t=Xr(t,e),t!==null&&(sc(t,e,n),mn(t,n))}function gN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HC(t,n)}function yN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),HC(t,n)}var qC;qC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,iN(t,e,n);dn=!!(t.flags&131072)}else dn=!1,We&&e.flags&1048576&&YS(e,bd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gh(t,e),t=e.pendingProps;var i=fa(e,Gt.current);na(e,n),i=rv(null,e,r,t,i,n);var s=iv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(s=!0,xd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jy(e),i.updater=$f,e.stateNode=i,i._reactInternals=e,i0(e,r,t,n),e=a0(null,e,r,!0,s,n)):(e.tag=0,We&&s&&Hy(e),Jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_N(r),t=qn(r,t),i){case 0:e=o0(null,e,r,t,n);break e;case 1:e=Tw(null,e,r,t,n);break e;case 11:e=Ew(null,e,r,t,n);break e;case 14:e=xw(null,e,r,qn(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),o0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Tw(t,e,r,i,n);case 3:e:{if(kC(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZS(t,e),Id(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ya(Error(F(423)),e),e=bw(t,e,r,n,i);break e}else if(r!==i){i=ya(Error(F(424)),e),e=bw(t,e,r,n,i);break e}else for(_n=Oi(e.stateNode.containerInfo.firstChild),bn=e,We=!0,Kn=null,n=rC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pa(),r===i){e=Jr(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return iC(e),t===null&&t0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Qg(r,i)?o=null:s!==null&&Qg(r,s)&&(e.flags|=32),AC(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&t0(e),null;case 13:return PC(t,e,n);case 4:return Zy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ma(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Ew(t,e,r,i,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Le(Sd,r._currentValue),r._currentValue=o,s!==null)if(Zn(s.value,o)){if(s.children===i.children&&!fn.current){e=Jr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Kr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),n0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),n0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,na(e,n),i=zn(i),r=r(i),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,i=qn(r,e.pendingProps),i=qn(r.type,i),xw(t,e,r,i,n);case 15:return CC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Gh(t,e),e.tag=1,pn(r)?(t=!0,xd(e)):t=!1,na(e,n),tC(e,r,i),i0(e,r,i,n),a0(null,e,r,!0,t,n);case 19:return RC(t,e,n);case 22:return IC(t,e,n)}throw Error(F(156,e.tag))};function GC(t,e){return _S(t,e)}function vN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,r){return new vN(t,e,n,r)}function pv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _N(t){if(typeof t=="function")return pv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dy)return 11;if(t===Ny)return 14}return 2}function Li(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")pv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fo:return Rs(n.children,i,s,e);case Oy:o=8,i|=8;break;case Ag:return t=Vn(12,n,e,i|2),t.elementType=Ag,t.lanes=s,t;case kg:return t=Vn(13,n,e,i),t.elementType=kg,t.lanes=s,t;case Pg:return t=Vn(19,n,e,i),t.elementType=Pg,t.lanes=s,t;case nS:return Bf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eS:o=10;break e;case tS:o=9;break e;case Dy:o=11;break e;case Ny:o=14;break e;case ci:o=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=Vn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Rs(t,e,n,r){return t=Vn(7,t,r,e),t.lanes=n,t}function Bf(t,e,n,r){return t=Vn(22,t,r,e),t.elementType=nS,t.lanes=n,t.stateNode={isHidden:!1},t}function Mm(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function Lm(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gm(0),this.expirationTimes=gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mv(t,e,n,r,i,s,o,a,l){return t=new wN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jy(s),t}function EN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KC(t){if(!t)return Ki;t=t._reactInternals;e:{if(so(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(pn(n))return GS(t,n,e)}return e}function YC(t,e,n,r,i,s,o,a,l){return t=mv(n,r,!0,t,i,s,o,a,l),t.context=KC(null),n=t.current,r=en(),i=Mi(n),s=Kr(r,i),s.callback=e??null,Di(n,s,i),t.current.lanes=i,sc(t,i,r),mn(t,r),t}function Wf(t,e,n,r){var i=e.current,s=en(),o=Mi(i);return n=KC(n),e.context===null?e.context=n:e.pendingContext=n,e=Kr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Di(i,e,o),t!==null&&(Jn(t,i,o,s),Wh(t,i,o)),o}function Md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gv(t,e){Nw(t,e),(t=t.alternate)&&Nw(t,e)}function xN(){return null}var QC=typeof reportError=="function"?reportError:function(t){console.error(t)};function yv(t){this._internalRoot=t}Hf.prototype.render=yv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Wf(t,e,null,null)};Hf.prototype.unmount=yv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){Wf(null,t,null,null)}),e[Qr]=null}};function Hf(t){this._internalRoot=t}Hf.prototype.unstable_scheduleHydration=function(t){if(t){var e=CS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fi.length&&e!==0&&e<fi[n].priority;n++);fi.splice(n,0,t),n===0&&AS(t)}};function vv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mw(){}function TN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Md(o);s.call(u)}}var o=YC(e,r,t,0,null,!1,!1,"",Mw);return t._reactRootContainer=o,t[Qr]=o.current,pu(t.nodeType===8?t.parentNode:t),zs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Md(l);a.call(u)}}var l=mv(t,0,!1,null,null,!1,!1,"",Mw);return t._reactRootContainer=l,t[Qr]=l.current,pu(t.nodeType===8?t.parentNode:t),zs(function(){Wf(e,l,n,r)}),l}function Gf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Md(o);a.call(l)}}Wf(e,o,t,i)}else o=TN(n,e,t,i,r);return Md(o)}bS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vl(e.pendingLanes);n!==0&&(Fy(e,n|1),mn(e,st()),!(Ee&6)&&(va=st()+500,is()))}break;case 13:zs(function(){var r=Xr(t,1);if(r!==null){var i=en();Jn(r,t,1,i)}}),gv(t,1)}};Vy=function(t){if(t.tag===13){var e=Xr(t,134217728);if(e!==null){var n=en();Jn(e,t,134217728,n)}gv(t,134217728)}};SS=function(t){if(t.tag===13){var e=Mi(t),n=Xr(t,e);if(n!==null){var r=en();Jn(n,t,e,r)}gv(t,e)}};CS=function(){return ke};IS=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};jg=function(t,e,n){switch(e){case"input":if(Dg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ff(r);if(!i)throw Error(F(90));iS(r),Dg(r,i)}}}break;case"textarea":oS(t,n);break;case"select":e=n.value,e!=null&&Jo(t,!!n.multiple,e,!1)}};fS=hv;pS=zs;var bN={usingClientEntryPoint:!1,Events:[ac,Uo,Ff,hS,dS,hv]},nl={findFiberByHostInstance:Es,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},SN={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yS(t),t===null?null:t.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||xN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{Df=sh.inject(SN),vr=sh}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bN;In.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vv(e))throw Error(F(200));return EN(t,e,null,n)};In.createRoot=function(t,e){if(!vv(t))throw Error(F(299));var n=!1,r="",i=QC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mv(t,1,!1,null,null,n,!1,r,i),t[Qr]=e.current,pu(t.nodeType===8?t.parentNode:t),new yv(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=yS(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return zs(t)};In.hydrate=function(t,e,n){if(!qf(e))throw Error(F(200));return Gf(null,t,e,!0,n)};In.hydrateRoot=function(t,e,n){if(!vv(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=QC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=YC(e,null,t,1,n??null,i,!1,s,o),t[Qr]=e.current,pu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hf(e)};In.render=function(t,e,n){if(!qf(e))throw Error(F(200));return Gf(null,t,e,!1,n)};In.unmountComponentAtNode=function(t){if(!qf(t))throw Error(F(40));return t._reactRootContainer?(zs(function(){Gf(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};In.unstable_batchedUpdates=hv;In.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qf(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Gf(t,e,n,!1,r)};In.version="18.2.0-next-9e3b772b8-20220608";function XC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XC)}catch(t){console.error(t)}}XC(),Yb.exports=In;var _v=Yb.exports;const wl=ro(_v);var Lw=_v;Cg.createRoot=Lw.createRoot,Cg.hydrateRoot=Lw.hydrateRoot;/**
 * @remix-run/router v1.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tu.apply(this,arguments)}var xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xi||(xi={}));const Fw="popstate";function CN(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=oo(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),_0("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:Ld(s))}function r(i,s){Kf(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return AN(e,n,r,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IN(){return Math.random().toString(36).substr(2,8)}function Vw(t,e){return{usr:t.state,key:t.key,idx:e}}function _0(t,e,n,r){return n===void 0&&(n=null),Tu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oo(e):e,{state:n,key:e&&e.key||r||IN()})}function Ld(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function oo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function AN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=xi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Tu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=xi.Pop;let y=c(),g=y==null?null:y-u;u=y,l&&l({action:a,location:m.location,delta:g})}function d(y,g){a=xi.Push;let v=_0(m.location,y,g);n&&n(v,y),u=c()+1;let w=Vw(v,u),E=m.createHref(v);try{o.pushState(w,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}s&&l&&l({action:a,location:m.location,delta:1})}function f(y,g){a=xi.Replace;let v=_0(m.location,y,g);n&&n(v,y),u=c();let w=Vw(v,u),E=m.createHref(v);o.replaceState(w,"",E),s&&l&&l({action:a,location:m.location,delta:0})}function p(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:Ld(y);return Nt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Fw,h),l=y,()=>{i.removeEventListener(Fw,h),l=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let g=p(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:f,go(y){return o.go(y)}};return m}var $w;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($w||($w={}));function kN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?oo(e):e,i=wv(r.pathname||"/",n);if(i==null)return null;let s=JC(t);PN(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=$N(s[a],zN(i));return o}function JC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Fi([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),JC(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:FN(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ZC(s.path))i(s,o,l)}),e}function ZC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ZC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function PN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const RN=/^:\w+$/,ON=3,DN=2,NN=1,MN=10,LN=-2,jw=t=>t==="*";function FN(t,e){let n=t.split("/"),r=n.length;return n.some(jw)&&(r+=LN),e&&(r+=DN),n.filter(i=>!jw(i)).reduce((i,s)=>i+(RN.test(s)?ON:s===""?NN:MN),r)}function VN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $N(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=jN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Fi([i,c.pathname]),pathnameBase:qN(Fi([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Fi([i,c.pathnameBase]))}return s}function jN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=BN(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function UN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Kf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zN(t){try{return decodeURI(t)}catch(e){return Kf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function BN(t,e){try{return decodeURIComponent(t)}catch(n){return Kf(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function wv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?oo(t):t;return{pathname:n?n.startsWith("/")?n:HN(n,e):e,search:GN(r),hash:KN(i)}}function HN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tI(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=oo(t):(i=Tu({},t),Nt(!i.pathname||!i.pathname.includes("?"),Fm("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),Fm("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),Fm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=WN(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Fi=t=>t.join("/").replace(/\/\/+/g,"/"),qN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nI=["post","put","patch","delete"];new Set(nI);const QN=["get",...nI];new Set(QN);/**
 * React Router v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(this,arguments)}const Ev=x.createContext(null),XN=x.createContext(null),La=x.createContext(null),Yf=x.createContext(null),ss=x.createContext({outlet:null,matches:[],isDataRoute:!1}),rI=x.createContext(null);function JN(t,e){let{relative:n}=e===void 0?{}:e;uc()||Nt(!1);let{basename:r,navigator:i}=x.useContext(La),{hash:s,pathname:o,search:a}=sI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Fi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function uc(){return x.useContext(Yf)!=null}function cc(){return uc()||Nt(!1),x.useContext(Yf).location}function iI(t){x.useContext(La).static||x.useLayoutEffect(t)}function hc(){let{isDataRoute:t}=x.useContext(ss);return t?fM():ZN()}function ZN(){uc()||Nt(!1);let t=x.useContext(Ev),{basename:e,navigator:n}=x.useContext(La),{matches:r}=x.useContext(ss),{pathname:i}=cc(),s=JSON.stringify(eI(r).map(l=>l.pathnameBase)),o=x.useRef(!1);return iI(()=>{o.current=!0}),x.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=tI(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Fi([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}const eM=x.createContext(null);function tM(t){let e=x.useContext(ss).outlet;return e&&x.createElement(eM.Provider,{value:t},e)}function sI(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=x.useContext(ss),{pathname:i}=cc(),s=JSON.stringify(eI(r).map(o=>o.pathnameBase));return x.useMemo(()=>tI(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function nM(t,e){return rM(t,e)}function rM(t,e,n){uc()||Nt(!1);let{navigator:r}=x.useContext(La),{matches:i}=x.useContext(ss),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=cc(),u;if(e){var c;let m=typeof e=="string"?oo(e):e;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||Nt(!1),u=m}else u=l;let h=u.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",f=kN(t,{pathname:d}),p=lM(f&&f.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:Fi([a,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:Fi([a,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n);return e&&p?x.createElement(Yf.Provider,{value:{location:Fd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:xi.Pop}},p):p}function iM(){let t=dM(),e=YN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,s)}const sM=x.createElement(iM,null);class oM extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(ss.Provider,{value:this.props.routeContext},x.createElement(rI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aM(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(Ev);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ss.Provider,{value:e},r)}function lM(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Nt(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||sM);let d=e.concat(s.slice(0,u+1)),f=()=>{let p;return c?p=h:l.route.Component?p=x.createElement(l.route.Component,null):l.route.element?p=l.route.element:p=a,x.createElement(aM,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:p})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?x.createElement(oM,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:f(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):f()},null)}var oI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oI||{}),Vd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vd||{});function uM(t){let e=x.useContext(Ev);return e||Nt(!1),e}function cM(t){let e=x.useContext(XN);return e||Nt(!1),e}function hM(t){let e=x.useContext(ss);return e||Nt(!1),e}function aI(t){let e=hM(),n=e.matches[e.matches.length-1];return n.route.id||Nt(!1),n.route.id}function dM(){var t;let e=x.useContext(rI),n=cM(Vd.UseRouteError),r=aI(Vd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function fM(){let{router:t}=uM(oI.UseNavigateStable),e=aI(Vd.UseNavigateStable),n=x.useRef(!1);return iI(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fd({fromRouteId:e},s)))},[t,e])}function lI(t){return tM(t.context)}function pM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=xi.Pop,navigator:s,static:o=!1}=t;uc()&&Nt(!1);let a=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=oo(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:f="default"}=r,p=x.useMemo(()=>{let m=wv(u,a);return m==null?null:{location:{pathname:m,search:c,hash:h,state:d,key:f},navigationType:i}},[a,u,c,h,d,f,i]);return p==null?null:x.createElement(La.Provider,{value:l},x.createElement(Yf.Provider,{children:n,value:p}))}new Promise(()=>{});/**
 * React Router DOM v6.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w0(){return w0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w0.apply(this,arguments)}function mM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yM(t,e){return t.button===0&&(!e||e==="_self")&&!gM(t)}const vM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_M="startTransition",Uw=gO[_M];function wM(t){let{basename:e,children:n,future:r,window:i}=t,s=x.useRef();s.current==null&&(s.current=CN({window:i,v5Compat:!0}));let o=s.current,[a,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=x.useCallback(h=>{u&&Uw?Uw(()=>l(h)):l(h)},[l,u]);return x.useLayoutEffect(()=>o.listen(c),[o,c]),x.createElement(pM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const EM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dc=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,d=mM(e,vM),{basename:f}=x.useContext(La),p,m=!1;if(typeof u=="string"&&xM.test(u)&&(p=u,EM))try{let w=new URL(window.location.href),E=u.startsWith("//")?new URL(w.protocol+u):new URL(u),T=wv(E.pathname,f);E.origin===w.origin&&T!=null?u=T+E.search+E.hash:m=!0}catch{}let y=JN(u,{relative:i}),g=TM(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function v(w){r&&r(w),w.defaultPrevented||g(w)}return x.createElement("a",w0({},d,{href:p||y,onClick:m||s?r:v,ref:n,target:l}))});var zw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zw||(zw={}));var Bw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Bw||(Bw={}));function TM(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=hc(),u=cc(),c=sI(t,{relative:o});return x.useCallback(h=>{if(yM(h,n)){h.preventDefault();let d=r!==void 0?r:Ld(u)===Ld(c);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}const bM=()=>_.jsx("footer",{className:"bg-white  py-5 border-t",children:_.jsxs("div",{className:"container px-6 py-8 mx-auto",children:[_.jsxs("div",{className:"flex flex-col items-center text-center",children:[_.jsx("a",{href:"#",children:_.jsx("img",{className:"my-2 w-auto h-7",src:"https://hitu.edu.vn/wp-content/themes/hitutheme/assets/images/logo.png",alt:""})}),_.jsx("h5",{className:"font-bold",children:"TRƯỜNG CAO ĐẲNG CÔNG THƯƠNG TP. HỒ CHÍ MINH"}),_.jsx("p",{className:"max-w-md text-gray-400 text-[12px] mx-auto mt-1 dark:text-gray-400",children:"Địa chỉ: Số 20 Tăng Nhơn Phú - Phường Phước Long B - Thành phố Thủ Đức - TP. Hồ Chí Minh"}),_.jsxs("div",{className:"flex flex-col mt-4 sm:flex-row sm:items-center sm:justify-center",children:[_.jsxs("a",{href:"https://fit-hitu.edu.vn/",className:"flex items-center justify-center order-1 w-full px-2 py-2 mt-3 text-sm tracking-wide text-gray-600 capitalize transition-colors duration-300 transform border rounded-md sm:mx-2 dark:border-gray-400 dark:text-gray-300 sm:mt-0 sm:w-auto hover:bg-gray-50 focus:outline-none focus:ring dark:hover:bg-gray-800 focus:ring-gray-300 focus:ring-opacity-40",children:[_.jsx("svg",{className:"w-5 h-5 mx-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C21.9939 17.5203 17.5203 21.9939 12 22ZM4 12.172C4.04732 16.5732 7.64111 20.1095 12.0425 20.086C16.444 20.0622 19.9995 16.4875 19.9995 12.086C19.9995 7.68451 16.444 4.10977 12.0425 4.086C7.64111 4.06246 4.04732 7.59876 4 12V12.172ZM10 16.5V7.5L16 12L10 16.5Z",fill:"currentColor"})}),_.jsx("span",{className:"mx-1",children:"Khoa CNTT"})]}),_.jsx("a",{href:"https://hitu.edu.vn/",className:"w-full px-5 py-2 text-sm tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-600 rounded-md sm:mx-2 sm:order-2 sm:w-auto hover:bg-blue-500 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-80",children:"Trang chủ"}),_.jsx(dc,{to:"/admin",className:"w-full px-5 py-2 text-sm tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-600 rounded-md sm:mx-2 sm:order-2 sm:w-auto hover:bg-blue-500 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-80",children:"Quản trị viên"})]})]}),_.jsx("hr",{className:"my-10 border-gray-200 dark:border-gray-700"}),_.jsxs("div",{className:"flex flex-col items-center sm:flex-row sm:justify-between",children:[_.jsx("p",{className:"text-sm text-gray-500",children:"© Copyright 2023. All Rights Reserved."}),_.jsxs("div",{className:"flex mt-3 -mx-2 sm:mt-0",children:[_.jsxs("a",{href:"#",className:"mx-2 text-sm text-gray-500 transition-colors duration-300 hover:text-gray-500 dark:hover:text-gray-300","aria-label":"Reddit",children:[" ","Teams"," "]}),_.jsxs("a",{href:"#",className:"mx-2 text-sm text-gray-500 transition-colors duration-300 hover:text-gray-500 dark:hover:text-gray-300","aria-label":"Reddit",children:[" ","Privacy"," "]}),_.jsxs("a",{href:"#",className:"mx-2 text-sm text-gray-500 transition-colors duration-300 hover:text-gray-500 dark:hover:text-gray-300","aria-label":"Reddit",children:[" ","Cookies"," "]})]})]})]})});var uI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ww=K.createContext&&K.createContext(uI),Vi=globalThis&&globalThis.__assign||function(){return Vi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Vi.apply(this,arguments)},SM=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function cI(t){return t&&t.map(function(e,n){return K.createElement(e.tag,Vi({key:n},e.attr),cI(e.child))})}function ao(t){return function(e){return K.createElement(CM,Vi({attr:Vi({},t.attr)},e),cI(t.child))}}function CM(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=SM(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),K.createElement("svg",Vi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Vi(Vi({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&K.createElement("title",null,s),t.children)};return Ww!==void 0?K.createElement(Ww.Consumer,null,function(n){return e(n)}):e(uI)}function E0(t){return ao({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M864 260H728l-32.4-90.8a32.07 32.07 0 0 0-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 260H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V340c0-44.2-35.8-80-80-80zM512 716c-88.4 0-160-71.6-160-160s71.6-160 160-160 160 71.6 160 160-71.6 160-160 160zm-96-160a96 96 0 1 0 192 0 96 96 0 1 0-192 0z"}}]})(t)}function IM(t){return ao({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm104 316.9c0 10.2-4.9 19.9-13.2 25.9L457.4 512l145.4 105.2c8.3 6 13.2 15.6 13.2 25.9V690c0 6.5-7.4 10.3-12.7 6.5l-246-178a7.95 7.95 0 0 1 0-12.9l246-178a8 8 0 0 1 12.7 6.5v46.8z"}}]})(t)}function hI(t){return ao({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"}}]})(t)}function AM(t){return ao({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]})(t)}const kM=()=>_.jsx("div",{className:"",children:_.jsxs("div",{className:"flex flex-wrap gap-y-4 justify-between   items-center py-3  bg-white px-5 ",children:[_.jsx("div",{children:_.jsx("img",{className:"w-[500px] max-w-full",src:"https://fit-hitu.edu.vn/wp-content/themes/fittheme/assets/images/logo.png",alt:"image"})}),_.jsx("div",{className:"md:w-[300px] w-full",children:_.jsxs("form",{action:"",method:"post",className:"flex items-center",children:[_.jsx("input",{className:"border-b px-3 py-2 w-full md:w-[300px] outline-none focus:border-blue-600 focus:border-b-2 border-b-blue-500",type:"text",placeholder:"Tìm kiếm"}),_.jsx("button",{type:"submit",children:_.jsx(AM,{className:"text-2xl font-bold text-blue-500 bg-white"})})]})})]})}),PM=()=>_.jsx("div",{className:"bg-gray-200",children:_.jsxs("div",{className:"max-w-[1280px] mx-auto px-5",children:[_.jsx(kM,{}),_.jsx(lI,{}),_.jsx(bM,{})]})});function lo(t){this._maxSize=t,this.clear()}lo.prototype.clear=function(){this._size=0,this._values=Object.create(null)};lo.prototype.get=function(t){return this._values[t]};lo.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var RM=/[^.^\]^[]+|(?=\[\]|\.\.)/g,dI=/^\d+$/,OM=/^\d/,DM=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,NM=/^\s*(['"]?)(.*?)(\1)\s*$/,xv=512,Hw=new lo(xv),qw=new lo(xv),Gw=new lo(xv),Os={Cache:lo,split:x0,normalizePath:Vm,setter:function(t){var e=Vm(t);return qw.get(t)||qw.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=Vm(t);return Gw.get(t)||Gw.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(Tv(n)||dI.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){MM(Array.isArray(t)?t:x0(t),e,n)}};function Vm(t){return Hw.get(t)||Hw.set(t,x0(t).map(function(e){return e.replace(NM,"$2")}))}function x0(t){return t.match(RM)||[""]}function MM(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(VM(i)&&(i='"'+i+'"'),a=Tv(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function Tv(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function LM(t){return t.match(OM)&&!t.match(dI)}function FM(t){return DM.test(t)}function VM(t){return!Tv(t)&&(LM(t)||FM(t))}const $M=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Qf=t=>t.match($M)||[],Xf=t=>t[0].toUpperCase()+t.slice(1),bv=(t,e)=>Qf(t).join(e).toLowerCase(),fI=t=>Qf(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),jM=t=>Xf(fI(t)),UM=t=>bv(t,"_"),zM=t=>bv(t,"-"),BM=t=>Xf(bv(t," ")),WM=t=>Qf(t).map(Xf).join(" ");var $m={words:Qf,upperFirst:Xf,camelCase:fI,pascalCase:jM,snakeCase:UM,kebabCase:zM,sentenceCase:BM,titleCase:WM},Sv={exports:{}};Sv.exports=function(t){return pI(HM(t),t)};Sv.exports.array=pI;function pI(t,e){var n=t.length,r=new Array(n),i={},s=n,o=qM(e),a=GM(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,h){if(h.has(u)){var d;try{d=", node was:"+JSON.stringify(u)}catch{d=""}throw new Error("Cyclic dependency"+d)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var f=o.get(u)||new Set;if(f=Array.from(f),c=f.length){h.add(u);do{var p=f[--c];l(p,a.get(p),h)}while(c);h.delete(u)}r[--n]=u}}}function HM(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function qM(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function GM(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var KM=Sv.exports;const YM=ro(KM),QM=Object.prototype.toString,XM=Error.prototype.toString,JM=RegExp.prototype.toString,ZM=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",eL=/^Symbol\((.*)\)(.*)$/;function tL(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function Kw(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return tL(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return ZM.call(t).replace(eL,"Symbol($1)");const r=QM.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+XM.call(t)+"]":r==="RegExp"?JM.call(t):null}function $i(t,e){let n=Kw(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=Kw(this[r],e);return s!==null?s:i},2)}function mI(t){return t==null?[]:[].concat(t)}let gI,yI,vI,nL=/\$\{\s*(\w+)\s*\}/g;gI=Symbol.toStringTag;class Yw{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[gI]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],mI(e).forEach(s=>{if(un.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}yI=Symbol.hasInstance;vI=Symbol.toStringTag;class un extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(nL,(i,s)=>$i(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new Yw(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[vI]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,un)}static[yI](e){return Yw[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ar={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${$i(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${$i(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${$i(n,!0)}\``+i}},an={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},rL={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},T0={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},iL={isValue:"${path} field must be ${value}"},b0={noUnknown:"${path} field has unspecified keys: ${unknown}"},sL={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},oL={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${$i(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${$i(n,!0)}\``}return un.formatError(ar.notType,t)}};Object.assign(Object.create(null),{mixed:ar,string:an,number:rL,date:T0,object:b0,array:sL,boolean:iL,tuple:oL});const Cv=t=>t&&t.__isYupSchema__;class $d{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new $d(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!Cv(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const oh={context:"$",value:"."};let uo=class{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===oh.context,this.isValue=this.key[0]===oh.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?oh.context:this.isValue?oh.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Os.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}};uo.prototype.__isYupRef=!0;const bs=t=>t==null;function Io(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:h,message:d,skipAbsent:f}=t;let{parent:p,context:m,abortEarly:y=o.spec.abortEarly,disableStackTrace:g=o.spec.disableStackTrace}=i;function v(N){return uo.isRef(N)?N.getValue(n,p,m):N}function w(N={}){const $=Object.assign({value:n,originalValue:s,label:o.spec.label,path:N.path||r,spec:o.spec,disableStackTrace:N.disableStackTrace||g},h,N.params);for(const re of Object.keys($))$[re]=v($[re]);const Z=new un(un.formatError(N.message||d,$),n,$.path,N.type||u,$.disableStackTrace);return Z.params=$,Z}const E=y?a:l;let T={path:r,parent:p,type:u,from:i.from,createError:w,resolve:v,options:i,originalValue:s,schema:o};const b=N=>{un.isError(N)?E(N):N?l(null):E(w())},S=N=>{un.isError(N)?E(N):a(N)};if(f&&bs(n))return b(!0);let R;try{var P;if(R=c.call(T,n,T),typeof((P=R)==null?void 0:P.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${T.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(R).then(b,S)}}catch(N){S(N);return}b(R)}return e.OPTIONS=t,e}function aL(t,e,n,r=n){let i,s,o;return e?(Os.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let h=t.type==="tuple",d=u?parseInt(c,10):0;if(t.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&d>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[d],t=h?t.spec.types[d]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class jd extends Set{describe(){const e=[];for(const n of this.values())e.push(uo.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new jd(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Ko(t,e=new Map){if(Cv(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Ko(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Ko(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Ko(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Ko(i,e)}else throw Error(`Unable to clone ${t}`);return n}class Ir{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new jd,this._blacklist=new jd,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ar.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Ko(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&bs(s))return s;let o=$i(e),a=$i(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=m=>{i||(i=!0,n(m,o))},h=m=>{i||(i=!0,r(m,o))},d=s.length,f=[];if(!d)return h([]);let p={value:o,originalValue:a,path:l,options:u,schema:this};for(let m=0;m<s.length;m++){const y=s[m];y(p,c,function(v){v&&(Array.isArray(v)?f.push(...v):f.push(v)),--d<=0&&h(f)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(h,d,f)=>this.resolve(c)._validate(u,c,d,f)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{un.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new un(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw un.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new un(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(un.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(un.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Ko(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Io({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Io({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=ar.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=ar.notNull){return this.nullability(!1,e)}required(e=ar.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=ar.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Io(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=mI(e).map(s=>new uo(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new $d(i,n):$d.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Io({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=ar.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Io({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=ar.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Io({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(h=>h.name===l.name)===u)}}}Ir.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Ir.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=aL(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Ir.prototype[t]=Ir.prototype.oneOf;for(const t of["not","nope"])Ir.prototype[t]=Ir.prototype.notOneOf;const lL=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function uL(t){const e=S0(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function S0(t){var e,n;const r=lL.exec(t);return r?{year:Lr(r[1]),month:Lr(r[2],1)-1,day:Lr(r[3],1),hour:Lr(r[4]),minute:Lr(r[5]),second:Lr(r[6]),millisecond:r[7]?Lr(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Lr(r[10]),minuteOffset:Lr(r[11])}:null}function Lr(t,e=0){return Number(t)||e}let cL=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,hL=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,dL=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,fL="^\\d{4}-\\d{2}-\\d{2}",pL="\\d{2}:\\d{2}:\\d{2}",mL="(([+-]\\d{2}(:?\\d{2})?)|Z)",gL=new RegExp(`${fL}T${pL}(\\.\\d+)?${mL}$`),yL=t=>bs(t)||t===t.trim(),vL={}.toString();function Bs(){return new _I}class _I extends Ir{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===vL?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||ar.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=an.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=an.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=an.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||an.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=an.email){return this.matches(cL,{name:"email",message:e,excludeEmptyString:!0})}url(e=an.url){return this.matches(hL,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=an.uuid){return this.matches(dL,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(gL,{name:"datetime",message:n||an.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||an.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=S0(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||an.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=S0(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=an.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:yL})}lowercase(e=an.lowercase){return this.transform(n=>bs(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>bs(n)||n===n.toLowerCase()})}uppercase(e=an.uppercase){return this.transform(n=>bs(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>bs(n)||n===n.toUpperCase()})}}Bs.prototype=_I.prototype;let _L=new Date(""),wL=t=>Object.prototype.toString.call(t)==="[object Date]";class Jf extends Ir{constructor(){super({type:"date",check(e){return wL(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=uL(e),isNaN(e)?Jf.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(uo.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=T0.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=T0.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}Jf.INVALID_DATE=_L;Jf.prototype;function EL(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Os.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),uo.isRef(a)&&a.isSibling?s(a.path,o):Cv(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return YM.array(Array.from(r),n).reverse()}function Qw(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function wI(t){return(e,n)=>Qw(t,e)-Qw(t,n)}const xL=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Xh(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Xh(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Xh(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Xh)}):"optional"in t?t.optional():t}const TL=(t,e)=>{const n=[...Os.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Os.getter(Os.join(n),!0)(t);return!!(i&&r in i)};let Xw=t=>Object.prototype.toString.call(t)==="[object Object]";function bL(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const SL=wI([]);function Zf(t){return new EI(t)}class EI extends Ir{constructor(e){super({type:"object",check(n){return Xw(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=SL,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const h of a){let d=s[h],f=h in i;if(d){let p,m=i[h];u.path=(n.path?`${n.path}.`:"")+h,d=d.resolve({value:m,context:n.context,parent:l});let y=d instanceof Ir?d.spec:void 0,g=y==null?void 0:y.strict;if(y!=null&&y.strip){c=c||h in i;continue}p=!n.__validating||!g?d.cast(i[h],u):i[h],p!==void 0&&(l[h]=p)}else f&&!o&&(l[h]=i[h]);(f!==h in l||l[h]!==i[h])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!Xw(u)){i(l,u);return}o=o||u;let c=[];for(let h of this._nodes){let d=this.fields[h];!d||uo.isRef(d)||c.push(d.asNestedTest({options:n,key:h,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,h=>{i(h.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=EL(e,n),r._sortErrors=wI(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Xh(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=Os.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return TL(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(xL)}noUnknown(e=!0,n=b0.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=bL(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=b0.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys($m.camelCase)}snakeCase(){return this.transformKeys($m.snakeCase)}constantCase(){return this.transformKeys(e=>$m.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}Zf.prototype=EI.prototype;var CL=function(e){return IL(e)&&!AL(e)};function IL(t){return!!t&&typeof t=="object"}function AL(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||RL(t)}var kL=typeof Symbol=="function"&&Symbol.for,PL=kL?Symbol.for("react.element"):60103;function RL(t){return t.$$typeof===PL}function OL(t){return Array.isArray(t)?[]:{}}function Ud(t,e){return e.clone!==!1&&e.isMergeableObject(t)?bu(OL(t),t,e):t}function DL(t,e,n){return t.concat(e).map(function(r){return Ud(r,n)})}function NL(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Ud(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Ud(e[i],n):r[i]=bu(t[i],e[i],n)}),r}function bu(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||DL,n.isMergeableObject=n.isMergeableObject||CL;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):NL(t,e,n):Ud(e,n)}bu.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return bu(r,i,n)},{})};var C0=bu,ML=typeof global=="object"&&global&&global.Object===Object&&global;const xI=ML;var LL=typeof self=="object"&&self&&self.Object===Object&&self,FL=xI||LL||Function("return this")();const Pr=FL;var VL=Pr.Symbol;const Yi=VL;var TI=Object.prototype,$L=TI.hasOwnProperty,jL=TI.toString,rl=Yi?Yi.toStringTag:void 0;function UL(t){var e=$L.call(t,rl),n=t[rl];try{t[rl]=void 0;var r=!0}catch{}var i=jL.call(t);return r&&(e?t[rl]=n:delete t[rl]),i}var zL=Object.prototype,BL=zL.toString;function WL(t){return BL.call(t)}var HL="[object Null]",qL="[object Undefined]",Jw=Yi?Yi.toStringTag:void 0;function co(t){return t==null?t===void 0?qL:HL:Jw&&Jw in Object(t)?UL(t):WL(t)}function bI(t,e){return function(n){return t(e(n))}}var GL=bI(Object.getPrototypeOf,Object);const Iv=GL;function ho(t){return t!=null&&typeof t=="object"}var KL="[object Object]",YL=Function.prototype,QL=Object.prototype,SI=YL.toString,XL=QL.hasOwnProperty,JL=SI.call(Object);function Zw(t){if(!ho(t)||co(t)!=KL)return!1;var e=Iv(t);if(e===null)return!0;var n=XL.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&SI.call(n)==JL}function ZL(){this.__data__=[],this.size=0}function CI(t,e){return t===e||t!==t&&e!==e}function ep(t,e){for(var n=t.length;n--;)if(CI(t[n][0],e))return n;return-1}var eF=Array.prototype,tF=eF.splice;function nF(t){var e=this.__data__,n=ep(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():tF.call(e,n,1),--this.size,!0}function rF(t){var e=this.__data__,n=ep(e,t);return n<0?void 0:e[n][1]}function iF(t){return ep(this.__data__,t)>-1}function sF(t,e){var n=this.__data__,r=ep(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ii(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ii.prototype.clear=ZL;ii.prototype.delete=nF;ii.prototype.get=rF;ii.prototype.has=iF;ii.prototype.set=sF;function oF(){this.__data__=new ii,this.size=0}function aF(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function lF(t){return this.__data__.get(t)}function uF(t){return this.__data__.has(t)}function fc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var cF="[object AsyncFunction]",hF="[object Function]",dF="[object GeneratorFunction]",fF="[object Proxy]";function II(t){if(!fc(t))return!1;var e=co(t);return e==hF||e==dF||e==cF||e==fF}var pF=Pr["__core-js_shared__"];const jm=pF;var eE=function(){var t=/[^.]+$/.exec(jm&&jm.keys&&jm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function mF(t){return!!eE&&eE in t}var gF=Function.prototype,yF=gF.toString;function fo(t){if(t!=null){try{return yF.call(t)}catch{}try{return t+""}catch{}}return""}var vF=/[\\^$.*+?()[\]{}|]/g,_F=/^\[object .+?Constructor\]$/,wF=Function.prototype,EF=Object.prototype,xF=wF.toString,TF=EF.hasOwnProperty,bF=RegExp("^"+xF.call(TF).replace(vF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SF(t){if(!fc(t)||mF(t))return!1;var e=II(t)?bF:_F;return e.test(fo(t))}function CF(t,e){return t==null?void 0:t[e]}function po(t,e){var n=CF(t,e);return SF(n)?n:void 0}var IF=po(Pr,"Map");const Su=IF;var AF=po(Object,"create");const Cu=AF;function kF(){this.__data__=Cu?Cu(null):{},this.size=0}function PF(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var RF="__lodash_hash_undefined__",OF=Object.prototype,DF=OF.hasOwnProperty;function NF(t){var e=this.__data__;if(Cu){var n=e[t];return n===RF?void 0:n}return DF.call(e,t)?e[t]:void 0}var MF=Object.prototype,LF=MF.hasOwnProperty;function FF(t){var e=this.__data__;return Cu?e[t]!==void 0:LF.call(e,t)}var VF="__lodash_hash_undefined__";function $F(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Cu&&e===void 0?VF:e,this}function Ws(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ws.prototype.clear=kF;Ws.prototype.delete=PF;Ws.prototype.get=NF;Ws.prototype.has=FF;Ws.prototype.set=$F;function jF(){this.size=0,this.__data__={hash:new Ws,map:new(Su||ii),string:new Ws}}function UF(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function tp(t,e){var n=t.__data__;return UF(e)?n[typeof e=="string"?"string":"hash"]:n.map}function zF(t){var e=tp(this,t).delete(t);return this.size-=e?1:0,e}function BF(t){return tp(this,t).get(t)}function WF(t){return tp(this,t).has(t)}function HF(t,e){var n=tp(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function os(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}os.prototype.clear=jF;os.prototype.delete=zF;os.prototype.get=BF;os.prototype.has=WF;os.prototype.set=HF;var qF=200;function GF(t,e){var n=this.__data__;if(n instanceof ii){var r=n.__data__;if(!Su||r.length<qF-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new os(r)}return n.set(t,e),this.size=n.size,this}function Fa(t){var e=this.__data__=new ii(t);this.size=e.size}Fa.prototype.clear=oF;Fa.prototype.delete=aF;Fa.prototype.get=lF;Fa.prototype.has=uF;Fa.prototype.set=GF;function KF(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var YF=function(){try{var t=po(Object,"defineProperty");return t({},"",{}),t}catch{}}();const tE=YF;function AI(t,e,n){e=="__proto__"&&tE?tE(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var QF=Object.prototype,XF=QF.hasOwnProperty;function kI(t,e,n){var r=t[e];(!(XF.call(t,e)&&CI(r,n))||n===void 0&&!(e in t))&&AI(t,e,n)}function np(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?AI(n,a,l):kI(n,a,l)}return n}function JF(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ZF="[object Arguments]";function nE(t){return ho(t)&&co(t)==ZF}var PI=Object.prototype,e4=PI.hasOwnProperty,t4=PI.propertyIsEnumerable,n4=nE(function(){return arguments}())?nE:function(t){return ho(t)&&e4.call(t,"callee")&&!t4.call(t,"callee")};const r4=n4;var i4=Array.isArray;const pc=i4;function s4(){return!1}var RI=typeof xn=="object"&&xn&&!xn.nodeType&&xn,rE=RI&&typeof Tn=="object"&&Tn&&!Tn.nodeType&&Tn,o4=rE&&rE.exports===RI,iE=o4?Pr.Buffer:void 0,a4=iE?iE.isBuffer:void 0,l4=a4||s4;const OI=l4;var u4=9007199254740991,c4=/^(?:0|[1-9]\d*)$/;function h4(t,e){var n=typeof t;return e=e??u4,!!e&&(n=="number"||n!="symbol"&&c4.test(t))&&t>-1&&t%1==0&&t<e}var d4=9007199254740991;function DI(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=d4}var f4="[object Arguments]",p4="[object Array]",m4="[object Boolean]",g4="[object Date]",y4="[object Error]",v4="[object Function]",_4="[object Map]",w4="[object Number]",E4="[object Object]",x4="[object RegExp]",T4="[object Set]",b4="[object String]",S4="[object WeakMap]",C4="[object ArrayBuffer]",I4="[object DataView]",A4="[object Float32Array]",k4="[object Float64Array]",P4="[object Int8Array]",R4="[object Int16Array]",O4="[object Int32Array]",D4="[object Uint8Array]",N4="[object Uint8ClampedArray]",M4="[object Uint16Array]",L4="[object Uint32Array]",Ve={};Ve[A4]=Ve[k4]=Ve[P4]=Ve[R4]=Ve[O4]=Ve[D4]=Ve[N4]=Ve[M4]=Ve[L4]=!0;Ve[f4]=Ve[p4]=Ve[C4]=Ve[m4]=Ve[I4]=Ve[g4]=Ve[y4]=Ve[v4]=Ve[_4]=Ve[w4]=Ve[E4]=Ve[x4]=Ve[T4]=Ve[b4]=Ve[S4]=!1;function F4(t){return ho(t)&&DI(t.length)&&!!Ve[co(t)]}function Av(t){return function(e){return t(e)}}var NI=typeof xn=="object"&&xn&&!xn.nodeType&&xn,ql=NI&&typeof Tn=="object"&&Tn&&!Tn.nodeType&&Tn,V4=ql&&ql.exports===NI,Um=V4&&xI.process,$4=function(){try{var t=ql&&ql.require&&ql.require("util").types;return t||Um&&Um.binding&&Um.binding("util")}catch{}}();const _a=$4;var sE=_a&&_a.isTypedArray,j4=sE?Av(sE):F4;const U4=j4;var z4=Object.prototype,B4=z4.hasOwnProperty;function MI(t,e){var n=pc(t),r=!n&&r4(t),i=!n&&!r&&OI(t),s=!n&&!r&&!i&&U4(t),o=n||r||i||s,a=o?JF(t.length,String):[],l=a.length;for(var u in t)(e||B4.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||h4(u,l)))&&a.push(u);return a}var W4=Object.prototype;function kv(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||W4;return t===n}var H4=bI(Object.keys,Object);const q4=H4;var G4=Object.prototype,K4=G4.hasOwnProperty;function Y4(t){if(!kv(t))return q4(t);var e=[];for(var n in Object(t))K4.call(t,n)&&n!="constructor"&&e.push(n);return e}function LI(t){return t!=null&&DI(t.length)&&!II(t)}function Pv(t){return LI(t)?MI(t):Y4(t)}function Q4(t,e){return t&&np(e,Pv(e),t)}function X4(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var J4=Object.prototype,Z4=J4.hasOwnProperty;function e5(t){if(!fc(t))return X4(t);var e=kv(t),n=[];for(var r in t)r=="constructor"&&(e||!Z4.call(t,r))||n.push(r);return n}function Rv(t){return LI(t)?MI(t,!0):e5(t)}function t5(t,e){return t&&np(e,Rv(e),t)}var FI=typeof xn=="object"&&xn&&!xn.nodeType&&xn,oE=FI&&typeof Tn=="object"&&Tn&&!Tn.nodeType&&Tn,n5=oE&&oE.exports===FI,aE=n5?Pr.Buffer:void 0,lE=aE?aE.allocUnsafe:void 0;function r5(t,e){if(e)return t.slice();var n=t.length,r=lE?lE(n):new t.constructor(n);return t.copy(r),r}function VI(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function i5(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function $I(){return[]}var s5=Object.prototype,o5=s5.propertyIsEnumerable,uE=Object.getOwnPropertySymbols,a5=uE?function(t){return t==null?[]:(t=Object(t),i5(uE(t),function(e){return o5.call(t,e)}))}:$I;const Ov=a5;function l5(t,e){return np(t,Ov(t),e)}function jI(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var u5=Object.getOwnPropertySymbols,c5=u5?function(t){for(var e=[];t;)jI(e,Ov(t)),t=Iv(t);return e}:$I;const UI=c5;function h5(t,e){return np(t,UI(t),e)}function zI(t,e,n){var r=e(t);return pc(t)?r:jI(r,n(t))}function d5(t){return zI(t,Pv,Ov)}function f5(t){return zI(t,Rv,UI)}var p5=po(Pr,"DataView");const I0=p5;var m5=po(Pr,"Promise");const A0=m5;var g5=po(Pr,"Set");const k0=g5;var y5=po(Pr,"WeakMap");const P0=y5;var cE="[object Map]",v5="[object Object]",hE="[object Promise]",dE="[object Set]",fE="[object WeakMap]",pE="[object DataView]",_5=fo(I0),w5=fo(Su),E5=fo(A0),x5=fo(k0),T5=fo(P0),gs=co;(I0&&gs(new I0(new ArrayBuffer(1)))!=pE||Su&&gs(new Su)!=cE||A0&&gs(A0.resolve())!=hE||k0&&gs(new k0)!=dE||P0&&gs(new P0)!=fE)&&(gs=function(t){var e=co(t),n=e==v5?t.constructor:void 0,r=n?fo(n):"";if(r)switch(r){case _5:return pE;case w5:return cE;case E5:return hE;case x5:return dE;case T5:return fE}return e});const Dv=gs;var b5=Object.prototype,S5=b5.hasOwnProperty;function C5(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&S5.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var I5=Pr.Uint8Array;const mE=I5;function Nv(t){var e=new t.constructor(t.byteLength);return new mE(e).set(new mE(t)),e}function A5(t,e){var n=e?Nv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var k5=/\w*$/;function P5(t){var e=new t.constructor(t.source,k5.exec(t));return e.lastIndex=t.lastIndex,e}var gE=Yi?Yi.prototype:void 0,yE=gE?gE.valueOf:void 0;function R5(t){return yE?Object(yE.call(t)):{}}function O5(t,e){var n=e?Nv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var D5="[object Boolean]",N5="[object Date]",M5="[object Map]",L5="[object Number]",F5="[object RegExp]",V5="[object Set]",$5="[object String]",j5="[object Symbol]",U5="[object ArrayBuffer]",z5="[object DataView]",B5="[object Float32Array]",W5="[object Float64Array]",H5="[object Int8Array]",q5="[object Int16Array]",G5="[object Int32Array]",K5="[object Uint8Array]",Y5="[object Uint8ClampedArray]",Q5="[object Uint16Array]",X5="[object Uint32Array]";function J5(t,e,n){var r=t.constructor;switch(e){case U5:return Nv(t);case D5:case N5:return new r(+t);case z5:return A5(t,n);case B5:case W5:case H5:case q5:case G5:case K5:case Y5:case Q5:case X5:return O5(t,n);case M5:return new r;case L5:case $5:return new r(t);case F5:return P5(t);case V5:return new r;case j5:return R5(t)}}var vE=Object.create,Z5=function(){function t(){}return function(e){if(!fc(e))return{};if(vE)return vE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const eV=Z5;function tV(t){return typeof t.constructor=="function"&&!kv(t)?eV(Iv(t)):{}}var nV="[object Map]";function rV(t){return ho(t)&&Dv(t)==nV}var _E=_a&&_a.isMap,iV=_E?Av(_E):rV;const sV=iV;var oV="[object Set]";function aV(t){return ho(t)&&Dv(t)==oV}var wE=_a&&_a.isSet,lV=wE?Av(wE):aV;const uV=lV;var cV=1,hV=2,dV=4,BI="[object Arguments]",fV="[object Array]",pV="[object Boolean]",mV="[object Date]",gV="[object Error]",WI="[object Function]",yV="[object GeneratorFunction]",vV="[object Map]",_V="[object Number]",HI="[object Object]",wV="[object RegExp]",EV="[object Set]",xV="[object String]",TV="[object Symbol]",bV="[object WeakMap]",SV="[object ArrayBuffer]",CV="[object DataView]",IV="[object Float32Array]",AV="[object Float64Array]",kV="[object Int8Array]",PV="[object Int16Array]",RV="[object Int32Array]",OV="[object Uint8Array]",DV="[object Uint8ClampedArray]",NV="[object Uint16Array]",MV="[object Uint32Array]",Ne={};Ne[BI]=Ne[fV]=Ne[SV]=Ne[CV]=Ne[pV]=Ne[mV]=Ne[IV]=Ne[AV]=Ne[kV]=Ne[PV]=Ne[RV]=Ne[vV]=Ne[_V]=Ne[HI]=Ne[wV]=Ne[EV]=Ne[xV]=Ne[TV]=Ne[OV]=Ne[DV]=Ne[NV]=Ne[MV]=!0;Ne[gV]=Ne[WI]=Ne[bV]=!1;function Gl(t,e,n,r,i,s){var o,a=e&cV,l=e&hV,u=e&dV;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!fc(t))return t;var c=pc(t);if(c){if(o=C5(t),!a)return VI(t,o)}else{var h=Dv(t),d=h==WI||h==yV;if(OI(t))return r5(t,a);if(h==HI||h==BI||d&&!i){if(o=l||d?{}:tV(t),!a)return l?h5(t,t5(o,t)):l5(t,Q4(o,t))}else{if(!Ne[h])return i?t:{};o=J5(t,h,a)}}s||(s=new Fa);var f=s.get(t);if(f)return f;s.set(t,o),uV(t)?t.forEach(function(y){o.add(Gl(y,e,n,y,t,s))}):sV(t)&&t.forEach(function(y,g){o.set(g,Gl(y,e,n,g,t,s))});var p=u?l?f5:d5:l?Rv:Pv,m=c?void 0:p(t);return KF(m||t,function(y,g){m&&(g=y,y=t[g]),kI(o,g,Gl(y,e,n,g,t,s))}),o}var LV=1,FV=4;function El(t){return Gl(t,LV|FV)}var EE=Array.isArray,xE=Object.keys,VV=Object.prototype.hasOwnProperty,$V=typeof Element<"u";function R0(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=EE(t),r=EE(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!R0(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var h=xE(t);if(s=h.length,s!==xE(e).length)return!1;for(i=s;i--!==0;)if(!VV.call(e,h[i]))return!1;if($V&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=h[i],!(o==="_owner"&&t.$$typeof)&&!R0(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var jV=function(e,n){try{return R0(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const di=ro(jV);var UV=!0;function qI(t,e){if(!UV){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}var zV=4;function TE(t){return Gl(t,zV)}function GI(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var BV="[object Symbol]";function Mv(t){return typeof t=="symbol"||ho(t)&&co(t)==BV}var WV="Expected a function";function Lv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(WV);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Lv.Cache||os),n}Lv.Cache=os;var HV=500;function qV(t){var e=Lv(t,function(r){return n.size===HV&&n.clear(),r}),n=e.cache;return e}var GV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,KV=/\\(\\)?/g,YV=qV(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(GV,function(n,r,i,s){e.push(i?s.replace(KV,"$1"):r||n)}),e});const QV=YV;var XV=1/0;function JV(t){if(typeof t=="string"||Mv(t))return t;var e=t+"";return e=="0"&&1/t==-XV?"-0":e}var ZV=1/0,bE=Yi?Yi.prototype:void 0,SE=bE?bE.toString:void 0;function KI(t){if(typeof t=="string")return t;if(pc(t))return GI(t,KI)+"";if(Mv(t))return SE?SE.call(t):"";var e=t+"";return e=="0"&&1/t==-ZV?"-0":e}function e$(t){return t==null?"":KI(t)}function YI(t){return pc(t)?GI(t,JV):Mv(t)?[t]:VI(QV(e$(t)))}var QI={exports:{}},Re={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var St=typeof Symbol=="function"&&Symbol.for,Fv=St?Symbol.for("react.element"):60103,Vv=St?Symbol.for("react.portal"):60106,rp=St?Symbol.for("react.fragment"):60107,ip=St?Symbol.for("react.strict_mode"):60108,sp=St?Symbol.for("react.profiler"):60114,op=St?Symbol.for("react.provider"):60109,ap=St?Symbol.for("react.context"):60110,$v=St?Symbol.for("react.async_mode"):60111,lp=St?Symbol.for("react.concurrent_mode"):60111,up=St?Symbol.for("react.forward_ref"):60112,cp=St?Symbol.for("react.suspense"):60113,t$=St?Symbol.for("react.suspense_list"):60120,hp=St?Symbol.for("react.memo"):60115,dp=St?Symbol.for("react.lazy"):60116,n$=St?Symbol.for("react.block"):60121,r$=St?Symbol.for("react.fundamental"):60117,i$=St?Symbol.for("react.responder"):60118,s$=St?Symbol.for("react.scope"):60119;function kn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Fv:switch(t=t.type,t){case $v:case lp:case rp:case sp:case ip:case cp:return t;default:switch(t=t&&t.$$typeof,t){case ap:case up:case dp:case hp:case op:return t;default:return e}}case Vv:return e}}}function XI(t){return kn(t)===lp}Re.AsyncMode=$v;Re.ConcurrentMode=lp;Re.ContextConsumer=ap;Re.ContextProvider=op;Re.Element=Fv;Re.ForwardRef=up;Re.Fragment=rp;Re.Lazy=dp;Re.Memo=hp;Re.Portal=Vv;Re.Profiler=sp;Re.StrictMode=ip;Re.Suspense=cp;Re.isAsyncMode=function(t){return XI(t)||kn(t)===$v};Re.isConcurrentMode=XI;Re.isContextConsumer=function(t){return kn(t)===ap};Re.isContextProvider=function(t){return kn(t)===op};Re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fv};Re.isForwardRef=function(t){return kn(t)===up};Re.isFragment=function(t){return kn(t)===rp};Re.isLazy=function(t){return kn(t)===dp};Re.isMemo=function(t){return kn(t)===hp};Re.isPortal=function(t){return kn(t)===Vv};Re.isProfiler=function(t){return kn(t)===sp};Re.isStrictMode=function(t){return kn(t)===ip};Re.isSuspense=function(t){return kn(t)===cp};Re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rp||t===lp||t===sp||t===ip||t===cp||t===t$||typeof t=="object"&&t!==null&&(t.$$typeof===dp||t.$$typeof===hp||t.$$typeof===op||t.$$typeof===ap||t.$$typeof===up||t.$$typeof===r$||t.$$typeof===i$||t.$$typeof===s$||t.$$typeof===n$)};Re.typeOf=kn;QI.exports=Re;var o$=QI.exports,jv=o$,a$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},l$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},JI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Uv={};Uv[jv.ForwardRef]=u$;Uv[jv.Memo]=JI;function CE(t){return jv.isMemo(t)?JI:Uv[t.$$typeof]||a$}var c$=Object.defineProperty,h$=Object.getOwnPropertyNames,IE=Object.getOwnPropertySymbols,d$=Object.getOwnPropertyDescriptor,f$=Object.getPrototypeOf,AE=Object.prototype;function ZI(t,e,n){if(typeof e!="string"){if(AE){var r=f$(e);r&&r!==AE&&ZI(t,r,n)}var i=h$(e);IE&&(i=i.concat(IE(e)));for(var s=CE(t),o=CE(e),a=0;a<i.length;++a){var l=i[a];if(!l$[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=d$(e,l);try{c$(t,l,u)}catch{}}}}return t}var p$=ZI;const m$=ro(p$);function Ie(){return Ie=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ie.apply(this,arguments)}function eA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Ti(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var fp=x.createContext(void 0);fp.displayName="FormikContext";var g$=fp.Provider,y$=fp.Consumer;function tA(){var t=x.useContext(fp);return t||qI(!1),t}var PE=function(e){return Array.isArray(e)&&e.length===0},At=function(e){return typeof e=="function"},mc=function(e){return e!==null&&typeof e=="object"},v$=function(e){return String(Math.floor(Number(e)))===e},zm=function(e){return Object.prototype.toString.call(e)==="[object String]"},nA=function(e){return x.Children.count(e)===0},Bm=function(e){return mc(e)&&At(e.then)};function Be(t,e,n,r){r===void 0&&(r=0);for(var i=YI(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function wr(t,e,n){for(var r=TE(t),i=r,s=0,o=YI(e);s<o.length-1;s++){var a=o[s],l=Be(t,o.slice(0,s+1));if(l&&(mc(l)||Array.isArray(l)))i=i[a]=TE(l);else{var u=o[s+1];i=i[a]=v$(u)&&Number(u)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function rA(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];mc(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},rA(a,e,n,r[o])):r[o]=e}return r}function _$(t,e){switch(e.type){case"SET_VALUES":return Ie({},t,{values:e.payload});case"SET_TOUCHED":return Ie({},t,{touched:e.payload});case"SET_ERRORS":return di(t.errors,e.payload)?t:Ie({},t,{errors:e.payload});case"SET_STATUS":return Ie({},t,{status:e.payload});case"SET_ISSUBMITTING":return Ie({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Ie({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Ie({},t,{values:wr(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Ie({},t,{touched:wr(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Ie({},t,{errors:wr(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Ie({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Ie({},t,{touched:rA(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Ie({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Ie({},t,{isSubmitting:!1});default:return t}}var us={},ah={};function w$(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,c=t.onSubmit,h=Ti(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=Ie({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},h),f=x.useRef(d.initialValues),p=x.useRef(d.initialErrors||us),m=x.useRef(d.initialTouched||ah),y=x.useRef(d.initialStatus),g=x.useRef(!1),v=x.useRef({});x.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var w=x.useState(0),E=w[1],T=x.useRef({values:El(d.initialValues),errors:El(d.initialErrors)||us,touched:El(d.initialTouched)||ah,status:El(d.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),b=T.current,S=x.useCallback(function(A){var z=T.current;T.current=_$(z,A),z!==T.current&&E(function(D){return D+1})},[]),C=x.useCallback(function(A,z){return new Promise(function(D,q){var he=d.validate(A,z);he==null?D(us):Bm(he)?he.then(function(we){D(we||us)},function(we){q(we)}):D(he)})},[d.validate]),R=x.useCallback(function(A,z){var D=d.validationSchema,q=At(D)?D(z):D,he=z&&q.validateAt?q.validateAt(z,A):x$(A,q);return new Promise(function(we,De){he.then(function(){we(us)},function(Mr){Mr.name==="ValidationError"?we(E$(Mr)):De(Mr)})})},[d.validationSchema]),P=x.useCallback(function(A,z){return new Promise(function(D){return D(v.current[A].validate(z))})},[]),N=x.useCallback(function(A){var z=Object.keys(v.current).filter(function(q){return At(v.current[q].validate)}),D=z.length>0?z.map(function(q){return P(q,Be(A,q))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(D).then(function(q){return q.reduce(function(he,we,De){return we==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||we&&(he=wr(he,z[De],we)),he},{})})},[P]),$=x.useCallback(function(A){return Promise.all([N(A),d.validationSchema?R(A):{},d.validate?C(A):{}]).then(function(z){var D=z[0],q=z[1],he=z[2],we=C0.all([D,q,he],{arrayMerge:T$});return we})},[d.validate,d.validationSchema,N,C,R]),Z=Pn(function(A){return A===void 0&&(A=b.values),S({type:"SET_ISVALIDATING",payload:!0}),$(A).then(function(z){return g.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:z})),z})});x.useEffect(function(){o&&g.current===!0&&di(f.current,d.initialValues)&&Z(f.current)},[o,Z]);var re=x.useCallback(function(A){var z=A&&A.values?A.values:f.current,D=A&&A.errors?A.errors:p.current?p.current:d.initialErrors||{},q=A&&A.touched?A.touched:m.current?m.current:d.initialTouched||{},he=A&&A.status?A.status:y.current?y.current:d.initialStatus;f.current=z,p.current=D,m.current=q,y.current=he;var we=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!A&&!!A.isSubmitting,errors:D,touched:q,status:he,values:z,isValidating:!!A&&!!A.isValidating,submitCount:A&&A.submitCount&&typeof A.submitCount=="number"?A.submitCount:0}})};if(d.onReset){var De=d.onReset(b.values,Qt);Bm(De)?De.then(we):we()}else we()},[d.initialErrors,d.initialStatus,d.initialTouched,d.onReset]);x.useEffect(function(){g.current===!0&&!di(f.current,d.initialValues)&&u&&(f.current=d.initialValues,re(),o&&Z(f.current))},[u,d.initialValues,re,o,Z]),x.useEffect(function(){u&&g.current===!0&&!di(p.current,d.initialErrors)&&(p.current=d.initialErrors||us,S({type:"SET_ERRORS",payload:d.initialErrors||us}))},[u,d.initialErrors]),x.useEffect(function(){u&&g.current===!0&&!di(m.current,d.initialTouched)&&(m.current=d.initialTouched||ah,S({type:"SET_TOUCHED",payload:d.initialTouched||ah}))},[u,d.initialTouched]),x.useEffect(function(){u&&g.current===!0&&!di(y.current,d.initialStatus)&&(y.current=d.initialStatus,S({type:"SET_STATUS",payload:d.initialStatus}))},[u,d.initialStatus,d.initialTouched]);var G=Pn(function(A){if(v.current[A]&&At(v.current[A].validate)){var z=Be(b.values,A),D=v.current[A].validate(z);return Bm(D)?(S({type:"SET_ISVALIDATING",payload:!0}),D.then(function(q){return q}).then(function(q){S({type:"SET_FIELD_ERROR",payload:{field:A,value:q}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:A,value:D}}),Promise.resolve(D))}else if(d.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),R(b.values,A).then(function(q){return q}).then(function(q){S({type:"SET_FIELD_ERROR",payload:{field:A,value:Be(q,A)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),te=x.useCallback(function(A,z){var D=z.validate;v.current[A]={validate:D}},[]),L=x.useCallback(function(A){delete v.current[A]},[]),k=Pn(function(A,z){S({type:"SET_TOUCHED",payload:A});var D=z===void 0?i:z;return D?Z(b.values):Promise.resolve()}),U=x.useCallback(function(A){S({type:"SET_ERRORS",payload:A})},[]),X=Pn(function(A,z){var D=At(A)?A(b.values):A;S({type:"SET_VALUES",payload:D});var q=z===void 0?n:z;return q?Z(D):Promise.resolve()}),ue=x.useCallback(function(A,z){S({type:"SET_FIELD_ERROR",payload:{field:A,value:z}})},[]),V=Pn(function(A,z,D){S({type:"SET_FIELD_VALUE",payload:{field:A,value:z}});var q=D===void 0?n:D;return q?Z(wr(b.values,A,z)):Promise.resolve()}),B=x.useCallback(function(A,z){var D=z,q=A,he;if(!zm(A)){A.persist&&A.persist();var we=A.target?A.target:A.currentTarget,De=we.type,Mr=we.name,um=we.id,cm=we.value,KR=we.checked,aX=we.outerHTML,I1=we.options,YR=we.multiple;D=z||Mr||um,q=/number|range/.test(De)?(he=parseFloat(cm),isNaN(he)?"":he):/checkbox/.test(De)?S$(Be(b.values,D),KR,cm):I1&&YR?b$(I1):cm}D&&V(D,q)},[V,b.values]),Y=Pn(function(A){if(zm(A))return function(z){return B(z,A)};B(A)}),ie=Pn(function(A,z,D){z===void 0&&(z=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:A,value:z}});var q=D===void 0?i:D;return q?Z(b.values):Promise.resolve()}),I=x.useCallback(function(A,z){A.persist&&A.persist();var D=A.target,q=D.name,he=D.id,we=D.outerHTML,De=z||q||he;ie(De,!0)},[ie]),ge=Pn(function(A){if(zm(A))return function(z){return I(z,A)};I(A)}),H=x.useCallback(function(A){At(A)?S({type:"SET_FORMIK_STATE",payload:A}):S({type:"SET_FORMIK_STATE",payload:function(){return A}})},[]),yt=x.useCallback(function(A){S({type:"SET_STATUS",payload:A})},[]),Oe=x.useCallback(function(A){S({type:"SET_ISSUBMITTING",payload:A})},[]),He=Pn(function(){return S({type:"SUBMIT_ATTEMPT"}),Z().then(function(A){var z=A instanceof Error,D=!z&&Object.keys(A).length===0;if(D){var q;try{if(q=Dr(),q===void 0)return}catch(he){throw he}return Promise.resolve(q).then(function(he){return g.current&&S({type:"SUBMIT_SUCCESS"}),he}).catch(function(he){if(g.current)throw S({type:"SUBMIT_FAILURE"}),he})}else if(g.current&&(S({type:"SUBMIT_FAILURE"}),z))throw A})}),fe=Pn(function(A){A&&A.preventDefault&&At(A.preventDefault)&&A.preventDefault(),A&&A.stopPropagation&&At(A.stopPropagation)&&A.stopPropagation(),He().catch(function(z){console.warn("Warning: An unhandled error was caught from submitForm()",z)})}),Qt={resetForm:re,validateForm:Z,validateField:G,setErrors:U,setFieldError:ue,setFieldTouched:ie,setFieldValue:V,setStatus:yt,setSubmitting:Oe,setTouched:k,setValues:X,setFormikState:H,submitForm:He},Dr=Pn(function(){return c(b.values,Qt)}),ve=Pn(function(A){A&&A.preventDefault&&At(A.preventDefault)&&A.preventDefault(),A&&A.stopPropagation&&At(A.stopPropagation)&&A.stopPropagation(),re()}),vt=x.useCallback(function(A){return{value:Be(b.values,A),error:Be(b.errors,A),touched:!!Be(b.touched,A),initialValue:Be(f.current,A),initialTouched:!!Be(m.current,A),initialError:Be(p.current,A)}},[b.errors,b.touched,b.values]),xe=x.useCallback(function(A){return{setValue:function(D,q){return V(A,D,q)},setTouched:function(D,q){return ie(A,D,q)},setError:function(D){return ue(A,D)}}},[V,ie,ue]),dt=x.useCallback(function(A){var z=mc(A),D=z?A.name:A,q=Be(b.values,D),he={name:D,value:q,onChange:Y,onBlur:ge};if(z){var we=A.type,De=A.value,Mr=A.as,um=A.multiple;we==="checkbox"?De===void 0?he.checked=!!q:(he.checked=!!(Array.isArray(q)&&~q.indexOf(De)),he.value=De):we==="radio"?(he.checked=q===De,he.value=De):Mr==="select"&&um&&(he.value=he.value||[],he.multiple=!0)}return he},[ge,Y,b.values]),Nr=x.useMemo(function(){return!di(f.current,b.values)},[f.current,b.values]),ft=x.useMemo(function(){return typeof a<"u"?Nr?b.errors&&Object.keys(b.errors).length===0:a!==!1&&At(a)?a(d):a:b.errors&&Object.keys(b.errors).length===0},[a,Nr,b.errors,d]),So=Ie({},b,{initialValues:f.current,initialErrors:p.current,initialTouched:m.current,initialStatus:y.current,handleBlur:ge,handleChange:Y,handleReset:ve,handleSubmit:fe,resetForm:re,setErrors:U,setFormikState:H,setFieldTouched:ie,setFieldValue:V,setFieldError:ue,setStatus:yt,setSubmitting:Oe,setTouched:k,setValues:X,submitForm:He,validateForm:Z,validateField:G,isValid:ft,dirty:Nr,unregisterField:L,registerField:te,getFieldProps:dt,getFieldMeta:vt,getFieldHelpers:xe,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return So}function zv(t){var e=w$(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return x.useImperativeHandle(s,function(){return e}),x.createElement(g$,{value:e},n?x.createElement(n,e):i?i(e):r?At(r)?r(e):nA(r)?null:x.Children.only(r):null)}function E$(t){var e={};if(t.inner){if(t.inner.length===0)return wr(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Be(e,o.path)||(e=wr(e,o.path,o.message))}}return e}function x$(t,e,n,r){n===void 0&&(n=!1);var i=O0(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function O0(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||Zw(i)?O0(i):i!==""?i:void 0}):Zw(t[r])?e[r]=O0(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function T$(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?C0(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=C0(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function b$(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function S$(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var C$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect;function Pn(t){var e=x.useRef(t);return C$(function(){e.current=t}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function Iu(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=t.className,l=Ti(t,["validate","name","render","children","as","component","className"]),u=tA(),c=Ti(u,["validate","validationSchema"]),h=c.registerField,d=c.unregisterField;x.useEffect(function(){return h(n,{validate:e}),function(){d(n)}},[h,d,n,e]);var f=c.getFieldProps(Ie({name:n},l)),p=c.getFieldMeta(n),m={field:f,form:c};if(r)return r(Ie({},m,{meta:p}));if(At(i))return i(Ie({},m,{meta:p}));if(o){if(typeof o=="string"){var y=l.innerRef,g=Ti(l,["innerRef"]);return x.createElement(o,Ie({ref:y},f,g,{className:a}),i)}return x.createElement(o,Ie({field:f,form:c},l,{className:a}),i)}var v=s||"input";if(typeof v=="string"){var w=l.innerRef,E=Ti(l,["innerRef"]);return x.createElement(v,Ie({ref:w},f,E,{className:a}),i)}return x.createElement(v,Ie({},f,l,{className:a}),i)}var pp=x.forwardRef(function(t,e){var n=t.action,r=Ti(t,["action"]),i=n??"#",s=tA(),o=s.handleReset,a=s.handleSubmit;return x.createElement("form",Ie({onSubmit:a,ref:e,onReset:o,action:i},r))});pp.displayName="Form";function I$(t){var e=function(i){return x.createElement(y$,null,function(s){return s||qI(!1),x.createElement(t,Ie({},i,{formik:s}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",m$(e,t)}var A$=function(e,n,r){var i=Hs(e),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},k$=function(e,n,r){var i=Hs(e),s=i[n];return i[n]=i[r],i[r]=s,i},Wm=function(e,n,r){var i=Hs(e);return i.splice(n,0,r),i},P$=function(e,n,r){var i=Hs(e);return i[n]=r,i},Hs=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(Ie({},e,{length:n+1}))}else return[]},RE=function(e,n){var r=typeof e=="function"?e:n;return function(i){if(Array.isArray(i)||mc(i)){var s=Hs(i);return r(s)}return i}},R$=function(t){eA(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(s,o,a){var l=i.props,u=l.name,c=l.formik.setFormikState;c(function(h){var d=RE(a,s),f=RE(o,s),p=wr(h.values,u,s(Be(h.values,u))),m=a?d(Be(h.errors,u)):void 0,y=o?f(Be(h.touched,u)):void 0;return PE(m)&&(m=void 0),PE(y)&&(y=void 0),Ie({},h,{values:p,errors:a?wr(h.errors,u,m):h.errors,touched:o?wr(h.touched,u,y):h.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(Hs(o),[El(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return k$(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return A$(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return Wm(a,s,o)},function(a){return Wm(a,s,null)},function(a){return Wm(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return P$(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var l=a?[s].concat(a):[s];return o=l.length,l},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(kE(i)),i.pop=i.pop.bind(kE(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!di(Be(i.formik.values,i.name),Be(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?Hs(o):[];return s||(s=a[i]),At(a.splice)&&a.splice(i,1),At(a.every)&&a.every(function(l){return l===void 0})?[]:a},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var o=s.slice();return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,l=s.children,u=s.name,c=s.formik,h=Ti(c,["validate","validationSchema"]),d=Ie({},i,{form:h,name:u});return o?x.createElement(o,d):a?a(d):l?typeof l=="function"?l(d):nA(l)?null:x.Children.only(l):null},e}(x.Component);R$.defaultProps={validateOnChange:!0};var O$=function(t){eA(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){return Be(this.props.formik.errors,this.props.name)!==Be(i.formik.errors,this.props.name)||Be(this.props.formik.touched,this.props.name)!==Be(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,s=i.component,o=i.formik,a=i.render,l=i.children,u=i.name,c=Ti(i,["component","formik","render","children","name"]),h=Be(o.touched,u),d=Be(o.errors,u);return h&&d?a?At(a)?a(d):null:l?At(l)?l(d):null:s?x.createElement(s,c,d):d:null},e}(x.Component),wa=I$(O$);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},D$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},sA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new N$;const d=s<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const p=u<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M$=function(t){const e=iA(t);return sA.encodeByteArray(e,!0)},zd=function(t){return M$(t).replace(/\./g,"")},oA=function(t){try{return sA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=()=>L$().__FIREBASE_DEFAULTS__,V$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oA(t[1]);return e&&JSON.parse(e)},mp=()=>{try{return F$()||V$()||$$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aA=t=>{var e,n;return(n=(e=mp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lA=t=>{const e=aA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uA=()=>{var t;return(t=mp())===null||t===void 0?void 0:t.config},cA=t=>{var e;return(e=mp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[zd(JSON.stringify(n)),zd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function z$(){var t;const e=(t=mp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function W$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H$(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function q$(){try{return typeof indexedDB=="object"}catch{return!1}}function G$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$="FirebaseError";class Rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=K$,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Y$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Rr(i,a,r)}}function Y$(t,e){return t.replace(Q$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Q$=/\{\$([^}]+)}/g;function X$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(OE(s)&&OE(o)){if(!Bd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function OE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Tl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function J$(t,e){const n=new Z$(t,e);return n.subscribe.bind(n)}class Z${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ej(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hm),i.error===void 0&&(i.error=Hm),i.complete===void 0&&(i.complete=Hm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ej(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class Qi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tj=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new j$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rj(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nj(t){return t===ys?void 0:t}function rj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const sj={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},oj=ye.INFO,aj={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},lj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=aj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bv{constructor(e){this.name=e,this._logLevel=oj,this._logHandler=lj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const uj=(t,e)=>e.some(n=>t instanceof n);let DE,NE;function cj(){return DE||(DE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hj(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dA=new WeakMap,D0=new WeakMap,fA=new WeakMap,qm=new WeakMap,Wv=new WeakMap;function dj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ji(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dA.set(n,t)}).catch(()=>{}),Wv.set(e,t),e}function fj(t){if(D0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});D0.set(t,e)}let N0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return D0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pj(t){N0=t(N0)}function mj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gm(this),e,...n);return fA.set(r,e.sort?e.sort():[e]),ji(r)}:hj().includes(t)?function(...e){return t.apply(Gm(this),e),ji(dA.get(this))}:function(...e){return ji(t.apply(Gm(this),e))}}function gj(t){return typeof t=="function"?mj(t):(t instanceof IDBTransaction&&fj(t),uj(t,cj())?new Proxy(t,N0):t)}function ji(t){if(t instanceof IDBRequest)return dj(t);if(qm.has(t))return qm.get(t);const e=gj(t);return e!==t&&(qm.set(t,e),Wv.set(e,t)),e}const Gm=t=>Wv.get(t);function yj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ji(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ji(o.result),l.oldVersion,l.newVersion,ji(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const vj=["get","getKey","getAll","getAllKeys","count"],_j=["put","add","delete","clear"],Km=new Map;function ME(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_j.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vj.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Km.set(e,s),s}pj(t=>({...t,get:(e,n,r)=>ME(e,n)||t.get(e,n,r),has:(e,n)=>!!ME(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ej(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ej(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const M0="@firebase/app",LE="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Bv("@firebase/app"),xj="@firebase/app-compat",Tj="@firebase/analytics-compat",bj="@firebase/analytics",Sj="@firebase/app-check-compat",Cj="@firebase/app-check",Ij="@firebase/auth",Aj="@firebase/auth-compat",kj="@firebase/database",Pj="@firebase/database-compat",Rj="@firebase/functions",Oj="@firebase/functions-compat",Dj="@firebase/installations",Nj="@firebase/installations-compat",Mj="@firebase/messaging",Lj="@firebase/messaging-compat",Fj="@firebase/performance",Vj="@firebase/performance-compat",$j="@firebase/remote-config",jj="@firebase/remote-config-compat",Uj="@firebase/storage",zj="@firebase/storage-compat",Bj="@firebase/firestore",Wj="@firebase/firestore-compat",Hj="firebase",qj="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="[DEFAULT]",Gj={[M0]:"fire-core",[xj]:"fire-core-compat",[bj]:"fire-analytics",[Tj]:"fire-analytics-compat",[Cj]:"fire-app-check",[Sj]:"fire-app-check-compat",[Ij]:"fire-auth",[Aj]:"fire-auth-compat",[kj]:"fire-rtdb",[Pj]:"fire-rtdb-compat",[Rj]:"fire-fn",[Oj]:"fire-fn-compat",[Dj]:"fire-iid",[Nj]:"fire-iid-compat",[Mj]:"fire-fcm",[Lj]:"fire-fcm-compat",[Fj]:"fire-perf",[Vj]:"fire-perf-compat",[$j]:"fire-rc",[jj]:"fire-rc-compat",[Uj]:"fire-gcs",[zj]:"fire-gcs-compat",[Bj]:"fire-fst",[Wj]:"fire-fst-compat","fire-js":"fire-js",[Hj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=new Map,F0=new Map;function Kj(t,e){try{t.container.addComponent(e)}catch(n){qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gs(t){const e=t.name;if(F0.has(e))return qs.debug(`There were multiple attempts to register component ${e}.`),!1;F0.set(e,t);for(const n of Wd.values())Kj(n,t);return!0}function gp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ui=new gc("app","Firebase",Yj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=qj;function pA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:L0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ui.create("bad-app-name",{appName:String(i)});if(n||(n=uA()),!n)throw Ui.create("no-options");const s=Wd.get(i);if(s){if(Bd(n,s.options)&&Bd(r,s.config))return s;throw Ui.create("duplicate-app",{appName:i})}const o=new ij(i);for(const l of F0.values())o.addComponent(l);const a=new Qj(n,r,o);return Wd.set(i,a),a}function Hv(t=L0){const e=Wd.get(t);if(!e&&t===L0&&uA())return pA();if(!e)throw Ui.create("no-app",{appName:t});return e}function Er(t,e,n){var r;let i=(r=Gj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qs.warn(a.join(" "));return}Gs(new Qi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="firebase-heartbeat-database",Jj=1,Au="firebase-heartbeat-store";let Ym=null;function mA(){return Ym||(Ym=yj(Xj,Jj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Au)}}}).catch(t=>{throw Ui.create("idb-open",{originalErrorMessage:t.message})})),Ym}async function Zj(t){try{return await(await mA()).transaction(Au).objectStore(Au).get(gA(t))}catch(e){if(e instanceof Rr)qs.warn(e.message);else{const n=Ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qs.warn(n.message)}}}async function FE(t,e){try{const r=(await mA()).transaction(Au,"readwrite");await r.objectStore(Au).put(e,gA(t)),await r.done}catch(n){if(n instanceof Rr)qs.warn(n.message);else{const r=Ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qs.warn(r.message)}}}function gA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=1024,t3=30*24*60*60*1e3;class n3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=VE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=t3}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=VE(),{heartbeatsToSend:n,unsentEntries:r}=r3(this._heartbeatsCache.heartbeats),i=zd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function VE(){return new Date().toISOString().substring(0,10)}function r3(t,e=e3){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$E(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$E(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class i3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q$()?G$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Zj(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $E(t){return zd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t){Gs(new Qi("platform-logger",e=>new wj(e),"PRIVATE")),Gs(new Qi("heartbeat",e=>new n3(e),"PRIVATE")),Er(M0,LE,t),Er(M0,LE,"esm2017"),Er("fire-js","")}s3("");var o3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,qv=qv||{},le=o3||self;function yp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function vc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function a3(t){return Object.prototype.hasOwnProperty.call(t,Qm)&&t[Qm]||(t[Qm]=++l3)}var Qm="closure_uid_"+(1e9*Math.random()>>>0),l3=0;function u3(t,e,n){return t.call.apply(t.bind,arguments)}function c3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ht=u3:Ht=c3,Ht.apply(null,arguments)}function lh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ct(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function as(){this.s=this.s,this.o=this.o}var h3=0;as.prototype.s=!1;as.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),h3!=0)&&a3(this)};as.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Gv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function jE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(yp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function qt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var d3=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{le.addEventListener("test",()=>{},e),le.removeEventListener("test",()=>{},e)}catch{}return t}();function ku(t){return/^[\s\xa0]*$/.test(t)}function vp(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function hr(t){return vp().indexOf(t)!=-1}function Kv(t){return Kv[" "](t),t}Kv[" "]=function(){};function f3(t,e){var n=s6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var p3=hr("Opera"),Ea=hr("Trident")||hr("MSIE"),vA=hr("Edge"),V0=vA||Ea,_A=hr("Gecko")&&!(vp().toLowerCase().indexOf("webkit")!=-1&&!hr("Edge"))&&!(hr("Trident")||hr("MSIE"))&&!hr("Edge"),m3=vp().toLowerCase().indexOf("webkit")!=-1&&!hr("Edge");function wA(){var t=le.document;return t?t.documentMode:void 0}var $0;e:{var Xm="",Jm=function(){var t=vp();if(_A)return/rv:([^\);]+)(\)|;)/.exec(t);if(vA)return/Edge\/([\d\.]+)/.exec(t);if(Ea)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(m3)return/WebKit\/(\S+)/.exec(t);if(p3)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Jm&&(Xm=Jm?Jm[1]:""),Ea){var Zm=wA();if(Zm!=null&&Zm>parseFloat(Xm)){$0=String(Zm);break e}}$0=Xm}var j0;if(le.document&&Ea){var UE=wA();j0=UE||parseInt($0,10)||void 0}else j0=void 0;var g3=j0;function Pu(t,e){if(qt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(_A){e:{try{Kv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:y3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Pu.$.h.call(this)}}Ct(Pu,qt);var y3={2:"touch",3:"pen",4:"mouse"};Pu.prototype.h=function(){Pu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _c="closure_listenable_"+(1e6*Math.random()|0),v3=0;function _3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++v3,this.fa=this.ia=!1}function _p(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Yv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function w3(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function EA(t){const e={};for(const n in t)e[n]=t[n];return e}const zE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xA(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<zE.length;s++)n=zE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wp(t){this.src=t,this.g={},this.h=0}wp.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=z0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new _3(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function U0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=yA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(_p(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function z0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Qv="closure_lm_"+(1e6*Math.random()|0),eg={};function TA(t,e,n,r,i){if(r&&r.once)return SA(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)TA(t,e[s],n,r,i);return null}return n=Zv(n),t&&t[_c]?t.O(e,n,vc(r)?!!r.capture:!!r,i):bA(t,e,n,!1,r,i)}function bA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=vc(i)?!!i.capture:!!i,a=Jv(t);if(a||(t[Qv]=a=new wp(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=E3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)d3||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(IA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function E3(){function t(n){return e.call(t.src,t.listener,n)}const e=x3;return t}function SA(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)SA(t,e[s],n,r,i);return null}return n=Zv(n),t&&t[_c]?t.P(e,n,vc(r)?!!r.capture:!!r,i):bA(t,e,n,!0,r,i)}function CA(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)CA(t,e[s],n,r,i);else r=vc(r)?!!r.capture:!!r,n=Zv(n),t&&t[_c]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=z0(s,n,r,i),-1<n&&(_p(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Jv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=z0(e,n,r,i)),(n=-1<t?e[t]:null)&&Xv(n))}function Xv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[_c])U0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(IA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Jv(e))?(U0(n,t),n.h==0&&(n.src=null,e[Qv]=null)):_p(t)}}}function IA(t){return t in eg?eg[t]:eg[t]="on"+t}function x3(t,e){if(t.fa)t=!0;else{e=new Pu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Xv(t),t=n.call(r,e)}return t}function Jv(t){return t=t[Qv],t instanceof wp?t:null}var tg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zv(t){return typeof t=="function"?t:(t[tg]||(t[tg]=function(e){return t.handleEvent(e)}),t[tg])}function bt(){as.call(this),this.i=new wp(this),this.S=this,this.J=null}Ct(bt,as);bt.prototype[_c]=!0;bt.prototype.removeEventListener=function(t,e,n,r){CA(this,t,e,n,r)};function Mt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new qt(e,t);else if(e instanceof qt)e.target=e.target||t;else{var i=e;e=new qt(r,t),xA(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=uh(o,r,!0,e)&&i}if(o=e.g=t,i=uh(o,r,!0,e)&&i,i=uh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=uh(o,r,!1,e)&&i}bt.prototype.N=function(){if(bt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_p(n[r]);delete t.g[e],t.h--}}this.J=null};bt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};bt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function uh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&U0(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var e_=le.JSON.stringify;class T3{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function b3(){var t=t_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class S3{constructor(){this.h=this.g=null}add(e,n){const r=AA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var AA=new T3(()=>new C3,t=>t.reset());class C3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function I3(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function A3(t){le.setTimeout(()=>{throw t},0)}let Ru,Ou=!1,t_=new S3,kA=()=>{const t=le.Promise.resolve(void 0);Ru=()=>{t.then(k3)}};var k3=()=>{for(var t;t=b3();){try{t.h.call(t.g)}catch(n){A3(n)}var e=AA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ou=!1};function Ep(t,e){bt.call(this),this.h=t||1,this.g=e||le,this.j=Ht(this.qb,this),this.l=Date.now()}Ct(Ep,bt);W=Ep.prototype;W.ga=!1;W.T=null;W.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mt(this,"tick"),this.ga&&(n_(this),this.start()))}};W.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function n_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}W.N=function(){Ep.$.N.call(this),n_(this),delete this.g};function r_(t,e,n){if(typeof t=="function")n&&(t=Ht(t,n));else if(t&&typeof t.handleEvent=="function")t=Ht(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function PA(t){t.g=r_(()=>{t.g=null,t.i&&(t.i=!1,PA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class P3 extends as{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PA(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Du(t){as.call(this),this.h=t,this.g={}}Ct(Du,as);var BE=[];function RA(t,e,n,r){Array.isArray(n)||(n&&(BE[0]=n.toString()),n=BE);for(var i=0;i<n.length;i++){var s=TA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function OA(t){Yv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Xv(e)},t),t.g={}}Du.prototype.N=function(){Du.$.N.call(this),OA(this)};Du.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function xp(){this.g=!0}xp.prototype.Ea=function(){this.g=!1};function R3(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function O3(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Yo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+N3(t,n)+(r?" "+r:"")})}function D3(t,e){t.info(function(){return"TIMEOUT: "+e})}xp.prototype.info=function(){};function N3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return e_(n)}catch{return e}}var go={},WE=null;function Tp(){return WE=WE||new bt}go.Ta="serverreachability";function DA(t){qt.call(this,go.Ta,t)}Ct(DA,qt);function Nu(t){const e=Tp();Mt(e,new DA(e))}go.STAT_EVENT="statevent";function NA(t,e){qt.call(this,go.STAT_EVENT,t),this.stat=e}Ct(NA,qt);function Zt(t){const e=Tp();Mt(e,new NA(e,t))}go.Ua="timingevent";function MA(t,e){qt.call(this,go.Ua,t),this.size=e}Ct(MA,qt);function wc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var bp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},LA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function i_(){}i_.prototype.h=null;function HE(t){return t.h||(t.h=t.i())}function FA(){}var Ec={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function s_(){qt.call(this,"d")}Ct(s_,qt);function o_(){qt.call(this,"c")}Ct(o_,qt);var B0;function Sp(){}Ct(Sp,i_);Sp.prototype.g=function(){return new XMLHttpRequest};Sp.prototype.i=function(){return{}};B0=new Sp;function xc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Du(this),this.P=M3,t=V0?125:void 0,this.V=new Ep(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new VA}function VA(){this.i=null,this.g="",this.h=!1}var M3=45e3,W0={},Hd={};W=xc.prototype;W.setTimeout=function(t){this.P=t};function H0(t,e,n){t.L=1,t.v=Ip(Zr(e)),t.s=n,t.S=!0,$A(t,null)}function $A(t,e){t.G=Date.now(),Tc(t),t.A=Zr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),GA(n.i,"t",r),t.C=0,n=t.l.J,t.h=new VA,t.g=pk(t.l,n?e:null,!t.s),0<t.O&&(t.M=new P3(Ht(t.Pa,t,t.g),t.O)),RA(t.U,t.g,"readystatechange",t.nb),e=t.I?EA(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Nu(),R3(t.j,t.u,t.A,t.m,t.W,t.s)}W.nb=function(t){t=t.target;const e=this.M;e&&fr(t)==3?e.l():this.Pa(t)};W.Pa=function(t){try{if(t==this.g)e:{const c=fr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||V0||this.g&&(this.h.h||this.g.ja()||YE(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Nu(3):Nu(2)),Cp(this);var n=this.g.da();this.ca=n;t:if(jA(this)){var r=YE(this.g);t="";var i=r.length,s=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ss(this),Kl(this);var o="";break t}this.h.i=new le.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,O3(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ku(a)){var u=a;break t}}u=null}if(n=u)Yo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,q0(this,n);else{this.i=!1,this.o=3,Zt(12),Ss(this),Kl(this);break e}}this.S?(UA(this,c,o),V0&&this.i&&c==3&&(RA(this.U,this.V,"tick",this.mb),this.V.start())):(Yo(this.j,this.m,o,null),q0(this,o)),c==4&&Ss(this),this.i&&!this.J&&(c==4?ck(this.l,this):(this.i=!1,Tc(this)))}else n6(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Zt(12)):(this.o=0,Zt(13)),Ss(this),Kl(this)}}}catch{}finally{}};function jA(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function UA(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=L3(t,n),i==Hd){e==4&&(t.o=4,Zt(14),r=!1),Yo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==W0){t.o=4,Zt(15),Yo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Yo(t.j,t.m,i,null),q0(t,i);jA(t)&&i!=Hd&&i!=W0&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Zt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),d_(e),e.M=!0,Zt(11))):(Yo(t.j,t.m,n,"[Invalid Chunked Response]"),Ss(t),Kl(t))}W.mb=function(){if(this.g){var t=fr(this.g),e=this.g.ja();this.C<e.length&&(Cp(this),UA(this,t,e),this.i&&t!=4&&Tc(this))}};function L3(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Hd:(n=Number(e.substring(n,r)),isNaN(n)?W0:(r+=1,r+n>e.length?Hd:(e=e.slice(r,r+n),t.C=r+n,e)))}W.cancel=function(){this.J=!0,Ss(this)};function Tc(t){t.Y=Date.now()+t.P,zA(t,t.P)}function zA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=wc(Ht(t.lb,t),e)}function Cp(t){t.B&&(le.clearTimeout(t.B),t.B=null)}W.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(D3(this.j,this.A),this.L!=2&&(Nu(),Zt(17)),Ss(this),this.o=2,Kl(this)):zA(this,this.Y-t)};function Kl(t){t.l.H==0||t.J||ck(t.l,t)}function Ss(t){Cp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,n_(t.V),OA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function q0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||G0(n.i,t))){if(!t.K&&G0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Kd(n),Pp(n);else break e;h_(n),Zt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=wc(Ht(n.ib,n),6e3));if(1>=QA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Cs(n,11)}else if((t.K||n.g==t)&&Kd(n),!ku(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(a_(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,$e(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=fk(r,r.J?r.pa:null,r.Y),o.K){XA(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Cp(a),Tc(a)),r.g=o}else lk(r);0<n.j.length&&Rp(n)}else u[0]!="stop"&&u[0]!="close"||Cs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Cs(n,7):c_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Nu(4)}catch{}}function F3(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(yp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function V3(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(yp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function BA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(yp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=V3(t),r=F3(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var WA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ds(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ds){this.h=t.h,qd(this,t.j),this.s=t.s,this.g=t.g,Gd(this,t.m),this.l=t.l;var e=t.i,n=new Mu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),qE(this,n),this.o=t.o}else t&&(e=String(t).match(WA))?(this.h=!1,qd(this,e[1]||"",!0),this.s=bl(e[2]||""),this.g=bl(e[3]||"",!0),Gd(this,e[4]),this.l=bl(e[5]||"",!0),qE(this,e[6]||"",!0),this.o=bl(e[7]||"")):(this.h=!1,this.i=new Mu(null,this.h))}Ds.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Sl(e,GE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Sl(e,GE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Sl(n,n.charAt(0)=="/"?z3:U3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Sl(n,W3)),t.join("")};function Zr(t){return new Ds(t)}function qd(t,e,n){t.j=n?bl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Gd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function qE(t,e,n){e instanceof Mu?(t.i=e,H3(t.i,t.h)):(n||(e=Sl(e,B3)),t.i=new Mu(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function Ip(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function bl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,j3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function j3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var GE=/[#\/\?@]/g,U3=/[#\?:]/g,z3=/[#\?]/g,B3=/[#\?@]/g,W3=/#/g;function Mu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ls(t){t.g||(t.g=new Map,t.h=0,t.i&&$3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}W=Mu.prototype;W.add=function(t,e){ls(this),this.i=null,t=Va(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function HA(t,e){ls(t),e=Va(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function qA(t,e){return ls(t),e=Va(t,e),t.g.has(e)}W.forEach=function(t,e){ls(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};W.ta=function(){ls(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};W.Z=function(t){ls(this);let e=[];if(typeof t=="string")qA(this,t)&&(e=e.concat(this.g.get(Va(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};W.set=function(t,e){return ls(this),this.i=null,t=Va(this,t),qA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};W.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function GA(t,e,n){HA(t,e),0<n.length&&(t.i=null,t.g.set(Va(t,e),Gv(n)),t.h+=n.length)}W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Va(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function H3(t,e){e&&!t.j&&(ls(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(HA(this,r),GA(this,i,n))},t)),t.j=e}var q3=class{constructor(t,e){this.g=t,this.map=e}};function KA(t){this.l=t||G3,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var G3=10;function YA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function QA(t){return t.h?1:t.g?t.g.size:0}function G0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function a_(t,e){t.g?t.g.add(e):t.h=e}function XA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}KA.prototype.cancel=function(){if(this.i=JA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function JA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Gv(t.i)}var K3=class{stringify(t){return le.JSON.stringify(t,void 0)}parse(t){return le.JSON.parse(t,void 0)}};function Y3(){this.g=new K3}function Q3(t,e,n){const r=n||"";try{BA(t,function(i,s){let o=i;vc(i)&&(o=e_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function X3(t,e){const n=new xp;if(le.Image){const r=new Image;r.onload=lh(ch,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lh(ch,n,r,"TestLoadImage: error",!1,e),r.onabort=lh(ch,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lh(ch,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ch(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function bc(t){this.l=t.ec||null,this.j=t.ob||!1}Ct(bc,i_);bc.prototype.g=function(){return new Ap(this.l,this.j)};bc.prototype.i=function(t){return function(){return t}}({});function Ap(t,e){bt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=l_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ct(Ap,bt);var l_=0;W=Ap.prototype;W.open=function(t,e){if(this.readyState!=l_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Lu(this)};W.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sc(this)),this.readyState=l_};W.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Lu(this)),this.g&&(this.readyState=3,Lu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ZA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}W.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Sc(this):Lu(this),this.readyState==3&&ZA(this)}};W.Za=function(t){this.g&&(this.response=this.responseText=t,Sc(this))};W.Ya=function(t){this.g&&(this.response=t,Sc(this))};W.ka=function(){this.g&&Sc(this)};function Sc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Lu(t)}W.setRequestHeader=function(t,e){this.v.append(t,e)};W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Lu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ap.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var J3=le.JSON.parse;function tt(t){bt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ek,this.L=this.M=!1}Ct(tt,bt);var ek="",Z3=/^https?$/i,e6=["POST","PUT"];W=tt.prototype;W.Oa=function(t){this.M=t};W.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():B0.g(),this.C=this.u?HE(this.u):HE(B0),this.g.onreadystatechange=Ht(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){KE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=le.FormData&&t instanceof le.FormData,!(0<=yA(e6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rk(this),0<this.B&&((this.L=t6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.ua,this)):this.A=r_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){KE(this,s)}};function t6(t){return Ea&&typeof t.timeout=="number"&&t.ontimeout!==void 0}W.ua=function(){typeof qv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mt(this,"timeout"),this.abort(8))};function KE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,tk(t),kp(t)}function tk(t){t.F||(t.F=!0,Mt(t,"complete"),Mt(t,"error"))}W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Mt(this,"complete"),Mt(this,"abort"),kp(this))};W.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kp(this,!0)),tt.$.N.call(this)};W.La=function(){this.s||(this.G||this.v||this.l?nk(this):this.kb())};W.kb=function(){nk(this)};function nk(t){if(t.h&&typeof qv<"u"&&(!t.C[1]||fr(t)!=4||t.da()!=2)){if(t.v&&fr(t)==4)r_(t.La,0,t);else if(Mt(t,"readystatechange"),fr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(WA)[1]||null;!i&&le.self&&le.self.location&&(i=le.self.location.protocol.slice(0,-1)),r=!Z3.test(i?i.toLowerCase():"")}n=r}if(n)Mt(t,"complete"),Mt(t,"success");else{t.m=6;try{var s=2<fr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",tk(t)}}finally{kp(t)}}}}function kp(t,e){if(t.g){rk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function rk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}W.isActive=function(){return!!this.g};function fr(t){return t.g?t.g.readyState:0}W.da=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}};W.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),J3(e)}};function YE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case ek:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function n6(t){const e={};t=(t.g&&2<=fr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ku(t[r]))continue;var n=I3(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}w3(e,function(r){return r.join(", ")})}W.Ia=function(){return this.m};W.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ik(t){let e="";return Yv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function u_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ik(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):$e(t,e,n))}function il(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function sk(t){this.Ga=0,this.j=[],this.l=new xp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=il("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=il("baseRetryDelayMs",5e3,t),this.hb=il("retryDelaySeedMs",1e4,t),this.eb=il("forwardChannelMaxRetries",2,t),this.xa=il("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new KA(t&&t.concurrentRequestLimit),this.Ja=new Y3,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}W=sk.prototype;W.ra=8;W.H=1;function c_(t){if(ok(t),t.H==3){var e=t.W++,n=Zr(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),Cc(t,n),e=new xc(t,t.l,e),e.L=2,e.v=Ip(Zr(n)),n=!1,le.navigator&&le.navigator.sendBeacon)try{n=le.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&le.Image&&(new Image().src=e.v,n=!0),n||(e.g=pk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Tc(e)}dk(t)}function Pp(t){t.g&&(d_(t),t.g.cancel(),t.g=null)}function ok(t){Pp(t),t.u&&(le.clearTimeout(t.u),t.u=null),Kd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function Rp(t){if(!YA(t.i)&&!t.m){t.m=!0;var e=t.Na;Ru||kA(),Ou||(Ru(),Ou=!0),t_.add(e,t),t.C=0}}function r6(t,e){return QA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=wc(Ht(t.Na,t,e),hk(t,t.C)),t.C++,!0)}W.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new xc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=EA(s),xA(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ak(this,i,e),n=Zr(this.I),$e(n,"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),Cc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(ik(s)))+"&"+e:this.o&&u_(n,this.o,s)),a_(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,H0(i,n,null)):H0(i,n,e),this.H=2}}else this.H==3&&(t?QE(this,t):this.j.length==0||YA(this.i)||QE(this))};function QE(t,e){var n;e?n=e.m:n=t.W++;const r=Zr(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),Cc(t,r),t.o&&t.s&&u_(r,t.o,t.s),n=new xc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ak(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),a_(t.i,n),H0(n,r,e)}function Cc(t,e){t.na&&Yv(t.na,function(n,r){$e(e,r,n)}),t.h&&BA({},function(n,r){$e(e,r,n)})}function ak(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ht(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{Q3(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function lk(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ru||kA(),Ou||(Ru(),Ou=!0),t_.add(e,t),t.A=0}}function h_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=wc(Ht(t.Ma,t),hk(t,t.A)),t.A++,!0)}W.Ma=function(){if(this.u=null,uk(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=wc(Ht(this.jb,this),t)}};W.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zt(10),Pp(this),uk(this))};function d_(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function uk(t){t.g=new xc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Zr(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),Cc(t,e),t.o&&t.s&&u_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ip(Zr(e)),n.s=null,n.S=!0,$A(n,t)}W.ib=function(){this.v!=null&&(this.v=null,Pp(this),h_(this),Zt(19))};function Kd(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function ck(t,e){var n=null;if(t.g==e){Kd(t),d_(t),t.g=null;var r=2}else if(G0(t.i,e))n=e.F,XA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Tp(),Mt(r,new MA(r,n)),Rp(t)}else lk(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&r6(t,e)||r==2&&h_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Cs(t,5);break;case 4:Cs(t,10);break;case 3:Cs(t,6);break;default:Cs(t,2)}}}function hk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Cs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ht(t.pb,t);n||(n=new Ds("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||qd(n,"https"),Ip(n)),X3(n.toString(),r)}else Zt(2);t.H=0,t.h&&t.h.za(e),dk(t),ok(t)}W.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Zt(2)):(this.l.info("Failed to ping google.com"),Zt(1))};function dk(t){if(t.H=0,t.ma=[],t.h){const e=JA(t.i);(e.length!=0||t.j.length!=0)&&(jE(t.ma,e),jE(t.ma,t.j),t.i.i.length=0,Gv(t.j),t.j.length=0),t.h.ya()}}function fk(t,e,n){var r=n instanceof Ds?Zr(n):new Ds(n);if(r.g!="")e&&(r.g=e+"."+r.g),Gd(r,r.m);else{var i=le.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ds(null);r&&qd(s,r),e&&(s.g=e),i&&Gd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&$e(r,n,e),$e(r,"VER",t.ra),Cc(t,r),r}function pk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new tt(new bc({ob:!0})):new tt(t.va),e.Oa(t.J),e}W.isActive=function(){return!!this.h&&this.h.isActive(this)};function mk(){}W=mk.prototype;W.Ba=function(){};W.Aa=function(){};W.za=function(){};W.ya=function(){};W.isActive=function(){return!0};W.Va=function(){};function Yd(){if(Ea&&!(10<=Number(g3)))throw Error("Environmental error: no available transport.")}Yd.prototype.g=function(t,e){return new Cn(t,e)};function Cn(t,e){bt.call(this),this.g=new sk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ku(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ku(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new $a(this)}Ct(Cn,bt);Cn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Zt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=fk(t,null,t.Y),Rp(t)};Cn.prototype.close=function(){c_(this.g)};Cn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=e_(t),t=n);e.j.push(new q3(e.fb++,t)),e.H==3&&Rp(e)};Cn.prototype.N=function(){this.g.h=null,delete this.j,c_(this.g),delete this.g,Cn.$.N.call(this)};function gk(t){s_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ct(gk,s_);function yk(){o_.call(this),this.status=1}Ct(yk,o_);function $a(t){this.g=t}Ct($a,mk);$a.prototype.Ba=function(){Mt(this.g,"a")};$a.prototype.Aa=function(t){Mt(this.g,new gk(t))};$a.prototype.za=function(t){Mt(this.g,new yk)};$a.prototype.ya=function(){Mt(this.g,"b")};function i6(){this.blockSize=-1}function er(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ct(er,i6);er.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ng(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}er.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)ng(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){ng(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){ng(this,r),i=0;break}}this.h=i,this.i+=e};er.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var s6={};function f_(t){return-128<=t&&128>t?f3(t,function(e){return new Pe([e|0],0>e?-1:0)}):new Pe([t|0],0>t?-1:0)}function pr(t){if(isNaN(t)||!isFinite(t))return ia;if(0>t)return Pt(pr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=K0;return new Pe(e,0)}function vk(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Pt(vk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=pr(Math.pow(e,8)),r=ia,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=pr(Math.pow(e,s)),r=r.R(s).add(pr(o))):(r=r.R(n),r=r.add(pr(o)))}return r}var K0=4294967296,ia=f_(0),Y0=f_(1),XE=f_(16777216);W=Pe.prototype;W.ea=function(){if(Mn(this))return-Pt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:K0+r)*e,e*=K0}return t};W.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Hr(this))return"0";if(Mn(this))return"-"+Pt(this).toString(t);for(var e=pr(Math.pow(t,6)),n=this,r="";;){var i=Xd(n,e).g;n=Qd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Hr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};W.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Hr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Mn(t){return t.h==-1}W.X=function(t){return t=Qd(this,t),Mn(t)?-1:Hr(t)?0:1};function Pt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Pe(n,~t.h).add(Y0)}W.abs=function(){return Mn(this)?Pt(this):this};W.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Pe(n,n[n.length-1]&-2147483648?-1:0)};function Qd(t,e){return t.add(Pt(e))}W.R=function(t){if(Hr(this)||Hr(t))return ia;if(Mn(this))return Mn(t)?Pt(this).R(Pt(t)):Pt(Pt(this).R(t));if(Mn(t))return Pt(this.R(Pt(t)));if(0>this.X(XE)&&0>t.X(XE))return pr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,hh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,hh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,hh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,hh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Pe(n,0)};function hh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function sl(t,e){this.g=t,this.h=e}function Xd(t,e){if(Hr(e))throw Error("division by zero");if(Hr(t))return new sl(ia,ia);if(Mn(t))return e=Xd(Pt(t),e),new sl(Pt(e.g),Pt(e.h));if(Mn(e))return e=Xd(t,Pt(e)),new sl(Pt(e.g),e.h);if(30<t.g.length){if(Mn(t)||Mn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Y0,r=e;0>=r.X(t);)n=JE(n),r=JE(r);var i=Ao(n,1),s=Ao(r,1);for(r=Ao(r,2),n=Ao(n,2);!Hr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ao(r,1),n=Ao(n,1)}return e=Qd(t,i.R(e)),new sl(i,e)}for(i=ia;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=pr(n),o=s.R(e);Mn(o)||0<o.X(t);)n-=r,s=pr(n),o=s.R(e);Hr(s)&&(s=Y0),i=i.add(s),t=Qd(t,o)}return new sl(i,t)}W.gb=function(t){return Xd(this,t).h};W.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Pe(n,this.h&t.h)};W.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Pe(n,this.h|t.h)};W.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Pe(n,this.h^t.h)};function JE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Pe(n,t.h)}function Ao(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Pe(i,t.h)}Yd.prototype.createWebChannel=Yd.prototype.g;Cn.prototype.send=Cn.prototype.u;Cn.prototype.open=Cn.prototype.m;Cn.prototype.close=Cn.prototype.close;bp.NO_ERROR=0;bp.TIMEOUT=8;bp.HTTP_ERROR=6;LA.COMPLETE="complete";FA.EventType=Ec;Ec.OPEN="a";Ec.CLOSE="b";Ec.ERROR="c";Ec.MESSAGE="d";bt.prototype.listen=bt.prototype.O;tt.prototype.listenOnce=tt.prototype.P;tt.prototype.getLastError=tt.prototype.Sa;tt.prototype.getLastErrorCode=tt.prototype.Ia;tt.prototype.getStatus=tt.prototype.da;tt.prototype.getResponseJson=tt.prototype.Wa;tt.prototype.getResponseText=tt.prototype.ja;tt.prototype.send=tt.prototype.ha;tt.prototype.setWithCredentials=tt.prototype.Oa;er.prototype.digest=er.prototype.l;er.prototype.reset=er.prototype.reset;er.prototype.update=er.prototype.j;Pe.prototype.add=Pe.prototype.add;Pe.prototype.multiply=Pe.prototype.R;Pe.prototype.modulo=Pe.prototype.gb;Pe.prototype.compare=Pe.prototype.X;Pe.prototype.toNumber=Pe.prototype.ea;Pe.prototype.toString=Pe.prototype.toString;Pe.prototype.getBits=Pe.prototype.D;Pe.fromNumber=pr;Pe.fromString=vk;var o6=function(){return new Yd},a6=function(){return Tp()},rg=bp,l6=LA,u6=go,ZE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},c6=bc,dh=FA,h6=tt,d6=er,sa=Pe;const ex="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new Bv("@firebase/firestore");function ol(){return Ks.logLevel}function ee(t,...e){if(Ks.logLevel<=ye.DEBUG){const n=e.map(p_);Ks.debug(`Firestore (${ja}): ${t}`,...n)}}function ei(t,...e){if(Ks.logLevel<=ye.ERROR){const n=e.map(p_);Ks.error(`Firestore (${ja}): ${t}`,...n)}}function xa(t,...e){if(Ks.logLevel<=ye.WARN){const n=e.map(p_);Ks.warn(`Firestore (${ja}): ${t}`,...n)}}function p_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: `+t;throw ei(e),new Error(e)}function ze(t,e){t||ae()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class p6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class m6{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new _k(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Ut(e)}}class g6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class y6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new g6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new v6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=w6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function Ta(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new gt(0,0))}static max(){return new ce(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends Fu{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new je(n)}static emptyPath(){return new je([])}}const E6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Fu{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return E6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(je.fromString(e))}static fromName(e){return new ne(je.fromString(e).popFirst(5))}static empty(){return new ne(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new je(e.slice()))}}function x6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Xi(i,ne.empty(),e)}function T6(t){return new Xi(t.readTime,t.key,-1)}class Xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xi(ce.min(),ne.empty(),-1)}static max(){return new Xi(ce.max(),ne.empty(),-1)}}function b6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==S6)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ac(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}m_._e=-1;function Op(t){return t==null}function Jd(t){return t===0&&1/t==-1/0}function I6(t){return typeof t=="number"&&Number.isInteger(t)&&!Jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ek(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??kt.RED,this.left=i??kt.EMPTY,this.right=s??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new kt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nx(this.data.getIterator())}getIteratorFrom(e){return new nx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class nx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Lt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xk("Invalid base64 string: "+s):s}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const A6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(ze(!!t),typeof t=="string"){let e=0;const n=A6.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function y_(t){const e=t.mapValue.fields.__previous_value__;return g_(e)?y_(e):e}function Vu(t){const e=Ji(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class $u{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?g_(t)?4:P6(t)?9007199254740991:10:ae()}function Ar(t,e){if(t===e)return!0;const n=Qs(t);if(n!==Qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vu(t).isEqual(Vu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ji(i.timestampValue),a=Ji(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ys(i.bytesValue).isEqual(Ys(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return lt(i.geoPointValue.latitude)===lt(s.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return lt(i.integerValue)===lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=lt(i.doubleValue),a=lt(s.doubleValue);return o===a?Jd(o)===Jd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ta(t.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tx(o)!==tx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ar(o[l],a[l])))return!1;return!0}(t,e);default:return ae()}}function ju(t,e){return(t.values||[]).find(n=>Ar(n,e))!==void 0}function ba(t,e){if(t===e)return 0;const n=Qs(t),r=Qs(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=lt(s.integerValue||s.doubleValue),l=lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return rx(t.timestampValue,e.timestampValue);case 4:return rx(Vu(t),Vu(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ys(s),l=Ys(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=be(a[u],l[u]);if(c!==0)return c}return be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=be(lt(s.latitude),lt(o.latitude));return a!==0?a:be(lt(s.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=ba(a[u],l[u]);if(c)return c}return be(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ph.mapValue&&o===ph.mapValue)return 0;if(s===ph.mapValue)return 1;if(o===ph.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=be(l[h],c[h]);if(d!==0)return d;const f=ba(a[l[h]],u[c[h]]);if(f!==0)return f}return be(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ae()}}function rx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Ji(t),r=Ji(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function Sa(t){return Q0(t)}function Q0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Q0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Q0(n.fields[o])}`;return i+"}"}(t.mapValue):ae()}function ix(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function X0(t){return!!t&&"integerValue"in t}function v_(t){return!!t&&"arrayValue"in t}function sx(t){return!!t&&"nullValue"in t}function ox(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jh(t){return!!t&&"mapValue"in t}function Yl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ua(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function P6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Yl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ua(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ln(Yl(this.value))}}function Tk(t){const e=[];return Ua(t.fields,(n,r)=>{const i=new Rt([n]);if(Jh(r)){const s=Tk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,ce.min(),ce.min(),ce.min(),Ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,ce.min(),ce.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,ce.min(),ce.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.position=e,this.inclusive=n}}function ax(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=ba(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function lx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n="asc"){this.field=e,this.dir=n}}function R6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{}class ct extends bk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new D6(e,n,r):n==="array-contains"?new L6(e,r):n==="in"?new F6(e,r):n==="not-in"?new V6(e,r):n==="array-contains-any"?new $6(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new N6(e,r):new M6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ba(n,this.value)):n!==null&&Qs(this.value)===Qs(n)&&this.matchesComparison(ba(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends bk{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new tr(e,n)}matches(e){return Sk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Sk(t){return t.op==="and"}function Ck(t){return O6(t)&&Sk(t)}function O6(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function J0(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Sa(t.value);if(Ck(t))return t.filters.map(e=>J0(e)).join(",");{const e=t.filters.map(n=>J0(n)).join(",");return`${t.op}(${e})`}}function Ik(t,e){return t instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&Ar(r.value,i.value)}(t,e):t instanceof tr?function(r,i){return i instanceof tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Ik(o,i.filters[a]),!0):!1}(t,e):void ae()}function Ak(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Sa(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(Ak).join(" ,")+"}"}(t):"Filter"}class D6 extends ct{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class N6 extends ct{constructor(e,n){super(e,"in",n),this.keys=kk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class M6 extends ct{constructor(e,n){super(e,"not-in",n),this.keys=kk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class L6 extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return v_(n)&&ju(n.arrayValue,this.value)}}class F6 extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ju(this.value.arrayValue,n)}}class V6 extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ju(this.value.arrayValue,n)}}class $6 extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!v_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ju(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function ux(t,e=null,n=[],r=[],i=null,s=null,o=null){return new j6(t,e,n,r,i,s,o)}function __(t){const e=de(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>J0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Op(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sa(r)).join(",")),e.ce=n}return e.ce}function w_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ik(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lx(t.startAt,e.startAt)&&lx(t.endAt,e.endAt)}function Z0(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function U6(t,e,n,r,i,s,o,a){return new za(t,e,n,r,i,s,o,a)}function Pk(t){return new za(t)}function cx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Rk(t){return t.collectionGroup!==null}function Ql(t){const e=de(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lt(Rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Uu(s,r))}),n.has(Rt.keyField().canonicalString())||e.le.push(new Uu(Rt.keyField(),r))}return e.le}function xr(t){const e=de(t);return e.he||(e.he=z6(e,Ql(t))),e.he}function z6(t,e){if(t.limitType==="F")return ux(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Uu(i.field,s)});const n=t.endAt?new Zd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zd(t.startAt.position,t.startAt.inclusive):null;return ux(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ey(t,e){const n=t.filters.concat([e]);return new za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ty(t,e,n){return new za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dp(t,e){return w_(xr(t),xr(e))&&t.limitType===e.limitType}function Ok(t){return`${__(xr(t))}|lt:${t.limitType}`}function Do(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ak(i)).join(", ")}]`),Op(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sa(i)).join(",")),`Target(${r})`}(xr(t))}; limitType=${t.limitType})`}function Np(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ql(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=ax(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ql(r),i)||r.endAt&&!function(o,a,l){const u=ax(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ql(r),i))}(t,e)}function B6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Dk(t){return(e,n)=>{let r=!1;for(const i of Ql(t)){const s=W6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function W6(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ba(l,u):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ua(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Ek(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=new Qe(ne.comparator);function ti(){return H6}const Nk=new Qe(ne.comparator);function Cl(...t){let e=Nk;for(const n of t)e=e.insert(n.key,n);return e}function Mk(t){let e=Nk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Is(){return Xl()}function Lk(){return Xl()}function Xl(){return new Ba(t=>t.toString(),(t,e)=>t.isEqual(e))}const q6=new Qe(ne.comparator),G6=new Lt(ne.comparator);function pe(...t){let e=G6;for(const n of t)e=e.add(n);return e}const K6=new Lt(be);function Y6(){return K6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(e)?"-0":e}}function Vk(t){return{integerValue:""+t}}function Q6(t,e){return I6(e)?Vk(e):Fk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this._=void 0}}function X6(t,e,n){return t instanceof ef?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&g_(s)&&(s=y_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof zu?jk(t,e):t instanceof Bu?Uk(t,e):function(i,s){const o=$k(i,s),a=hx(o)+hx(i.Ie);return X0(o)&&X0(i.Ie)?Vk(a):Fk(i.serializer,a)}(t,e)}function J6(t,e,n){return t instanceof zu?jk(t,e):t instanceof Bu?Uk(t,e):n}function $k(t,e){return t instanceof tf?function(r){return X0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ef extends Mp{}class zu extends Mp{constructor(e){super(),this.elements=e}}function jk(t,e){const n=zk(e);for(const r of t.elements)n.some(i=>Ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bu extends Mp{constructor(e){super(),this.elements=e}}function Uk(t,e){let n=zk(e);for(const r of t.elements)n=n.filter(i=>!Ar(i,r));return{arrayValue:{values:n}}}class tf extends Mp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function hx(t){return lt(t.integerValue||t.doubleValue)}function zk(t){return v_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Z6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof zu&&i instanceof zu||r instanceof Bu&&i instanceof Bu?Ta(r.elements,i.elements,Ar):r instanceof tf&&i instanceof tf?Ar(r.Ie,i.Ie):r instanceof ef&&i instanceof ef}(t.transform,e.transform)}class e9{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lp{}function Bk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new E_(t.key,Tr.none()):new kc(t.key,t.data,Tr.none());{const n=t.data,r=Ln.empty();let i=new Lt(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new yo(t.key,r,new Qn(i.toArray()),Tr.none())}}function t9(t,e,n){t instanceof kc?function(i,s,o){const a=i.value.clone(),l=fx(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yo?function(i,s,o){if(!Zh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=fx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Wk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Jl(t,e,n,r){return t instanceof kc?function(s,o,a,l){if(!Zh(s.precondition,o))return a;const u=s.value.clone(),c=px(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof yo?function(s,o,a,l){if(!Zh(s.precondition,o))return a;const u=px(s.fieldTransforms,l,o),c=o.data;return c.setAll(Wk(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Zh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function n9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$k(r.transform,i||null);s!=null&&(n===null&&(n=Ln.empty()),n.set(r.field,s))}return n||null}function dx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ta(r,i,(s,o)=>Z6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kc extends Lp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yo extends Lp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Wk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fx(t,e,n){const r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,J6(o,a,n[i]))}return r}function px(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,X6(s,o,e))}return r}class E_ extends Lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r9 extends Lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&t9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Lk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Bk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(n,r)=>dx(n,r))&&Ta(this.baseMutations,e.baseMutations,(n,r)=>dx(n,r))}}class x_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length);let i=function(){return q6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new x_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,_e;function a9(t){switch(t){default:return ae();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function Hk(t){if(t===void 0)return ei("GRPC error has no .code"),O.UNKNOWN;switch(t){case at.OK:return O.OK;case at.CANCELLED:return O.CANCELLED;case at.UNKNOWN:return O.UNKNOWN;case at.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case at.INTERNAL:return O.INTERNAL;case at.UNAVAILABLE:return O.UNAVAILABLE;case at.UNAUTHENTICATED:return O.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case at.NOT_FOUND:return O.NOT_FOUND;case at.ALREADY_EXISTS:return O.ALREADY_EXISTS;case at.PERMISSION_DENIED:return O.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case at.ABORTED:return O.ABORTED;case at.OUT_OF_RANGE:return O.OUT_OF_RANGE;case at.UNIMPLEMENTED:return O.UNIMPLEMENTED;case at.DATA_LOSS:return O.DATA_LOSS;default:return ae()}}(_e=at||(at={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=new sa([4294967295,4294967295],0);function mx(t){const e=l9().encode(t),n=new d6;return n.update(e),new Uint8Array(n.digest())}function gx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new sa([n,r],0),new sa([i,s],0)]}class T_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(r<0)throw new Il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=sa.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(sa.fromNumber(r)));return i.compare(u9)===1&&(i=new sa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=mx(e),[r,i]=gx(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new T_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=mx(e),[r,i]=gx(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fp(ce.min(),i,new Qe(be),ti(),pe())}}class Pc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pc(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class qk{constructor(e,n){this.targetId=e,this.fe=n}}class Gk{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class yx{constructor(){this.ge=0,this.pe=_x(),this.ye=Yt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=pe(),n=pe(),r=pe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new Pc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=_x()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class c9{constructor(e){this.Le=e,this.ke=new Map,this.qe=ti(),this.Qe=vx(),this.Ke=new Qe(be)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Z0(s))if(r===0){const o=new ne(s.path);this.We(n,o,Bt.newNoDocument(o,ce.min()))}else ze(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ys(r).toUint8Array()}catch(l){if(l instanceof xk)return xa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new T_(o,i,s)}catch(l){return xa(l instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Z0(a.target)){const l=new ne(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Bt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=pe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Fp(e,n,this.Ke,this.qe,r);return this.qe=ti(),this.Qe=vx(),this.Ke=new Qe(be),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new yx,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Lt(be),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new yx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function vx(){return new Qe(ne.comparator)}function _x(){return new Qe(ne.comparator)}const h9=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),d9=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),f9=(()=>({and:"AND",or:"OR"}))();class p9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ny(t,e){return t.useProto3Json||Op(e)?e:{value:e}}function nf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m9(t,e){return nf(t,e.toTimestamp())}function br(t){return ze(!!t),ce.fromTimestamp(function(n){const r=Ji(n);return new gt(r.seconds,r.nanos)}(t))}function b_(t,e){return function(r){return new je(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Yk(t){const e=je.fromString(t);return ze(Zk(e)),e}function ry(t,e){return b_(t.databaseId,e.path)}function ig(t,e){const n=Yk(e);if(n.get(1)!==t.databaseId.projectId)throw new J(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(Qk(n))}function iy(t,e){return b_(t.databaseId,e)}function g9(t){const e=Yk(t);return e.length===4?je.emptyPath():Qk(e)}function sy(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qk(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function wx(t,e,n){return{name:ry(t,e),fields:n.value.mapValue.fields}}function y9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ze(c===void 0||typeof c=="string"),Yt.fromBase64String(c||"")):(ze(c===void 0||c instanceof Uint8Array),Yt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?O.UNKNOWN:Hk(u.code);return new J(c,u.message||"")}(o);n=new Gk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ig(t,r.document.name),s=br(r.document.updateTime),o=r.document.createTime?br(r.document.createTime):ce.min(),a=new Ln({mapValue:{fields:r.document.fields}}),l=Bt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ed(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ig(t,r.document),s=r.readTime?br(r.readTime):ce.min(),o=Bt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ed([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ig(t,r.document),s=r.removedTargetIds||[];n=new ed([],s,i,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new o9(i,s),a=r.targetId;n=new qk(a,o)}}return n}function v9(t,e){let n;if(e instanceof kc)n={update:wx(t,e.key,e.value)};else if(e instanceof E_)n={delete:ry(t,e.key)};else if(e instanceof yo)n={update:wx(t,e.key,e.data),updateMask:I9(e.fieldMask)};else{if(!(e instanceof r9))return ae();n={verify:ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ef)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tf)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:m9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae()}(t,e.precondition)),n}function _9(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?br(i.updateTime):br(s);return o.isEqual(ce.min())&&(o=br(s)),new e9(o,i.transformResults||[])}(n,e))):[]}function w9(t,e){return{documents:[iy(t,e.path)]}}function E9(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=iy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=iy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Jk(tr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:No(h.field),direction:b9(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ny(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function x9(t){let e=g9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const d=Xk(h);return d instanceof tr&&Ck(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(p){return new Uu(Mo(p.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Op(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new Zd(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,f=h.values||[];return new Zd(f,d)}(n.endAt)),U6(e,i,o,s,a,"F",l,u)}function T9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Xk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mo(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mo(n.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Mo(n.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mo(n.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return ct.create(Mo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(r=>Xk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function b9(t){return h9[t]}function S9(t){return d9[t]}function C9(t){return f9[t]}function No(t){return{fieldPath:t.canonicalString()}}function Mo(t){return Rt.fromServerFormat(t.fieldPath)}function Jk(t){return t instanceof ct?function(n){if(n.op==="=="){if(ox(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NAN"}};if(sx(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ox(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NAN"}};if(sx(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(n.field),op:S9(n.op),value:n.value}}}(t):t instanceof tr?function(n){const r=n.getFilters().map(i=>Jk(i));return r.length===1?r[0]:{compositeFilter:{op:C9(n.op),filters:r}}}(t):ae()}function I9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Zk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r,i,s=ce.min(),o=ce.min(),a=Yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.ut=e}}function k9(t){const e=x9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ty(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.on=new R9}addToCollectionParentIndex(e,n){return this.on.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Xi.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class R9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(je.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ca(0)}static Nn(){return new Ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.changes=new Ba(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Jl(r.mutation,i,Qn.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=Is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Cl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ti();const o=Xl(),a=function(){return Xl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof yo)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Jl(c.mutation,u,c.mutation.getFieldMask(),gt.now())):o.set(u.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new D9(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Xl();let i=new Qe((o,a)=>o-a),s=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Qn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||pe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=Lk();c.forEach(d=>{if(!s.has(d)){const f=Bk(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Rk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Is());let a=-1,l=s;return o.next(u=>M.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?M.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,pe())).next(c=>({batchId:a,changes:Mk(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=Cl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Cl();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,l=>{const u=function(h,d){return new za(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Bt.newInvalidDocument(c)))});let a=Cl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Jl(c.mutation,u,Qn.empty(),gt.now()),Np(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return M.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:br(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:k9(i.bundledQuery),readTime:br(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(){this.overlays=new Qe(ne.comparator),this.lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Is();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Is(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Is(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Is(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return M.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new s9(n,r));let s=this.lr.get(n);s===void 0&&(s=pe(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.hr=new Lt(_t.Pr),this.Ir=new Lt(_t.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new _t(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ne(new je([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ne(new je([])),r=new _t(n,e),i=new _t(n,e+1);let s=pe();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _t(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ne.comparator(e.key,n.key)||be(e.gr,n.gr)}static Tr(e,n){return be(e.gr,n.gr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Lt(_t.Pr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new i9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(be);return n.forEach(i=>{const s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),M.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new _t(new ne(s),0);let a=new Lt(be);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),M.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return M.forEach(n.mutations,i=>{const s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new _t(n,0),i=this.yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.Cr=e,this.docs=function(){return new Qe(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=ti();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ti();const o=n.path,a=new ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||b6(T6(c),r)<=0||(i.has(c.key)||Np(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ae()}vr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $9(this)}getSize(e){return M.resolve(this.size)}}class $9 extends O9{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.persistence=e,this.Fr=new Ba(n=>__(n),w_),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Mr=0,this.Or=new S_,this.targetCount=0,this.Nr=Ca.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),M.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ca(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.kn(n),M.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n){this.Br={},this.overlays={},this.Lr=new m_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new j9(this),this.indexManager=new P9,this.remoteDocumentCache=function(i){return new V9(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new A9(n),this.Kr=new M9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new F9(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new z9(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class z9 extends C6{constructor(e){super(),this.currentSequenceNumber=e}}class C_{constructor(e){this.persistence=e,this.Gr=new S_,this.zr=null}static jr(e){return new C_(e)}get Hr(){if(this.zr)return this.zr;throw ae()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,r=>{const i=ne.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return M.or([()=>M.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new I_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new B9;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(ol()<=ye.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Do(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),M.resolve()):(ol()<=ye.DEBUG&&ee("QueryEngine","Query:",Do(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(ol()<=ye.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Do(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):M.resolve())}zi(e,n){if(cx(n))return M.resolve(null);let r=xr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ty(n,null,"F"),r=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pe(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,ty(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return cx(n)||i.isEqual(ce.min())?M.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?M.resolve(null):(ol()<=ye.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Do(n)),this.Xi(e,o,n,x6(i,-1)).next(a=>a))})}Yi(e,n){let r=new Lt(Dk(e));return n.forEach((i,s)=>{Np(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return ol()<=ye.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Do(n)),this.Gi.getDocumentsMatchingQuery(e,n,Xi.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Qe(be),this.ns=new Ba(s=>__(s),w_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N9(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function q9(t,e,n,r){return new H9(t,e,n,r)}async function e2(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=pe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function G9(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let f=M.resolve();return d.forEach(p=>{f=f.next(()=>c.getEntry(l,p)).next(m=>{const y=u.docVersions.get(p);ze(y!==null),m.version.compareTo(y)<0&&(h.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function t2(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function K9(t,e){const n=de(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Yt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(m,y,g){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,f,c)&&a.push(n.qr.updateTargetData(s,f))});let l=ti(),u=pe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Y9(s,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(ce.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function Y9(t,e,n){let r=pe(),i=pe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ti();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function Q9(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X9(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new bi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function oy(t,e,n){const r=de(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ac(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function Ex(t,e,n){const r=de(t);let i=ce.min(),s=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=de(l),d=h.ns.get(c);return d!==void 0?M.resolve(h.ts.get(d)):h.qr.getTargetData(u,c)}(r,o,xr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:pe())).next(a=>(J9(r,B6(e),a),{documents:a,ls:s})))}function J9(t,e,n){let r=t.rs.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class xx{constructor(){this.activeTargetIds=Y6()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z9{constructor(){this.eo=new xx,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new xx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function sg(){return mh===null?mh=function(){return 268435456+Math.round(2147483648*Math.random())}():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class rU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=sg(),l=this.So(n,r);ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw xa("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ja}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=tU[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=sg();return new Promise((o,a)=>{const l=new h6;l.setWithCredentials(!0),l.listenOnce(l6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rg.NO_ERROR:const c=l.getResponseJson();ee(jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case rg.TIMEOUT:ee(jt,`RPC '${e}' ${s} timed out`),a(new J(O.DEADLINE_EXCEEDED,"Request time out"));break;case rg.HTTP_ERROR:const h=l.getStatus();if(ee(jt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const p=function(y){const g=y.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(g)>=0?g:O.UNKNOWN}(f.status);a(new J(p,f.message))}else a(new J(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(O.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{ee(jt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ee(jt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=sg(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=o6(),a=a6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new c6({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");ee(jt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let d=!1,f=!1;const p=new nU({co:y=>{f?ee(jt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||(ee(jt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),ee(jt,`RPC '${e}' stream ${i} sending:`,y),h.send(y))},lo:()=>h.close()}),m=(y,g,v)=>{y.listen(g,w=>{try{v(w)}catch(E){setTimeout(()=>{throw E},0)}})};return m(h,dh.EventType.OPEN,()=>{f||ee(jt,`RPC '${e}' stream ${i} transport opened.`)}),m(h,dh.EventType.CLOSE,()=>{f||(f=!0,ee(jt,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),m(h,dh.EventType.ERROR,y=>{f||(f=!0,xa(jt,`RPC '${e}' stream ${i} transport errored:`,y),p.Ro(new J(O.UNAVAILABLE,"The operation could not be completed")))}),m(h,dh.EventType.MESSAGE,y=>{var g;if(!f){const v=y.data[0];ze(!!v);const w=v,E=w.error||((g=w[0])===null||g===void 0?void 0:g.error);if(E){ee(jt,`RPC '${e}' stream ${i} received error:`,E);const T=E.status;let b=function(R){const P=at[R];if(P!==void 0)return Hk(P)}(T),S=E.message;b===void 0&&(b=O.INTERNAL,S="Unknown error status: "+T+" with message "+E.message),f=!0,p.Ro(new J(b,S)),h.close()}else ee(jt,`RPC '${e}' stream ${i} received:`,v),p.Vo(v)}}),m(a,u6.STAT_EVENT,y=>{y.stat===ZE.PROXY?ee(jt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===ZE.NOPROXY&&ee(jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function og(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t){return new p9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new n2(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(ei(n.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new J(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iU extends r2{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=y9(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?br(o.readTime):ce.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=sy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Z0(l)?{documents:w9(s,l)}:{query:E9(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Kk(s,o.resumeToken);const u=ny(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=nf(s,o.snapshotVersion.toTimestamp());const u=ny(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=T9(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=sy(this.serializer),n.removeTarget=e,this.e_(n)}}class sU extends r2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=_9(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.I_(r,n)}return ze(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=sy(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>v9(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new J(O.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(O.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(O.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class aU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ei(n),this.f_=!1):ee("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{vo(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=de(l);u.C_.add(4),await Rc(u),u.M_.set("Unknown"),u.C_.delete(4),await $p(u)}(this))})}),this.M_=new aU(r,i)}}async function $p(t){if(vo(t))for(const e of t.v_)await e(!0)}async function Rc(t){for(const e of t.v_)await e(!1)}function i2(t,e){const n=de(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),P_(n)?k_(n):Wa(n).Ho()&&A_(n,e))}function s2(t,e){const n=de(t),r=Wa(n);n.D_.delete(e),r.Ho()&&o2(n,e),n.D_.size===0&&(r.Ho()?r.Zo():vo(n)&&n.M_.set("Unknown"))}function A_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wa(t).u_(e)}function o2(t,e){t.x_.Oe(e),Wa(t).c_(e)}function k_(t){t.x_=new c9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Wa(t).start(),t.M_.g_()}function P_(t){return vo(t)&&!Wa(t).jo()&&t.D_.size>0}function vo(t){return de(t).C_.size===0}function a2(t){t.x_=void 0}async function uU(t){t.D_.forEach((e,n)=>{A_(t,e)})}async function cU(t,e){a2(t),P_(t)?(t.M_.w_(e),k_(t)):t.M_.set("Unknown")}async function hU(t,e,n){if(t.M_.set("Online"),e instanceof Gk&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rf(t,r)}else if(e instanceof ed?t.x_.$e(e):e instanceof qk?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ce.min()))try{const r=await t2(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(Yt.EMPTY_BYTE_STRING,c.snapshotVersion)),o2(s,l);const h=new bi(c.target,l,u,c.sequenceNumber);A_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await rf(t,r)}}async function rf(t,e,n){if(!Ac(e))throw e;t.C_.add(1),await Rc(t),t.M_.set("Offline"),n||(n=()=>t2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await $p(t)})}function l2(t,e){return e().catch(n=>rf(t,n,e))}async function jp(t){const e=de(t),n=Zi(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;dU(e);)try{const i=await Q9(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,fU(e,i)}catch(i){await rf(e,i)}u2(e)&&c2(e)}function dU(t){return vo(t)&&t.b_.length<10}function fU(t,e){t.b_.push(e);const n=Zi(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function u2(t){return vo(t)&&!Zi(t).jo()&&t.b_.length>0}function c2(t){Zi(t).start()}async function pU(t){Zi(t).E_()}async function mU(t){const e=Zi(t);for(const n of t.b_)e.P_(n.mutations)}async function gU(t,e,n){const r=t.b_.shift(),i=x_.from(r,e,n);await l2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await jp(t)}async function yU(t,e){e&&Zi(t).h_&&await async function(r,i){if(function(o){return a9(o)&&o!==O.ABORTED}(i.code)){const s=r.b_.shift();Zi(r).Yo(),await l2(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await jp(r)}}(t,e),u2(t)&&c2(t)}async function bx(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=vo(n);n.C_.add(3),await Rc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await $p(n)}async function vU(t,e){const n=de(t);e?(n.C_.delete(2),await $p(n)):e||(n.C_.add(2),await Rc(n),n.M_.set("Unknown"))}function Wa(t){return t.O_||(t.O_=function(n,r,i){const s=de(n);return s.A_(),new iU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:uU.bind(null,t),Io:cU.bind(null,t),a_:hU.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),P_(t)?k_(t):t.M_.set("Unknown")):(await t.O_.stop(),a2(t))})),t.O_}function Zi(t){return t.N_||(t.N_=function(n,r,i){const s=de(n);return s.A_(),new sU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:pU.bind(null,t),Io:yU.bind(null,t),T_:mU.bind(null,t),I_:gU.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await jp(t)):(await t.N_.stop(),t.b_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new R_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O_(t,e){if(ei("AsyncQueue",`${e}: ${t}`),Ac(t))return new J(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Cl(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new oa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.B_=new Qe(ne.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ae():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ia{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ia(e,n,oa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(){this.k_=void 0,this.listeners=[]}}class wU{constructor(){this.queries=new Ba(e=>Ok(e),Dp),this.onlineState="Unknown",this.q_=new Set}}async function EU(t,e){const n=de(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new _U),i)try{s.k_=await n.onListen(r)}catch(o){const a=O_(o,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&D_(n)}async function xU(t,e){const n=de(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function TU(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&D_(n)}function bU(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function D_(t){t.q_.forEach(e=>{e.next()})}class SU{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.key=e}}class d2{constructor(e){this.key=e}}class CU{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=pe(),this.mutatedKeys=pe(),this._a=Dk(e),this.aa=new oa(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Sx,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),f=Np(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;d&&f?d.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.ha(d,f)||(r.track({type:2,doc:f}),y=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),y=!0):d&&!f&&(r.track({type:1,doc:d}),y=!0,(l||u)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((u,c)=>function(d,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return p(d)-p(f)}(u.type,c.type)||this._a(u.doc,c.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,s.length!==0||l?{snapshot:new Ia(this.query,e.aa,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Sx,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=pe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new d2(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new h2(r))}),n}da(e){this.ia=e.ls,this.oa=pe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ia.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class IU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AU{constructor(e){this.key=e,this.Ra=!1}}class kU{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Ba(a=>Ok(a),Dp),this.fa=new Map,this.ga=new Set,this.pa=new Qe(ne.comparator),this.ya=new Map,this.wa=new S_,this.Sa={},this.ba=new Map,this.Da=Ca.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function PU(t,e){const n=jU(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await X9(n.localStore,xr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await RU(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&i2(n.remoteStore,o)}return i}async function RU(t,e,n,r,i){t.va=(h,d,f)=>async function(m,y,g,v){let w=y.view.ca(g);w.Zi&&(w=await Ex(m.localStore,y.query,!1).then(({documents:b})=>y.view.ca(b,w)));const E=v&&v.targetChanges.get(y.targetId),T=y.view.applyChanges(w,m.isPrimaryClient,E);return Ix(m,y.targetId,T.Ta),T.snapshot}(t,h,d,f);const s=await Ex(t.localStore,e,!0),o=new CU(e,s.ls),a=o.ca(s.documents),l=Pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Ix(t,n,u.Ta);const c=new IU(e,n,o);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function OU(t,e){const n=de(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Dp(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await oy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),s2(n.remoteStore,r.targetId),ay(n,r.targetId)}).catch(Ic)):(ay(n,r.targetId),await oy(n.localStore,r.targetId,!0))}async function DU(t,e,n){const r=UU(t);try{const i=await function(o,a){const l=de(o),u=gt.now(),c=a.reduce((f,p)=>f.add(p.key),pe());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=ti(),m=pe();return l.ss.getEntries(f,c).next(y=>{p=y,p.forEach((g,v)=>{v.isValidDocument()||(m=m.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(y=>{h=y;const g=[];for(const v of a){const w=n9(v,h.get(v.key).overlayedDocument);w!=null&&g.push(new yo(v.key,w,Tk(w.value.mapValue),Tr.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,g,a)}).next(y=>{d=y;const g=y.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(f,y.batchId,g)})}).then(()=>({batchId:d.batchId,changes:Mk(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new Qe(be)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Oc(r,i.changes),await jp(r.remoteStore)}catch(i){const s=O_(i,"Failed to persist write");n.reject(s)}}async function f2(t,e){const n=de(t);try{const r=await K9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ze(o.Ra):i.removedDocuments.size>0&&(ze(o.Ra),o.Ra=!1))}),await Oc(n,r,e)}catch(r){await Ic(r)}}function Cx(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.listeners)d.Q_(a)&&(u=!0)}),u&&D_(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NU(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Qe(ne.comparator);o=o.insert(s,Bt.newNoDocument(s,ce.min()));const a=pe().add(s),l=new Fp(ce.min(),new Map,new Qe(be),o,a);await f2(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),N_(r)}else await oy(r.localStore,e,!1).then(()=>ay(r,e,n)).catch(Ic)}async function MU(t,e){const n=de(t),r=e.batch.batchId;try{const i=await G9(n.localStore,e);m2(n,r,null),p2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Oc(n,i)}catch(i){await Ic(i)}}async function LU(t,e,n){const r=de(t);try{const i=await function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ze(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);m2(r,e,n),p2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Oc(r,i)}catch(i){await Ic(i)}}function p2(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function m2(t,e,n){const r=de(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||g2(t,r)})}function g2(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(s2(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),N_(t))}function Ix(t,e,n){for(const r of n)r instanceof h2?(t.wa.addReference(r.key,e),FU(t,r)):r instanceof d2?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||g2(t,r.key)):ae()}function FU(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.ga.add(r),N_(t))}function N_(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ne(je.fromString(e)),r=t.Da.next();t.ya.set(r,new AU(n)),t.pa=t.pa.insert(n,r),i2(t.remoteStore,new bi(xr(Pk(n.path)),r,"TargetPurposeLimboResolution",m_._e))}}async function Oc(t,e,n){const r=de(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=I_.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=de(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>M.forEach(u,d=>M.forEach(d.ki,f=>c.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>M.forEach(d.qi,f=>c.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Ac(h))throw h;ee("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const f=c.ts.get(d),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(d,m)}}}(r.localStore,s))}async function VU(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await e2(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new J(O.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oc(n,r._s)}}function $U(t,e){const n=de(t),r=n.ya.get(e);if(r&&r.Ra)return pe().add(r.key);{let i=pe();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function jU(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=f2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$U.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NU.bind(null,e),e.Va.a_=TU.bind(null,e.eventManager),e.Va.Fa=bU.bind(null,e.eventManager),e}function UU(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LU.bind(null,e),e}class Ax{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Vp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return q9(this.persistence,new W9,e.initialUser,this.serializer)}createPersistence(e){return new U9(C_.jr,this.serializer)}createSharedClientState(e){return new Z9}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zU{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VU.bind(null,this.syncEngine),await vU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wU}()}createDatastore(e){const n=Vp(e.databaseInfo.databaseId),r=function(s){return new rU(s)}(e.databaseInfo);return function(s,o,a,l){return new oU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new lU(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Cx(this.syncEngine,n,0),function(){return Tx.D()?new Tx:new eU}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new kU(i,s,o,a,l,u);return c&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=de(n);ee("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Rc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ut.UNAUTHENTICATED,this.clientId=wk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ee("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=O_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ag(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await e2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qU(t);ee("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>bx(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>bx(e.remoteStore,s)),t._onlineComponents=e}function HU(t){return t.name==="FirebaseError"?t.code===O.FAILED_PRECONDITION||t.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function qU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!HU(n))throw n;xa("Error using user provided cache. Falling back to memory cache: "+n),await ag(t,new Ax)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await ag(t,new Ax);return t._offlineComponents}async function y2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await kx(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await kx(t,new zU))),t._onlineComponents}function GU(t){return y2(t).then(e=>e.syncEngine)}async function KU(t){const e=await y2(t),n=e.eventManager;return n.onListen=PU.bind(null,e.syncEngine),n.onUnlisten=OU.bind(null,e.syncEngine),n}function YU(t,e,n={}){const r=new zi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new BU({next:d=>{o.enqueueAndForget(()=>xU(s,h)),d.fromCache&&l.source==="server"?u.reject(new J(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new SU(a,c,{includeMetadataChanges:!0,J_:!0});return EU(s,h)}(await KU(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t,e,n){if(!n)throw new J(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QU(t,e,n,r){if(e===!0&&r===!0)throw new J(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rx(t){if(!ne.isDocumentKey(t))throw new J(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ox(t){if(ne.isDocumentKey(t))throw new J(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Up(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function Wu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Up(t);throw new J(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new f6;switch(r.type){case"firstParty":return new y6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Px.get(n);r&&(ee("ComponentProvider","Removing Datastore"),Px.delete(n),r.terminate())}(this),Promise.resolve()}}function XU(t,e,n,r={}){var i;const s=(t=Wu(t,zp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ut.MOCK_USER;else{a=hA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ut(u)}t._authCredentials=new p6(new _k(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _o(this.firestore,e,this._query)}}class Un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class Bi extends _o{constructor(e,n,r){super(e,n,Pk(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new ne(e))}withConverter(e){return new Bi(this.firestore,e,this._path)}}function Ns(t,e,...n){if(t=Tt(t),_2("collection","path",e),t instanceof zp){const r=je.fromString(e,...n);return Ox(r),new Bi(t,null,r)}{if(!(t instanceof Un||t instanceof Bi))throw new J(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return Ox(r),new Bi(t.firestore,null,r)}}function w2(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=wk.newId()),_2("doc","path",e),t instanceof zp){const r=je.fromString(e,...n);return Rx(r),new Un(t,null,new ne(r))}{if(!(t instanceof Un||t instanceof Bi))throw new J(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return Rx(r),new Un(t.firestore,t instanceof Bi?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new n2(this,"async_queue_retry"),this.iu=()=>{const n=og();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=og();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=og();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new zi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Ac(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ei("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=R_.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ae()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Bp extends zp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new JU}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||x2(this),this._firestoreClient.terminate()}}function ZU(t,e){const n=typeof t=="object"?t:Hv(),r=typeof t=="string"?t:e||"(default)",i=gp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=lA("firestore");s&&XU(i,...s)}return i}function E2(t){return t._firestoreClient||x2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function x2(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new k6(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,v2(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new WU(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Aa(Yt.fromBase64String(e))}catch(n){throw new J(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Aa(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=/^__.*__$/;class t8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yo(e,this.data,this.fieldMask,n,this.fieldTransforms):new kc(e,this.data,n,this.fieldTransforms)}}function b2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class F_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new F_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return sf(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(b2(this.Iu)&&e8.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class n8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vp(e)}pu(e,n,r,i=!1){return new F_({Iu:e,methodName:n,gu:r,path:Rt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S2(t){const e=t._freezeSettings(),n=Vp(t._databaseId);return new n8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r8(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);A2("Data must be an object, but it was:",o,r);const a=C2(r,o);let l,u;if(s.merge)l=new Qn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=s8(e,h,n);if(!o.contains(d))throw new J(O.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);a8(c,d)||c.push(d)}l=new Qn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new t8(new Ln(a),l,u)}function i8(t,e,n,r=!1){return V_(n,t.pu(r?4:3,e))}function V_(t,e){if(I2(t=Tt(t)))return A2("Unsupported field value:",e,t),C2(t,e);if(t instanceof T2)return function(r,i){if(!b2(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=V_(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Q6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gt.fromDate(r);return{timestampValue:nf(i.serializer,s)}}if(r instanceof gt){const s=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nf(i.serializer,s)}}if(r instanceof L_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Aa)return{bytesValue:Kk(i.serializer,r._byteString)};if(r instanceof Un){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:b_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Up(r)}`)}(t,e)}function C2(t,e){const n={};return Ek(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ua(t,(r,i)=>{const s=V_(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function I2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof L_||t instanceof Aa||t instanceof Un||t instanceof T2)}function A2(t,e,n){if(!I2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Up(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function s8(t,e,n){if((e=Tt(e))instanceof M_)return e._internalPath;if(typeof e=="string")return k2(t,e);throw sf("Field path arguments must be of type string or ",t,!1,void 0,n)}const o8=new RegExp("[~\\*/\\[\\]]");function k2(t,e,n){if(e.search(o8)>=0)throw sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new M_(...e.split("."))._internalPath}catch{throw sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(O.INVALID_ARGUMENT,a+t+l)}function a8(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class l8 extends P2{data(){return super.data()}}function Wp(t,e){return typeof e=="string"?k2(t,e):e instanceof M_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $_{}class R2 extends $_{}function Wi(t,e,...n){let r=[];e instanceof $_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof U_).length,a=s.filter(l=>l instanceof Hp).length;if(o>1||o>0&&a>0)throw new J(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Hp extends R2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hp(e,n,r)}_apply(e){const n=this._parse(e);return O2(e._query,n),new _o(e.firestore,e.converter,ey(e._query,n))}_parse(e){const n=S2(e.firestore);return function(s,o,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new J(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Mx(h,c);const f=[];for(const p of h)f.push(Nx(l,s,p));d={arrayValue:{values:f}}}else d=Nx(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Mx(h,c),d=i8(a,o,h,c==="in"||c==="not-in");return ct.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function j_(t,e,n){const r=e,i=Wp("where",t);return Hp._create(i,r,n)}class U_ extends $_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new U_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)O2(o,l),o=ey(o,l)}(e._query,n),new _o(e.firestore,e.converter,ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class z_ extends R2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new z_(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new J(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new J(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uu(s,o)}(e._query,this._field,this._direction);return new _o(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new za(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Hu(t,e="asc"){const n=e,r=Wp("orderBy",t);return z_._create(r,n)}function Nx(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new J(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rk(e)&&n.indexOf("/")!==-1)throw new J(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!ne.isDocumentKey(r))throw new J(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ix(t,new ne(r))}if(n instanceof Un)return ix(t,n._key);throw new J(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Up(n)}.`)}function Mx(t,e){if(!Array.isArray(t)||t.length===0)throw new J(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function O2(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class c8{convertValue(e,n="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ua(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new L_(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=y_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);ze(Zk(r));const i=new $u(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||ei(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class d8 extends P2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class td extends d8{data(e={}){return super.data(e)}}class f8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new td(this._firestore,this._userDataWriter,r.key,r,new gh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new td(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new td(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:p8(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function p8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}class m8 extends c8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Aa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function ka(t){t=Wu(t,_o);const e=Wu(t.firestore,Bp),n=E2(e),r=new m8(e);return u8(t._query),YU(n,t._query).then(i=>new f8(e,r,t,i))}function g8(t){return N2(Wu(t.firestore,Bp),[new E_(t._key,Tr.none())])}function D2(t,e){const n=Wu(t.firestore,Bp),r=w2(t),i=h8(t.converter,e);return N2(n,[r8(S2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then(()=>r)}function N2(t,e){return function(r,i){const s=new zi;return r.asyncQueue.enqueueAndForget(async()=>DU(await GU(r),i,s)),s.promise}(E2(t),e)}(function(e,n=!0){(function(i){ja=i})(mo),Gs(new Qi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Bp(new m6(r.getProvider("auth-internal")),new _6(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Er(ex,"4.3.2",e),Er(ex,"4.3.2","esm2017")})();var y8="firebase",v8="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(y8,v8,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="firebasestorage.googleapis.com",L2="storageBucket",_8=2*60*1e3,w8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends Rr{constructor(e,n,r=0){super(lg(e),`Firebase Storage: ${n} (${lg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var nt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(nt||(nt={}));function lg(t){return"storage/"+t}function B_(){const t="An unknown error occurred, please check the error payload for server response.";return new rt(nt.UNKNOWN,t)}function E8(t){return new rt(nt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function x8(t){return new rt(nt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function T8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rt(nt.UNAUTHENTICATED,t)}function b8(){return new rt(nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function S8(t){return new rt(nt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function C8(){return new rt(nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function I8(){return new rt(nt.CANCELED,"User canceled the upload/download.")}function A8(t){return new rt(nt.INVALID_URL,"Invalid URL '"+t+"'.")}function k8(t){return new rt(nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function P8(){return new rt(nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+L2+"' property when initializing the app?")}function R8(){return new rt(nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function O8(){return new rt(nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function D8(t){return new rt(nt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ly(t){return new rt(nt.INVALID_ARGUMENT,t)}function F2(){return new rt(nt.APP_DELETED,"The Firebase app was deleted.")}function N8(t){return new rt(nt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zl(t,e){return new rt(nt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function al(t){throw new rt(nt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=wn.makeFromUrl(e,n)}catch{return new wn(e,"")}if(r.path==="")return r;throw k8(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===M2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",g=new RegExp(`^https?://${m}/${i}/${y}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<w.length;E++){const T=w[E],b=T.regex.exec(e);if(b){const S=b[T.indices.bucket];let C=b[T.indices.path];C||(C=""),r=new wn(S,C),T.postModify(r);break}}if(r==null)throw A8(e);return r}}class M8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function h(y){i=setTimeout(()=>{i=null,t(f,l())},y)}function d(){s&&clearTimeout(s)}function f(y,...g){if(u){d();return}if(y){d(),c.call(null,y,...g);return}if(l()||o){d(),c.call(null,y,...g);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let p=!1;function m(y){p||(p=!0,d(),!u&&(i!==null?(y||(a=2),clearTimeout(i),h(0)):y||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function F8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t){return t!==void 0}function $8(t){return typeof t=="object"&&!Array.isArray(t)}function W_(t){return typeof t=="string"||t instanceof String}function Lx(t){return H_()&&t instanceof Blob}function H_(){return typeof Blob<"u"&&!z$()}function Fx(t,e,n,r){if(r<e)throw ly(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ly(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function V2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ms;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ms||(Ms={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n,r,i,s,o,a,l,u,c,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new yh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ms.NO_ERROR,l=s.getStatus();if(!a||j8(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ms.ABORT;r(!1,new yh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new yh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());V8(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=B_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?F2():I8();o(l)}else{const l=C8();o(l)}};this.canceled_?n(!1,new yh(!1,null,!0)):this.backoffId_=L8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&F8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function z8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function B8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function W8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function H8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function q8(t,e,n,r,i,s,o=!0){const a=V2(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return W8(u,e),z8(u,n),B8(u,s),H8(u,r),new U8(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function K8(...t){const e=G8();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(H_())return new Blob(t);throw new rt(nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Y8(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){if(typeof atob>"u")throw D8("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ug{constructor(e,n){this.data=e,this.contentType=n||null}}function X8(t,e){switch(t){case mr.RAW:return new ug($2(e));case mr.BASE64:case mr.BASE64URL:return new ug(j2(t,e));case mr.DATA_URL:return new ug(Z8(e),ez(e))}throw B_()}function $2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function J8(t){let e;try{e=decodeURIComponent(t)}catch{throw Zl(mr.DATA_URL,"Malformed data URL.")}return $2(e)}function j2(t,e){switch(t){case mr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Zl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case mr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Zl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Q8(e)}catch(i){throw i.message.includes("polyfill")?i:Zl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class U2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Zl(mr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=tz(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Z8(t){const e=new U2(t);return e.base64?j2(mr.BASE64,e.rest):J8(e.rest)}function ez(t){return new U2(t).contentType}function tz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){let r=0,i="";Lx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Lx(this.data_)){const r=this.data_,i=Y8(r,e,n);return i===null?null:new mi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new mi(r,!0)}}static getBlob(...e){if(H_()){const n=e.map(r=>r instanceof mi?r.data_:r);return new mi(K8.apply(null,n))}else{const n=e.map(o=>W_(o)?X8(mr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new mi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t){let e;try{e=JSON.parse(t)}catch{return null}return $8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rz(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function B2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t,e){return e}class Xt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||iz}}let vh=null;function sz(t){return!W_(t)||t.length<2?t:B2(t)}function W2(){if(vh)return vh;const t=[];t.push(new Xt("bucket")),t.push(new Xt("generation")),t.push(new Xt("metageneration")),t.push(new Xt("name","fullPath",!0));function e(s,o){return sz(o)}const n=new Xt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Xt("size");return i.xform=r,t.push(i),t.push(new Xt("timeCreated")),t.push(new Xt("updated")),t.push(new Xt("md5Hash",null,!0)),t.push(new Xt("cacheControl",null,!0)),t.push(new Xt("contentDisposition",null,!0)),t.push(new Xt("contentEncoding",null,!0)),t.push(new Xt("contentLanguage",null,!0)),t.push(new Xt("contentType",null,!0)),t.push(new Xt("metadata","customMetadata",!0)),vh=t,vh}function oz(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new wn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function az(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return oz(r,t),r}function H2(t,e,n){const r=z2(e);return r===null?null:az(t,r,n)}function lz(t,e,n,r){const i=z2(e);if(i===null||!W_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,d="/b/"+o(c)+"/o/"+o(h),f=qp(d,n,r),p=V2({alt:"media",token:u});return f+p})[0]}function uz(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class q_{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){if(!t)throw B_()}function cz(t,e){function n(r,i){const s=H2(t,i,e);return q2(s!==null),s}return n}function hz(t,e){function n(r,i){const s=H2(t,i,e);return q2(s!==null),lz(s,i,t.host,t._protocol)}return n}function G2(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=b8():i=T8():n.getStatus()===402?i=x8(t.bucket):n.getStatus()===403?i=S8(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function K2(t){const e=G2(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=E8(t.path)),s.serverResponse=i.serverResponse,s}return n}function dz(t,e,n){const r=e.fullServerUrl(),i=qp(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new q_(i,s,hz(t,n),o);return a.errorHandler=K2(e),a}function fz(t,e){const n=e.fullServerUrl(),r=qp(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new q_(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=K2(e),a}function pz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function mz(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=pz(null,e)),r}function gz(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=mz(e,r,i),c=uz(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",f=mi.getBlob(h,r,d);if(f===null)throw R8();const p={name:u.fullPath},m=qp(s,t.host,t._protocol),y="POST",g=t.maxUploadRetryTime,v=new q_(m,y,cz(t,n),g);return v.urlParams=p,v.headers=o,v.body=f.uploadData(),v.errorHandler=G2(e),v}class yz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ms.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ms.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ms.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw al("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw al("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw al("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw al("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw al("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vz extends yz{initXhr(){this.xhr_.responseType="text"}}function G_(){return new vz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this._service=e,n instanceof wn?this._location=n:this._location=wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xs(e,n)}get root(){const e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B2(this._location.path)}get storage(){return this._service}get parent(){const e=nz(this._location.path);if(e===null)return null;const n=new wn(this._location.bucket,e);return new Xs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw N8(e)}}function _z(t,e,n){t._throwIfRoot("uploadBytes");const r=gz(t.storage,t._location,W2(),new mi(e,!0),n);return t.storage.makeRequestWithTokens(r,G_).then(i=>({metadata:i,ref:t}))}function wz(t){t._throwIfRoot("getDownloadURL");const e=dz(t.storage,t._location,W2());return t.storage.makeRequestWithTokens(e,G_).then(n=>{if(n===null)throw O8();return n})}function Ez(t){t._throwIfRoot("deleteObject");const e=fz(t.storage,t._location);return t.storage.makeRequestWithTokens(e,G_)}function xz(t,e){const n=rz(t._location.path,e),r=new wn(t._location.bucket,n);return new Xs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t){return/^[A-Za-z]+:\/\//.test(t)}function bz(t,e){return new Xs(t,e)}function Y2(t,e){if(t instanceof K_){const n=t;if(n._bucket==null)throw P8();const r=new Xs(n,n._bucket);return e!=null?Y2(r,e):r}else return e!==void 0?xz(t,e):t}function Sz(t,e){if(e&&Tz(e)){if(t instanceof K_)return bz(t,e);throw ly("To use ref(service, url), the first argument must be a Storage instance.")}else return Y2(t,e)}function Vx(t,e){const n=e==null?void 0:e[L2];return n==null?null:wn.makeFromBucketSpec(n,t)}function Cz(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:hA(i,t.app.options.projectId))}class K_{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=M2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_8,this._maxUploadRetryTime=w8,this._requests=new Set,i!=null?this._bucket=wn.makeFromBucketSpec(i,this._host):this._bucket=Vx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=Vx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new M8(F2());{const o=q8(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const $x="@firebase/storage",jx="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="storage";function Iz(t,e,n){return t=Tt(t),_z(t,e,n)}function Az(t){return t=Tt(t),wz(t)}function kz(t){return t=Tt(t),Ez(t)}function X2(t,e){return t=Tt(t),Sz(t,e)}function Pz(t=Hv(),e){t=Tt(t);const r=gp(t,Q2).getImmediate({identifier:e}),i=lA("storage");return i&&Rz(r,...i),r}function Rz(t,e,n,r={}){Cz(t,e,n,r)}function Oz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new K_(n,r,i,e,mo)}function Dz(){Gs(new Qi(Q2,Oz,"PUBLIC").setMultipleInstances(!0)),Er($x,jx,""),Er($x,jx,"esm2017")}Dz();function Y_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function J2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nz=J2,Z2=new gc("auth","Firebase",J2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new Bv("@firebase/auth");function Mz(t,...e){of.logLevel<=ye.WARN&&of.warn(`Auth (${mo}): ${t}`,...e)}function nd(t,...e){of.logLevel<=ye.ERROR&&of.error(`Auth (${mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw Q_(t,...e)}function Sr(t,...e){return Q_(t,...e)}function Lz(t,e,n){const r=Object.assign(Object.assign({},Nz()),{[e]:n});return new gc("auth","Firebase",r).create(e,{appName:t.name})}function Q_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Z2.create(t,...e)}function oe(t,e,...n){if(!t)throw Q_(e,...n)}function qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nd(e),new Error(e)}function ni(t,e){t||qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Fz(){return Ux()==="http:"||Ux()==="https:"}function Ux(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fz()||B$()||"connection"in navigator)?navigator.onLine:!0}function $z(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ni(n>e,"Short delay should be less than long delay!"),this.isMobile=U$()||W$()}get(){return Vz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t,e){ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz=new Dc(3e4,6e4);function wo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Eo(t,e,n,r,i={}){return tP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=yc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),eP.fetch()(nP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function tP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},jz),e);try{const i=new Bz(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _h(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _h(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw _h(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Lz(t,c,u);nr(t,c)}}catch(i){if(i instanceof Rr)throw i;nr(t,"network-request-failed",{message:String(i)})}}async function Nc(t,e,n,r,i={}){const s=await Eo(t,e,n,r,i);return"mfaPendingCredential"in s&&nr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function nP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?X_(t.config,i):`${t.config.apiScheme}://${i}`}function zz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),Uz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _h(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sr(t,e,r);return i.customData._tokenResponse=n,i}function zx(t){return t!==void 0&&t.enterprise!==void 0}class Wz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Hz(t,e){return Eo(t,"GET","/v2/recaptchaConfig",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(t,e){return Eo(t,"POST","/v1/accounts:delete",e)}async function Gz(t,e){return Eo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kz(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),i=J_(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:eu(cg(i.auth_time)),issuedAtTime:eu(cg(i.iat)),expirationTime:eu(cg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function cg(t){return Number(t)*1e3}function J_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nd("JWT malformed, contained fewer than 3 sections"),null;try{const i=oA(n);return i?JSON.parse(i):(nd("Failed to decode base64 JWT payload"),null)}catch(i){return nd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Yz(t){const e=J_(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rr&&Qz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Qz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qu(t,Gz(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eB(s.providerUserInfo):[],a=Zz(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rP(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function Jz(t){const e=Tt(t);await af(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eB(t){return t.map(e=>{var{providerId:n}=e,r=Y_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tB(t,e){const n=await tP(t,{},async()=>{const r=yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yz(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await tB(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Gu;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gu,this.toJSON())}_performRefresh(){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ls{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Y_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qu(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Kz(this,e)}reload(){return Jz(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await af(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await qu(this,qz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:E,isAnonymous:T,providerData:b,stsTokenManager:S}=n;oe(w&&S,e,"internal-error");const C=Gu.fromJSON(this.name,S);oe(typeof w=="string",e,"internal-error"),ai(h,e.name),ai(d,e.name),oe(typeof E=="boolean",e,"internal-error"),oe(typeof T=="boolean",e,"internal-error"),ai(f,e.name),ai(p,e.name),ai(m,e.name),ai(y,e.name),ai(g,e.name),ai(v,e.name);const R=new Ls({uid:w,auth:e,email:d,emailVerified:E,displayName:h,isAnonymous:T,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:C,createdAt:g,lastLoginAt:v});return b&&Array.isArray(b)&&(R.providerData=b.map(P=>Object.assign({},P))),y&&(R._redirectEventId=y),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Gu;i.updateFromServerResponse(n);const s=new Ls({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await af(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Map;function Gr(t){ni(t instanceof Function,"Expected a class definition");let e=Bx.get(t);return e?(ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iP.type="NONE";const Wx=iP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(t,e,n){return`firebase:${t}:${e}:${n}`}class aa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=rd(this.userKey,i.apiKey,s),this.fullPersistenceKey=rd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ls._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new aa(Gr(Wx),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Gr(Wx);const o=rd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Ls._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new aa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new aa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uP(e))return"Blackberry";if(cP(e))return"Webos";if(Z_(e))return"Safari";if((e.includes("chrome/")||oP(e))&&!e.includes("edge/"))return"Chrome";if(lP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sP(t=Kt()){return/firefox\//i.test(t)}function Z_(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oP(t=Kt()){return/crios\//i.test(t)}function aP(t=Kt()){return/iemobile/i.test(t)}function lP(t=Kt()){return/android/i.test(t)}function uP(t=Kt()){return/blackberry/i.test(t)}function cP(t=Kt()){return/webos/i.test(t)}function Gp(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nB(t=Kt()){var e;return Gp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rB(){return H$()&&document.documentMode===10}function hP(t=Kt()){return Gp(t)||lP(t)||cP(t)||uP(t)||/windows phone/i.test(t)||aP(t)}function iB(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e=[]){let n;switch(t){case"Browser":n=Hx(Kt());break;case"Worker":n=`${Hx(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oB(t,e={}){return Eo(t,"GET","/v2/passwordPolicy",wo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=6;class lB{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:aB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qx(this),this.idTokenSubscription=new qx(this),this.beforeStateQueue=new sB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await aa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await af(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$z()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Tt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oB(this),n=new lB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await aa.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Mz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xo(t){return Tt(t)}class qx{constructor(e){this.auth=e,this.observer=null,this.addObserver=J$(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function fP(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Sr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",cB().appendChild(r)})}function hB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const dB="https://www.google.com/recaptcha/enterprise.js?render=",fB="recaptcha-enterprise",pB="NO_RECAPTCHA";class mB{constructor(e){this.type=fB,this.auth=xo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Hz(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Wz(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;zx(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(pB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&zx(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}fP(dB+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Gx(t,e,n,r=!1){const i=new mB(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function pP(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Gx(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Gx(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(t,e){const n=gp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bd(s,e??{}))return i;nr(i,"already-initialized")}return n.initialize({options:e})}function yB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vB(t,e,n){const r=xo(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=mP(e),{host:o,port:a}=_B(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||wB()}function mP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _B(t){const e=mP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Kx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Kx(o)}}}function Kx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,n){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function EB(t,e){return Eo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xB(t,e){return Nc(t,"POST","/v1/accounts:signInWithPassword",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TB(t,e){return Nc(t,"POST","/v1/accounts:signInWithEmailLink",wo(t,e))}async function bB(t,e){return Nc(t,"POST","/v1/accounts:signInWithEmailLink",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends e1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ku(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ku(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pP(e,n,"signInWithPassword",xB);case"emailLink":return TB(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return EB(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return bB(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(t,e){return Nc(t,"POST","/v1/accounts:signInWithIdp",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB="http://localhost";class Js extends e1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Y_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Js(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return la(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,la(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,la(e,n)}buildRequest(){const e={requestUri:SB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IB(t){const e=xl(Tl(t)).link,n=e?xl(Tl(e)).deep_link_id:null,r=xl(Tl(t)).deep_link_id;return(r?xl(Tl(r)).link:null)||r||n||e||t}class t1{constructor(e){var n,r,i,s,o,a;const l=xl(Tl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=CB((i=l.mode)!==null&&i!==void 0?i:null);oe(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=IB(e);try{return new t1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.providerId=Ha.PROVIDER_ID}static credential(e,n){return Ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=t1.parseLink(n);return oe(r,"argument-error"),Ku._fromEmailAndCode(e,r.code,r.tenantId)}}Ha.PROVIDER_ID="password";Ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends gP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Mc{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Mc{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Mc{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AB(t,e){return Nc(t,"POST","/v1/accounts:signUp",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ls._fromIdTokenResponse(e,r,i),o=Yx(r);return new Zs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Yx(r);return new Zs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Yx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends Rr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lf(e,n,r,i)}}function yP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lf._fromErrorAndOperation(t,s,e,r):s})}async function kB(t,e,n=!1){const r=await qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PB(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await qu(t,yP(r,i,e,t),n);oe(s.idToken,r,"internal-error");const o=J_(s.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Zs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(t,e,n=!1){const r="signIn",i=await yP(t,r,e),s=await Zs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function RB(t,e){return vP(xo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(t){const e=xo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OB(t,e,n){const r=xo(t),o=await pP(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AB).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&_P(t),l}),a=await Zs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function DB(t,e,n){return RB(Tt(t),Ha.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_P(t),r})}function NB(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function MB(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}const uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uf,"1"),this.storage.removeItem(uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(){const t=Kt();return Z_(t)||Gp(t)}const FB=1e3,VB=10;class EP extends wP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=LB()&&iB(),this.fallbackToPolling=hP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);rB()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,VB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}EP.type="LOCAL";const $B=EP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP extends wP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xP.type="SESSION";const TP=xP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await jB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=n1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function zB(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function BB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HB(){return bP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="firebaseLocalStorageDb",qB=1,cf="firebaseLocalStorage",CP="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yp(t,e){return t.transaction([cf],e?"readwrite":"readonly").objectStore(cf)}function GB(){const t=indexedDB.deleteDatabase(SP);return new Lc(t).toPromise()}function cy(){const t=indexedDB.open(SP,qB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cf,{keyPath:CP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cf)?e(r):(r.close(),await GB(),e(await cy()))})})}async function Qx(t,e,n){const r=Yp(t,!0).put({[CP]:e,value:n});return new Lc(r).toPromise()}async function KB(t,e){const n=Yp(t,!1).get(e),r=await new Lc(n).toPromise();return r===void 0?null:r.value}function Xx(t,e){const n=Yp(t,!0).delete(e);return new Lc(n).toPromise()}const YB=800,QB=3;class IP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kp._getInstance(HB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await BB(),!this.activeServiceWorker)return;this.sender=new UB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cy();return await Qx(e,uf,"1"),await Xx(e,uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>KB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Yp(i,!1).getAll();return new Lc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IP.type="LOCAL";const XB=IP;new Dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t,e){return e?Gr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends e1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return la(e,this._buildIdpRequest())}_linkToIdToken(e,n){return la(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return la(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZB(t){return vP(t.auth,new r1(t),t.bypassAuthState)}function e7(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),PB(n,new r1(t),t.bypassAuthState)}async function t7(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),kB(n,new r1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZB;case"linkViaPopup":case"linkViaRedirect":return t7;case"reauthViaPopup":case"reauthViaRedirect":return e7;default:nr(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=new Dc(2e3,1e4);class Qo extends AP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=n1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n7.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7="pendingRedirect",id=new Map;class i7 extends AP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=id.get(this.auth._key());if(!e){try{const r=await s7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}id.set(this.auth._key(),e)}return this.bypassAuthState||id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s7(t,e){const n=l7(e),r=a7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function o7(t,e){id.set(t._key(),e)}function a7(t){return Gr(t._redirectPersistence)}function l7(t){return rd(r7,t.config.apiKey,t.name)}async function u7(t,e,n=!1){const r=xo(t),i=JB(r,e),o=await new i7(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=10*60*1e3;class h7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c7&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jx(e))}saveEventToCache(e){this.cachedEventUids.add(Jx(e)),this.lastProcessedEventTime=Date.now()}}function Jx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function d7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f7(t,e={}){return Eo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m7=/^https?/;async function g7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await f7(t);for(const n of e)try{if(y7(n))return}catch{}nr(t,"unauthorized-domain")}function y7(t){const e=uy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!m7.test(n))return!1;if(p7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=new Dc(3e4,6e4);function Zx(){const t=Cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _7(t){return new Promise((e,n)=>{var r,i,s;function o(){Zx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zx(),n(Sr(t,"network-request-failed"))},timeout:v7.get()})}if(!((i=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Cr().gapi)===null||s===void 0)&&s.load)o();else{const a=hB("iframefcb");return Cr()[a]=()=>{gapi.load?o():n(Sr(t,"network-request-failed"))},fP(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw sd=null,e})}let sd=null;function w7(t){return sd=sd||_7(t),sd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7=new Dc(5e3,15e3),x7="__/auth/iframe",T7="emulator/auth/iframe",b7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C7(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?X_(e,T7):`https://${t.config.authDomain}/${x7}`,r={apiKey:e.apiKey,appName:t.name,v:mo},i=S7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${yc(r).slice(1)}`}async function I7(t){const e=await w7(t),n=Cr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:C7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b7,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Sr(t,"network-request-failed"),a=Cr().setTimeout(()=>{s(o)},E7.get());function l(){Cr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k7=500,P7=600,R7="_blank",O7="http://localhost";class eT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D7(t,e,n,r=k7,i=P7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},A7),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Kt().toLowerCase();n&&(a=oP(u)?R7:n),sP(u)&&(e=e||O7,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(nB(u)&&a!=="_self")return N7(e||"",a),new eT(null);const h=window.open(e||"",a,c);oe(h,t,"popup-blocked");try{h.focus()}catch{}return new eT(h)}function N7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7="__/auth/handler",L7="emulator/auth/handler",F7=encodeURIComponent("fac");async function tT(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mo,eventId:i};if(e instanceof gP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",X$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof Mc){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${F7}=${encodeURIComponent(l)}`:"";return`${V7(t)}?${yc(a).slice(1)}${u}`}function V7({config:t}){return t.emulator?X_(t,L7):`https://${t.authDomain}/${M7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="webStorageSupport";class $7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TP,this._completeRedirectFn=u7,this._overrideRedirectResult=o7}async _openPopup(e,n,r,i){var s;ni((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await tT(e,n,r,uy(),i);return D7(e,o,n1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await tT(e,n,r,uy(),i);return zB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ni(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I7(e),r=new h7(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hg,{type:hg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[hg];o!==void 0&&n(!!o),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hP()||Z_()||Gp()}}const j7=$7;var nT="@firebase/auth",rT="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function B7(t){Gs(new Qi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dP(t)},u=new uB(r,i,s,l);return yB(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gs(new Qi("auth-internal",e=>{const n=xo(e.getProvider("auth").getImmediate());return(r=>new U7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(nT,rT,z7(t)),Er(nT,rT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=5*60,H7=cA("authIdTokenMaxAge")||W7;let iT=null;const q7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>H7)return;const i=n==null?void 0:n.token;iT!==i&&(iT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function G7(t=Hv()){const e=gp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gB(t,{popupRedirectResolver:j7,persistence:[XB,$B,TP]}),r=cA("authTokenSyncURL");if(r){const s=q7(r);MB(n,s,()=>s(n.currentUser)),NB(n,o=>s(o))}const i=aA("auth");return i&&vB(n,`http://${i}`),n}B7("Browser");const K7={apiKey:"AIzaSyAAlxrvHcg1umaO7E94_kOOpbygOGQn3Vo",authDomain:"checkout-28664.firebaseapp.com",projectId:"checkout-28664",storageBucket:"checkout-28664.appspot.com",messagingSenderId:"886814544025",appId:"1:886814544025:web:09e7011f451b94efa0e808",measurementId:"G-7KYX59JPPW"},i1=pA(K7),Hi=ZU(i1),PP=Pz(i1),RP=G7(i1);function Y7(t){const e=t.split(";base64,"),n=e[0].split(":")[1],r=window.atob(e[1]),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return new Blob([i],{type:n})}const Q7=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(null),[i,s]=x.useState(null);return x.useEffect(()=>{(()=>{if(!navigator.geolocation){s("Geolocation is not supported by your browser.");return}navigator.geolocation.getCurrentPosition(a=>{r({lat:a.coords.latitude,lng:a.coords.longitude})},a=>{s(`Error obtaining location: ${a.message}`)})})()},[]),x.useEffect(()=>{(async()=>{if(n)try{const a=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${n.lat}&lon=${n.lng}&addressdetails=1`);if(!a.ok)throw new Error("Network response was not ok");const l=await a.json();e(l.display_name||"Address not found")}catch(a){console.error("Error fetching location:",a),s("Failed to fetch address.")}})()},[n]),{address:t,userPosition:n,error:i}},X7=()=>{x.useEffect(()=>{window.scrollTo(0,0)},[])};function OP(t,e,n){const[r,i]=x.useState(t);return x.useEffect(()=>{window.addEventListener("click",s=>{e!=null&&e.current&&!(e!=null&&e.current.contains(s.target))&&!(n!=null&&n.current.contains(s.target))&&i(!1)})},[e,r,n]),{dropdow:r,setDropdow:i}}const J7=t=>{x.useLayoutEffect(()=>{t?document.title="HITC | "+t:document.title="HITC | Check In"},[t])},Z7=()=>(X7(),_.jsx("div",{className:"fixed inset-0 z-50 bg-[#0000008d]",children:_.jsx("div",{className:"flex items-center justify-center w-full h-full",children:_.jsx("div",{className:"flex justify-center items-center space-x-3 text-sm text-blue-700",children:_.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 rounded-full animate-spin border-t-transparent"})})})}));var DP={exports:{}},eW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tW=eW,nW=tW;function NP(){}function MP(){}MP.resetWarningCache=NP;var rW=function(){function t(r,i,s,o,a,l){if(l!==nW){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:MP,resetWarningCache:NP};return n.PropTypes=n,n};DP.exports=rW();var ua=DP.exports;const it=ro(ua);var LP={exports:{}};(function(t,e){(function(r,i){t.exports=i(x)})(eO,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(a&1&&(o=s(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var u in o)s.d(l,u,(function(c){return o[c]}).bind(null,u));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,i,s){s.r(i);var o=s("react"),a=function(){var d=function(f,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var g in y)y.hasOwnProperty(g)&&(m[g]=y[g])},d(f,p)};return function(f,p){d(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),l=function(){return l=Object.assign||function(d){for(var f,p=1,m=arguments.length;p<m;p++){f=arguments[p];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(d[y]=f[y])}return d},l.apply(this,arguments)},u=function(d,f){var p={};for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&f.indexOf(m)<0&&(p[m]=d[m]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,m=Object.getOwnPropertySymbols(d);y<m.length;y++)f.indexOf(m[y])<0&&Object.prototype.propertyIsEnumerable.call(d,m[y])&&(p[m[y]]=d[m[y]]);return p};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(f){var p=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return p?new Promise(function(m,y){p.call(navigator,f,m,y)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function c(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var h=function(d){a(f,d);function f(p){var m=d.call(this,p)||this;return m.canvas=null,m.ctx=null,m.requestUserMediaId=0,m.unmounted=!1,m.state={hasUserMedia:!1},m}return f.prototype.componentDidMount=function(){var p=this,m=p.state,y=p.props;if(this.unmounted=!1,!c()){y.onUserMediaError("getUserMedia not supported");return}m.hasUserMedia||this.requestUserMedia(),y.children&&typeof y.children!="function"&&console.warn("children must be a function")},f.prototype.componentDidUpdate=function(p){var m=this.props;if(!c()){m.onUserMediaError("getUserMedia not supported");return}var y=JSON.stringify(p.audioConstraints)!==JSON.stringify(m.audioConstraints),g=JSON.stringify(p.videoConstraints)!==JSON.stringify(m.videoConstraints),v=p.minScreenshotWidth!==m.minScreenshotWidth,w=p.minScreenshotHeight!==m.minScreenshotHeight;(g||v||w)&&(this.canvas=null,this.ctx=null),(y||g)&&(this.stopAndCleanup(),this.requestUserMedia())},f.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},f.stopMediaStream=function(p){p&&(p.getVideoTracks&&p.getAudioTracks?(p.getVideoTracks().map(function(m){p.removeTrack(m),m.stop()}),p.getAudioTracks().map(function(m){p.removeTrack(m),m.stop()})):p.stop())},f.prototype.stopAndCleanup=function(){var p=this.state;p.hasUserMedia&&(f.stopMediaStream(this.stream),p.src&&window.URL.revokeObjectURL(p.src))},f.prototype.getScreenshot=function(p){var m=this,y=m.state,g=m.props;if(!y.hasUserMedia)return null;var v=this.getCanvas(p);return v&&v.toDataURL(g.screenshotFormat,g.screenshotQuality)},f.prototype.getCanvas=function(p){var m=this,y=m.state,g=m.props;if(!this.video||!y.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var v=this.video.videoWidth,w=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var E=v/w;v=g.minScreenshotWidth||this.video.clientWidth,w=v/E,g.minScreenshotHeight&&w<g.minScreenshotHeight&&(w=g.minScreenshotHeight,v=w*E)}this.canvas=document.createElement("canvas"),this.canvas.width=(p==null?void 0:p.width)||v,this.canvas.height=(p==null?void 0:p.height)||w,this.ctx=this.canvas.getContext("2d")}var T=this,b=T.ctx,S=T.canvas;return b&&S&&(S.width=(p==null?void 0:p.width)||S.width,S.height=(p==null?void 0:p.height)||S.height,g.mirrored&&(b.translate(S.width,0),b.scale(-1,1)),b.imageSmoothingEnabled=g.imageSmoothing,b.drawImage(this.video,0,0,(p==null?void 0:p.width)||S.width,(p==null?void 0:p.height)||S.height),g.mirrored&&(b.scale(-1,1),b.translate(-S.width,0))),S},f.prototype.requestUserMedia=function(){var p=this,m=this.props,y=function(w,E){var T={video:typeof E<"u"?E:!0};m.audio&&(T.audio=typeof w<"u"?w:!0),p.requestUserMediaId++;var b=p.requestUserMediaId;navigator.mediaDevices.getUserMedia(T).then(function(S){p.unmounted||b!==p.requestUserMediaId?f.stopMediaStream(S):p.handleUserMedia(null,S)}).catch(function(S){p.handleUserMedia(S)})};if("mediaDevices"in navigator)y(m.audioConstraints,m.videoConstraints);else{var g=function(w){return{optional:[{sourceId:w}]}},v=function(w){var E=w.deviceId;return typeof E=="string"?E:Array.isArray(E)&&E.length>0?E[0]:typeof E=="object"&&E.ideal?E.ideal:null};MediaStreamTrack.getSources(function(w){var E=null,T=null;w.forEach(function(C){C.kind==="audio"?E=C.id:C.kind==="video"&&(T=C.id)});var b=v(m.audioConstraints);b&&(E=b);var S=v(m.videoConstraints);S&&(T=S),y(g(E),g(T))})}},f.prototype.handleUserMedia=function(p,m){var y=this.props;if(p||!m){this.setState({hasUserMedia:!1}),y.onUserMediaError(p);return}this.stream=m;try{this.video&&(this.video.srcObject=m),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(m)})}y.onUserMedia(m)},f.prototype.render=function(){var p=this,m=this,y=m.state,g=m.props,v=g.audio;g.forceScreenshotSourceSize,g.onUserMedia,g.onUserMediaError,g.screenshotFormat,g.screenshotQuality,g.minScreenshotWidth,g.minScreenshotHeight,g.audioConstraints,g.videoConstraints,g.imageSmoothing;var w=g.mirrored,E=g.style,T=E===void 0?{}:E,b=g.children,S=u(g,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),C=w?l(l({},T),{transform:(T.transform||"")+" scaleX(-1)"}):T,R={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,src:y.src,muted:!v,playsInline:!0,ref:function(P){p.video=P},style:C},S)),b&&b(R))},f.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},f}(o.Component);i.default=h},react:function(r,i){r.exports=n}}).default})})(LP);var iW=LP.exports;const sW=ro(iW),FP=({setImage:t,setIsOpen:e})=>{const n=K.useRef(null);K.useEffect(()=>{let i;return navigator.mediaDevices.getUserMedia({video:!0}).then(s=>{i=s,n.current.srcObject=i}).catch(s=>{console.error("Error accessing webcam: ",s)}),()=>{i&&i.getTracks().forEach(s=>s.stop())}},[n]);const r=K.useCallback(()=>{const i=n.current.getScreenshot();e(!1),t(i)},[n,t,e]);return _.jsx(_.Fragment,{children:_.jsx("div",{className:"fixed z-50 top-0  left-0 right-0 bottom-0 bg-[#3333333f]",children:_.jsx("div",{className:"flex justify-center items-center relative ",children:_.jsxs("div",{children:[_.jsx(sW,{className:" max-w-full max-h-full h-screen w-screen",audio:!1,ref:n,screenshotFormat:"image/jpeg"}),_.jsx("span",{onClick:r,className:"bg-blue-500 cursor-pointer absolute bottom-10 left-[50%]  rounded-full w-16 h-16 flex items-center justify-center",children:_.jsx(E0,{className:"text-2xl text-white "})})]})})})})};FP.propTypes={setImage:it.func,setIsOpen:it.func};function oW(t){return new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result),r.onerror=i=>n(i)})}const VP=t=>{const{handleChange:e,handleBlur:n,values:r,errors:i,dataFetch:s,handleChangeGroup:o,touched:a,isSubmitting:l,image:u,setImage:c}=t,[h,d]=x.useState(!1),f=window.innerWidth<=768,p=m=>{const y=m.target.files[0];oW(y).then(g=>{c(g)})};return _.jsx(pp,{children:_.jsxs("div",{className:"mx-auto max-w-lg mt-8",children:[_.jsxs("div",{className:"py-2",children:[_.jsx("label",{htmlFor:"group",className:"px-1 mb-2 capitalize text-sm text-gray-600",children:"Chọn công đoàn"}),_.jsxs("select",{name:"group",onChange:m=>{e(m),o(m)},onBlur:n,value:r.group,className:`text-md capitalize block px-3 py-2 rounded-lg w-full 
              bg-white border-2 border-gray-300 placeholder-gray-600 shadow-md 
              focus:placeholder-gray-500 focus:bg-white focus:border-blue-500 
              focus:outline-none ${a.group&&i.group?"border-red-500":""}`,children:[_.jsx("option",{value:"",children:"Chọn công đoàn"}),s&&s.unionChoice.map((m,y)=>_.jsx("option",{value:m,children:m},y))]}),_.jsx("p",{className:"text-[12px] h-5 text-red-600",children:_.jsx(wa,{name:"group"})})]}),_.jsxs("div",{className:"py-2",children:[_.jsx("label",{htmlFor:"magv",className:"px-1 mb-2 capitalize text-sm text-gray-600",children:"Mã Giảng Viên/Nhân Viên"}),_.jsx(Iu,{placeholder:"Mã Giảng Viên/Nhân Viên",type:"number",id:"magv",name:"magv",className:`text-md block px-3 py-2 rounded-lg w-full 
              bg-white border-2 border-gray-300 placeholder-gray-600 shadow-md 
              focus:placeholder-gray-500 focus:bg-white focus:border-blue-500 
              focus:outline-none ${a.magv&&i.magv?"border-red-500":""}`}),_.jsx("p",{className:"text-[12px] h-5 text-red-600",children:_.jsx(wa,{name:"magv"})})]}),_.jsx("div",{className:"my-2",children:f?_.jsx("div",{children:_.jsxs("label",{htmlFor:"file",children:[_.jsxs("span",{className:"w-full cursor-pointer flex items-center justify-center py-2 bg-red-500 text-white rounded-lg",children:["Mở máy ảnh ",_.jsx(E0,{})]}),_.jsx("input",{className:"hidden",id:"file",type:"file",onChange:p,capture:"environment"})]})}):_.jsxs("span",{onClick:()=>d(!0),className:"w-full cursor-pointer flex items-center justify-center py-2 bg-red-500 text-white rounded-lg",children:["Mở máy ảnh ",_.jsx(E0,{})]})}),h&&_.jsx(FP,{setImage:c,setIsOpen:d}),u&&_.jsx("div",{className:"w-full",children:_.jsx("img",{src:u,className:"w-full",alt:"Uploaded image"})}),_.jsx("button",{type:"submit",disabled:l,className:"mt-3 text-lg font-semibold bg-blue-500 w-full text-white rounded-lg px-6 py-3 block shadow-xl hover:text-white hover:bg-blue-800",children:l?"Đang điểm danh":"Điểm danh"})]})})};VP.propTypes={isSubmitting:it.bool,dataFetch:it.any,handleChangeGroup:it.func,handleChange:it.func,handleBlur:it.func,values:it.object,touched:it.object,errors:it.object,image:it.string,setImage:it.func};var To={},Fc={};function hy(t,e){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hy(t,e)}function qa(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,hy(t,e)}function aW(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function lW(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e}var $P=function(){function t(n){this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.before=null}var e=t.prototype;return e.insert=function(r){if(this.ctr%(this.isSpeedy?65e3:1)===0){var i=lW(this),s;this.tags.length===0?s=this.before:s=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(i,s),this.tags.push(i)}var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=aW(o);try{var l=r.charCodeAt(1)===105&&r.charCodeAt(0)===64;a.insertRule(r,l?0:a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}();function uW(t){function e(V,B,Y,ie,I){for(var ge=0,H=0,yt=0,Oe=0,He,fe,Qt=0,Dr=0,ve,vt=ve=He=0,xe=0,dt=0,Nr=0,ft=0,So=Y.length,A=So-1,z,D="",q="",he="",we="",De;xe<So;){if(fe=Y.charCodeAt(xe),xe===A&&H+Oe+yt+ge!==0&&(H!==0&&(fe=H===47?10:47),Oe=yt=ge=0,So++,A++),H+Oe+yt+ge===0){if(xe===A&&(0<dt&&(D=D.replace(d,"")),0<D.trim().length)){switch(fe){case 32:case 9:case 59:case 13:case 10:break;default:D+=Y.charAt(xe)}fe=59}switch(fe){case 123:for(D=D.trim(),He=D.charCodeAt(0),ve=1,ft=++xe;xe<So;){switch(fe=Y.charCodeAt(xe)){case 123:ve++;break;case 125:ve--;break;case 47:switch(fe=Y.charCodeAt(xe+1)){case 42:case 47:e:{for(vt=xe+1;vt<A;++vt)switch(Y.charCodeAt(vt)){case 47:if(fe===42&&Y.charCodeAt(vt-1)===42&&xe+2!==vt){xe=vt+1;break e}break;case 10:if(fe===47){xe=vt+1;break e}}xe=vt}}break;case 91:fe++;case 40:fe++;case 34:case 39:for(;xe++<A&&Y.charCodeAt(xe)!==fe;);}if(ve===0)break;xe++}switch(ve=Y.substring(ft,xe),He===0&&(He=(D=D.replace(h,"").trim()).charCodeAt(0)),He){case 64:switch(0<dt&&(D=D.replace(d,"")),fe=D.charCodeAt(1),fe){case 100:case 109:case 115:case 45:dt=B;break;default:dt=te}if(ve=e(B,dt,ve,fe,I+1),ft=ve.length,0<k&&(dt=n(te,D,Nr),De=a(3,ve,dt,B,Z,$,ft,fe,I,ie),D=dt.join(""),De!==void 0&&(ft=(ve=De.trim()).length)===0&&(fe=0,ve="")),0<ft)switch(fe){case 115:D=D.replace(b,o);case 100:case 109:case 45:ve=D+"{"+ve+"}";break;case 107:D=D.replace(v,"$1 $2"),ve=D+"{"+ve+"}",ve=G===1||G===2&&s("@"+ve,3)?"@-webkit-"+ve+"@"+ve:"@"+ve;break;default:ve=D+ve,ie===112&&(ve=(q+=ve,""))}else ve="";break;default:ve=e(B,n(B,D,Nr),ve,ie,I+1)}he+=ve,ve=Nr=dt=vt=He=0,D="",fe=Y.charCodeAt(++xe);break;case 125:case 59:if(D=(0<dt?D.replace(d,""):D).trim(),1<(ft=D.length))switch(vt===0&&(He=D.charCodeAt(0),He===45||96<He&&123>He)&&(ft=(D=D.replace(" ",":")).length),0<k&&(De=a(1,D,B,V,Z,$,q.length,ie,I,ie))!==void 0&&(ft=(D=De.trim()).length)===0&&(D="\0\0"),He=D.charCodeAt(0),fe=D.charCodeAt(1),He){case 0:break;case 64:if(fe===105||fe===99){we+=D+Y.charAt(xe);break}default:D.charCodeAt(ft-1)!==58&&(q+=i(D,He,fe,D.charCodeAt(2)))}Nr=dt=vt=He=0,D="",fe=Y.charCodeAt(++xe)}}switch(fe){case 13:case 10:H===47?H=0:1+He===0&&ie!==107&&0<D.length&&(dt=1,D+="\0"),0<k*X&&a(0,D,B,V,Z,$,q.length,ie,I,ie),$=1,Z++;break;case 59:case 125:if(H+Oe+yt+ge===0){$++;break}default:switch($++,z=Y.charAt(xe),fe){case 9:case 32:if(Oe+ge+H===0)switch(Qt){case 44:case 58:case 9:case 32:z="";break;default:fe!==32&&(z=" ")}break;case 0:z="\\0";break;case 12:z="\\f";break;case 11:z="\\v";break;case 38:Oe+H+ge===0&&(dt=Nr=1,z="\f"+z);break;case 108:if(Oe+H+ge+re===0&&0<vt)switch(xe-vt){case 2:Qt===112&&Y.charCodeAt(xe-3)===58&&(re=Qt);case 8:Dr===111&&(re=Dr)}break;case 58:Oe+H+ge===0&&(vt=xe);break;case 44:H+yt+Oe+ge===0&&(dt=1,z+="\r");break;case 34:case 39:H===0&&(Oe=Oe===fe?0:Oe===0?fe:Oe);break;case 91:Oe+H+yt===0&&ge++;break;case 93:Oe+H+yt===0&&ge--;break;case 41:Oe+H+ge===0&&yt--;break;case 40:if(Oe+H+ge===0){if(He===0)switch(2*Qt+3*Dr){case 533:break;default:He=1}yt++}break;case 64:H+yt+Oe+ge+vt+ve===0&&(ve=1);break;case 42:case 47:if(!(0<Oe+ge+yt))switch(H){case 0:switch(2*fe+3*Y.charCodeAt(xe+1)){case 235:H=47;break;case 220:ft=xe,H=42}break;case 42:fe===47&&Qt===42&&ft+2!==xe&&(Y.charCodeAt(ft+2)===33&&(q+=Y.substring(ft,xe+1)),z="",H=0)}}H===0&&(D+=z)}Dr=Qt,Qt=fe,xe++}if(ft=q.length,0<ft){if(dt=B,0<k&&(De=a(2,q,dt,V,Z,$,ft,ie,I,ie),De!==void 0&&(q=De).length===0))return we+q+he;if(q=dt.join(",")+"{"+q+"}",G*re!==0){switch(G!==2||s(q,2)||(re=0),re){case 111:q=q.replace(E,":-moz-$1")+q;break;case 112:q=q.replace(w,"::-webkit-input-$1")+q.replace(w,"::-moz-$1")+q.replace(w,":-ms-input-$1")+q}re=0}}return we+q+he}function n(V,B,Y){var ie=B.trim().split(y);B=ie;var I=ie.length,ge=V.length;switch(ge){case 0:case 1:var H=0;for(V=ge===0?"":V[0]+" ";H<I;++H)B[H]=r(V,B[H],Y).trim();break;default:var yt=H=0;for(B=[];H<I;++H)for(var Oe=0;Oe<ge;++Oe)B[yt++]=r(V[Oe]+" ",ie[H],Y).trim()}return B}function r(V,B,Y){var ie=B.charCodeAt(0);switch(33>ie&&(ie=(B=B.trim()).charCodeAt(0)),ie){case 38:return B.replace(g,"$1"+V.trim());case 58:return V.trim()+B.replace(g,"$1"+V.trim());default:if(0<1*Y&&0<B.indexOf("\f"))return B.replace(g,(V.charCodeAt(0)===58?"":"$1")+V.trim())}return V+B}function i(V,B,Y,ie){var I=V+";",ge=2*B+3*Y+4*ie;if(ge===944){V=I.indexOf(":",9)+1;var H=I.substring(V,I.length-1).trim();return H=I.substring(0,V).trim()+H+";",G===1||G===2&&s(H,1)?"-webkit-"+H+H:H}if(G===0||G===2&&!s(I,1))return I;switch(ge){case 1015:return I.charCodeAt(10)===97?"-webkit-"+I+I:I;case 951:return I.charCodeAt(3)===116?"-webkit-"+I+I:I;case 963:return I.charCodeAt(5)===110?"-webkit-"+I+I:I;case 1009:if(I.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+I+I;case 978:return"-webkit-"+I+"-moz-"+I+I;case 1019:case 983:return"-webkit-"+I+"-moz-"+I+"-ms-"+I+I;case 883:if(I.charCodeAt(8)===45)return"-webkit-"+I+I;if(0<I.indexOf("image-set(",11))return I.replace(N,"$1-webkit-$2")+I;break;case 932:if(I.charCodeAt(4)===45)switch(I.charCodeAt(5)){case 103:return"-webkit-box-"+I.replace("-grow","")+"-webkit-"+I+"-ms-"+I.replace("grow","positive")+I;case 115:return"-webkit-"+I+"-ms-"+I.replace("shrink","negative")+I;case 98:return"-webkit-"+I+"-ms-"+I.replace("basis","preferred-size")+I}return"-webkit-"+I+"-ms-"+I+I;case 964:return"-webkit-"+I+"-ms-flex-"+I+I;case 1023:if(I.charCodeAt(8)!==99)break;return H=I.substring(I.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+H+"-webkit-"+I+"-ms-flex-pack"+H+I;case 1005:return p.test(I)?I.replace(f,":-webkit-")+I.replace(f,":-moz-")+I:I;case 1e3:switch(H=I.substring(13).trim(),B=H.indexOf("-")+1,H.charCodeAt(0)+H.charCodeAt(B)){case 226:H=I.replace(T,"tb");break;case 232:H=I.replace(T,"tb-rl");break;case 220:H=I.replace(T,"lr");break;default:return I}return"-webkit-"+I+"-ms-"+H+I;case 1017:if(I.indexOf("sticky",9)===-1)break;case 975:switch(B=(I=V).length-10,H=(I.charCodeAt(B)===33?I.substring(0,B):I).substring(V.indexOf(":",7)+1).trim(),ge=H.charCodeAt(0)+(H.charCodeAt(7)|0)){case 203:if(111>H.charCodeAt(8))break;case 115:I=I.replace(H,"-webkit-"+H)+";"+I;break;case 207:case 102:I=I.replace(H,"-webkit-"+(102<ge?"inline-":"")+"box")+";"+I.replace(H,"-webkit-"+H)+";"+I.replace(H,"-ms-"+H+"box")+";"+I}return I+";";case 938:if(I.charCodeAt(5)===45)switch(I.charCodeAt(6)){case 105:return H=I.replace("-items",""),"-webkit-"+I+"-webkit-box-"+H+"-ms-flex-"+H+I;case 115:return"-webkit-"+I+"-ms-flex-item-"+I.replace(C,"")+I;default:return"-webkit-"+I+"-ms-flex-line-pack"+I.replace("align-content","").replace(C,"")+I}break;case 973:case 989:if(I.charCodeAt(3)!==45||I.charCodeAt(4)===122)break;case 931:case 953:if(P.test(V)===!0)return(H=V.substring(V.indexOf(":")+1)).charCodeAt(0)===115?i(V.replace("stretch","fill-available"),B,Y,ie).replace(":fill-available",":stretch"):I.replace(H,"-webkit-"+H)+I.replace(H,"-moz-"+H.replace("fill-",""))+I;break;case 962:if(I="-webkit-"+I+(I.charCodeAt(5)===102?"-ms-"+I:"")+I,Y+ie===211&&I.charCodeAt(13)===105&&0<I.indexOf("transform",10))return I.substring(0,I.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+I}return I}function s(V,B){var Y=V.indexOf(B===1?":":"{"),ie=V.substring(0,B!==3?Y:10);return Y=V.substring(Y+1,V.length-1),U(B!==2?ie:ie.replace(R,"$1"),Y,B)}function o(V,B){var Y=i(B,B.charCodeAt(0),B.charCodeAt(1),B.charCodeAt(2));return Y!==B+";"?Y.replace(S," or ($1)").substring(4):"("+B+")"}function a(V,B,Y,ie,I,ge,H,yt,Oe,He){for(var fe=0,Qt=B,Dr;fe<k;++fe)switch(Dr=L[fe].call(c,V,Qt,Y,ie,I,ge,H,yt,Oe,He)){case void 0:case!1:case!0:case null:break;default:Qt=Dr}if(Qt!==B)return Qt}function l(V){switch(V){case void 0:case null:k=L.length=0;break;default:if(typeof V=="function")L[k++]=V;else if(typeof V=="object")for(var B=0,Y=V.length;B<Y;++B)l(V[B]);else X=!!V|0}return l}function u(V){return V=V.prefix,V!==void 0&&(U=null,V?typeof V!="function"?G=1:(G=2,U=V):G=0),u}function c(V,B){var Y=V;if(33>Y.charCodeAt(0)&&(Y=Y.trim()),ue=Y,Y=[ue],0<k){var ie=a(-1,B,Y,Y,Z,$,0,0,0,0);ie!==void 0&&typeof ie=="string"&&(B=ie)}var I=e(te,Y,B,0,0);return 0<k&&(ie=a(-2,I,Y,Y,Z,$,I.length,0,0,0),ie!==void 0&&(I=ie)),ue="",re=0,$=Z=1,I}var h=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,p=/zoo|gra/,m=/([,: ])(transform)/g,y=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,w=/::(place)/g,E=/:(read-only)/g,T=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,S=/([\s\S]*?);/g,C=/-self|flex-/g,R=/[^]*?(:[rp][el]a[\w-]+)[^]*/,P=/stretch|:\s*\w+\-(?:conte|avail)/,N=/([^-])(image-set\()/,$=1,Z=1,re=0,G=1,te=[],L=[],k=0,U=null,X=0,ue="";return c.use=l,c.set=u,t!==void 0&&u(t),c}var dy="/*|*/",cW=dy+"}";function hW(t){t&&hf.current.insert(t+"}")}var hf={current:null},dW=function(e,n,r,i,s,o,a,l,u,c){switch(e){case 1:{switch(n.charCodeAt(0)){case 64:return hf.current.insert(n+";"),"";case 108:if(n.charCodeAt(2)===98)return""}break}case 2:{if(l===0)return n+dy;break}case 3:switch(l){case 102:case 112:return hf.current.insert(r[0]+n),"";default:return n+(c===0?dy:"")}case-2:n.split(cW).forEach(hW)}},fW=function(e){e===void 0&&(e={});var n=e.key||"css",r;e.prefix!==void 0&&(r={prefix:e.prefix});var i=new uW(r),s={},o;{o=e.container||document.head;var a=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(a,function(c){var h=c.getAttribute("data-emotion-"+n);h.split(" ").forEach(function(d){s[d]=!0}),c.parentNode!==o&&o.appendChild(c)})}var l;i.use(e.stylisPlugins)(dW),l=function(h,d,f,p){var m=d.name;hf.current=f,i(h,d.styles),p&&(u.inserted[m]=!0)};var u={key:n,sheet:new $P({key:n,container:o,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:s,registered:{},insert:l};return u},pW=!0;function jP(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]):r+=i+" "}),r}var s1=function(e,n,r){var i=e.key+"-"+n.name;if((r===!1||pW===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles),e.inserted[n.name]===void 0){var s=n;do e.insert("."+i,s,e.sheet,!0),s=s.next;while(s!==void 0)}};function mW(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var gW={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function yW(t){var e={};return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var vW=/[A-Z]|^ms/g,_W=/_EMO_([^_]+?)_([^]*?)_EMO_/g,UP=function(e){return e.charCodeAt(1)===45},sT=function(e){return e!=null&&typeof e!="boolean"},dg=yW(function(t){return UP(t)?t:t.replace(vW,"-$&").toLowerCase()}),oT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(_W,function(r,i,s){return ur={name:i,styles:s,next:ur},i})}return gW[e]!==1&&!UP(e)&&typeof n=="number"&&n!==0?n+"px":n};function Yu(t,e,n,r){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ur={name:n.name,styles:n.styles,next:ur},n.name;if(n.styles!==void 0){var i=n.next;if(i!==void 0)for(;i!==void 0;)ur={name:i.name,styles:i.styles,next:ur},i=i.next;var s=n.styles+";";return s}return wW(t,e,n)}case"function":{if(t!==void 0){var o=ur,a=n(t);return ur=o,Yu(t,e,a,r)}break}}if(e==null)return n;var l=e[n];return l!==void 0&&!r?l:n}function wW(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Yu(t,e,n[i],!1);else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":sT(o)&&(r+=dg(s)+":"+oT(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)sT(o[a])&&(r+=dg(s)+":"+oT(s,o[a])+";");else{var l=Yu(t,e,o,!1);switch(s){case"animation":case"animationName":{r+=dg(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var aT=/label:\s*([^\s;\n{]+)\s*;/g,ur,Qu=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";ur=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Yu(r,n,o,!1)):s+=o[0];for(var a=1;a<e.length;a++)s+=Yu(r,n,e[a],s.charCodeAt(s.length-1)===46),i&&(s+=o[a]);aT.lastIndex=0;for(var l="",u;(u=aT.exec(s))!==null;)l+="-"+u[1];var c=mW(s)+l;return{name:c,styles:s,next:ur}},o1=Object.prototype.hasOwnProperty,zP=x.createContext(typeof HTMLElement<"u"?fW():null),Qp=x.createContext({}),EW=zP.Provider,Xp=function(e){var n=function(i,s){return x.createElement(zP.Consumer,null,function(o){return e(i,o,s)})};return x.forwardRef(n)},fy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",xW=function(e,n){var r={};for(var i in n)o1.call(n,i)&&(r[i]=n[i]);return r[fy]=e,r},TW=function(){return null},lT=function(e,n,r,i){var s=r===null?n.css:n.css(r);typeof s=="string"&&e.registered[s]!==void 0&&(s=e.registered[s]);var o=n[fy],a=[s],l="";typeof n.className=="string"?l=jP(e.registered,a,n.className):n.className!=null&&(l=n.className+" ");var u=Qu(a);s1(e,u,typeof o=="string"),l+=e.key+"-"+u.name;var c={};for(var h in n)o1.call(n,h)&&h!=="css"&&h!==fy&&(c[h]=n[h]);c.ref=i,c.className=l;var d=x.createElement(o,c),f=x.createElement(TW,null);return x.createElement(x.Fragment,null,f,d)},bW=Xp(function(t,e,n){return typeof t.css=="function"?x.createElement(Qp.Consumer,null,function(r){return lT(e,t,r,n)}):lT(e,t,null,n)});function BP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Qu(e)}var uT=function(e,n){var r=arguments;if(n==null||!o1.call(n,"css"))return x.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=bW,s[1]=xW(e,n);for(var o=2;o<i;o++)s[o]=r[o];return x.createElement.apply(null,s)},SW=Xp(function(t,e){var n=t.styles;if(typeof n=="function")return x.createElement(Qp.Consumer,null,function(i){var s=Qu([n(i)]);return x.createElement(cT,{serialized:s,cache:e})});var r=Qu([n]);return x.createElement(cT,{serialized:r,cache:e})}),cT=function(t){qa(e,t);function e(r,i,s){return t.call(this,r,i,s)||this}var n=e.prototype;return n.componentDidMount=function(){this.sheet=new $P({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var i=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');i!==null&&this.sheet.tags.push(i),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},n.componentDidUpdate=function(i){i.serialized.name!==this.props.serialized.name&&this.insertStyles()},n.insertStyles=function(){if(this.props.serialized.next!==void 0&&s1(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var i=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=i,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},n.componentWillUnmount=function(){this.sheet.flush()},n.render=function(){return null},e}(x.Component),CW=function(){var e=BP.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},IW=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var s=e[r];if(s!=null){var o=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))o=t(s);else{o="";for(var a in s)s[a]&&a&&(o&&(o+=" "),o+=a)}break}default:o=s}o&&(i&&(i+=" "),i+=o)}}return i};function AW(t,e,n){var r=[],i=jP(t,r,n);return r.length<2?n:i+e(r)}var kW=function(){return null},PW=Xp(function(t,e){return x.createElement(Qp.Consumer,null,function(n){var r=!1,i=function(){for(var c=arguments.length,h=new Array(c),d=0;d<c;d++)h[d]=arguments[d];var f=Qu(h,e.registered);return s1(e,f,!1),e.key+"-"+f.name},s=function(){for(var c=arguments.length,h=new Array(c),d=0;d<c;d++)h[d]=arguments[d];return AW(e.registered,i,IW(h))},o={css:i,cx:s,theme:n},a=t.children(o);r=!0;var l=x.createElement(kW,null);return x.createElement(x.Fragment,null,l,a)})});const RW=Object.freeze(Object.defineProperty({__proto__:null,CacheProvider:EW,ClassNames:PW,Global:SW,ThemeContext:Qp,createElement:uT,css:BP,jsx:uT,keyframes:CW,withEmotionCache:Xp},Symbol.toStringTag,{value:"Module"})),WP=Vb(RW);function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},df.apply(this,arguments)}function Jp(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function OW(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function DW(t,e){t.classList?t.classList.add(e):OW(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function hT(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function NW(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=hT(t.className,e):t.setAttribute("class",hT(t.className&&t.className.baseVal||"",e))}const py={disabled:!1},Xu=K.createContext(null);var HP=function(e){return e.scrollTop},Al="unmounted",vs="exited",Nn="entering",dr="entered",Ju="exiting",si=function(t){qa(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=vs,s.appearStatus=Nn):l=dr:r.unmountOnExit||r.mountOnEnter?l=Al:l=vs,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Al?{status:vs}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Nn&&o!==dr&&(s=Nn):(o===Nn||o===dr)&&(s=Ju)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Nn){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:wl.findDOMNode(this);o&&HP(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vs&&this.setState({status:Al})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[wl.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),d=a?h.appear:h.enter;if(!i&&!o||py.disabled){this.safeSetState({status:dr},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Nn},function(){s.props.onEntering(u,c),s.onTransitionEnd(d,function(){s.safeSetState({status:dr},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:wl.findDOMNode(this);if(!s||py.disabled){this.safeSetState({status:vs},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Ju},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:vs},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:wl.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Al)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Jp(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return K.createElement(Xu.Provider,{value:null},typeof o=="function"?o(i,a):K.cloneElement(K.Children.only(o),a))},e}(K.Component);si.contextType=Xu;si.propTypes={};function ko(){}si.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ko,onEntering:ko,onEntered:ko,onExit:ko,onExiting:ko,onExited:ko};si.UNMOUNTED=Al;si.EXITED=vs;si.ENTERING=Nn;si.ENTERED=dr;si.EXITING=Ju;const qP=si;var MW=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return DW(e,r)})},fg=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return NW(e,r)})},a1=function(t){qa(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var u=r.resolveArguments(a,l),c=u[0],h=u[1];r.removeClasses(c,"exit"),r.addClass(c,h?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var u=r.resolveArguments(a,l),c=u[0],h=u[1],d=h?"appear":"enter";r.addClass(c,d,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var u=r.resolveArguments(a,l),c=u[0],h=u[1],d=h?"appear":"enter";r.removeClasses(c,d),r.addClass(c,d,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,u=typeof l=="string",c=u&&l?l+"-":"",h=u?""+c+a:l[a],d=u?h+"-active":l[a+"Active"],f=u?h+"-done":l[a+"Done"];return{baseClassName:h,activeClassName:d,doneClassName:f}},r}var n=e.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;s==="appear"&&o==="done"&&u&&(a+=" "+u),o==="active"&&i&&HP(i),a&&(this.appliedClasses[s][o]=a,MW(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,l=o.active,u=o.done;this.appliedClasses[s]={},a&&fg(i,a),l&&fg(i,l),u&&fg(i,u)},n.render=function(){var i=this.props;i.classNames;var s=Jp(i,["classNames"]);return K.createElement(qP,df({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(K.Component);a1.defaultProps={classNames:""};a1.propTypes={};const LW=a1;function FW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l1(t,e){var n=function(s){return e&&x.isValidElement(s)?e(s):s},r=Object.create(null);return t&&x.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function VW(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function As(t,e,n){return n[e]!=null?n[e]:t.props[e]}function $W(t,e){return l1(t.children,function(n){return x.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:As(n,"appear",t),enter:As(n,"enter",t),exit:As(n,"exit",t)})})}function jW(t,e,n){var r=l1(t.children),i=VW(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(x.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=x.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=x.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:As(o,"exit",t),enter:As(o,"enter",t)}):!l&&a&&!c?i[s]=x.cloneElement(o,{in:!1}):l&&a&&x.isValidElement(u)&&(i[s]=x.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:As(o,"exit",t),enter:As(o,"enter",t)}))}}),i}var UW=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},zW={component:"div",childFactory:function(e){return e}},u1=function(t){qa(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(FW(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?$W(i,a):jW(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=l1(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=df({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Jp(i,["component","childFactory"]),l=this.state.contextValue,u=UW(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?K.createElement(Xu.Provider,{value:l},u):K.createElement(Xu.Provider,{value:l},K.createElement(s,a,u))},e}(K.Component);u1.propTypes={};u1.defaultProps=zW;const GP=u1;var KP=function(t){qa(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.handleEnter=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return r.handleLifecycle("onEnter",0,l)},r.handleEntering=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return r.handleLifecycle("onEntering",0,l)},r.handleEntered=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return r.handleLifecycle("onEntered",0,l)},r.handleExit=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return r.handleLifecycle("onExit",1,l)},r.handleExiting=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return r.handleLifecycle("onExiting",1,l)},r.handleExited=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return r.handleLifecycle("onExited",1,l)},r}var n=e.prototype;return n.handleLifecycle=function(i,s,o){var a,l=this.props.children,u=K.Children.toArray(l)[s];if(u.props[i]&&(a=u.props)[i].apply(a,o),this.props[i]){var c=u.props.nodeRef?void 0:wl.findDOMNode(this);this.props[i](c)}},n.render=function(){var i=this.props,s=i.children,o=i.in,a=Jp(i,["children","in"]),l=K.Children.toArray(s),u=l[0],c=l[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,K.createElement(GP,a,o?K.cloneElement(u,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):K.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},e}(K.Component);KP.propTypes={};const BW=KP;var wh,Eh;function WW(t,e){return!(t===e||K.isValidElement(t)&&K.isValidElement(e)&&t.key!=null&&t.key===e.key)}var Pa={out:"out-in",in:"in-out"},ff=function(e,n,r){return function(){var i;e.props[n]&&(i=e.props)[n].apply(i,arguments),r()}},HW=(wh={},wh[Pa.out]=function(t){var e=t.current,n=t.changeState;return K.cloneElement(e,{in:!1,onExited:ff(e,"onExited",function(){n(Nn,null)})})},wh[Pa.in]=function(t){var e=t.current,n=t.changeState,r=t.children;return[e,K.cloneElement(r,{in:!0,onEntered:ff(r,"onEntered",function(){n(Nn)})})]},wh),qW=(Eh={},Eh[Pa.out]=function(t){var e=t.children,n=t.changeState;return K.cloneElement(e,{in:!0,onEntered:ff(e,"onEntered",function(){n(dr,K.cloneElement(e,{in:!0}))})})},Eh[Pa.in]=function(t){var e=t.current,n=t.children,r=t.changeState;return[K.cloneElement(e,{in:!1,onExited:ff(e,"onExited",function(){r(dr,K.cloneElement(n,{in:!0}))})}),K.cloneElement(n,{in:!0})]},Eh),c1=function(t){qa(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.state={status:dr,current:null},r.appeared=!1,r.changeState=function(a,l){l===void 0&&(l=r.state.current),r.setState({status:a,current:l})},r}var n=e.prototype;return n.componentDidMount=function(){this.appeared=!0},e.getDerivedStateFromProps=function(i,s){return i.children==null?{current:null}:s.status===Nn&&i.mode===Pa.in?{status:Nn}:s.current&&WW(s.current,i.children)?{status:Ju}:{current:K.cloneElement(i.children,{in:!0})}},n.render=function(){var i=this.props,s=i.children,o=i.mode,a=this.state,l=a.status,u=a.current,c={children:s,current:u,changeState:this.changeState,status:l},h;switch(l){case Nn:h=qW[o](c);break;case Ju:h=HW[o](c);break;case dr:h=u}return K.createElement(Xu.Provider,{value:{isMounting:!this.appeared}},h)},e}(K.Component);c1.propTypes={};c1.defaultProps={mode:Pa.out};const GW=c1,KW=Object.freeze(Object.defineProperty({__proto__:null,CSSTransition:LW,ReplaceTransition:BW,SwitchTransition:GW,Transition:qP,TransitionGroup:GP,config:py},Symbol.toStringTag,{value:"Module"})),YW=Vb(KW);var cn={},Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.CloseIcon=Fn.InfoIcon=Fn.FlameIcon=Fn.CheckIcon=Fn.AlertIcon=void 0;var Vc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QW=x,kr=XW(QW);function XW(t){return t&&t.__esModule?t:{default:t}}function $c(t){return{"aria-hidden":!0,height:16,width:t,viewBox:"0 0 "+t+" 16",style:{display:"inline-block",verticalAlign:"text-top",fill:"currentColor"}}}Fn.AlertIcon=function(e){return kr.default.createElement("svg",Vc({},$c(16),e),kr.default.createElement("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))};Fn.CheckIcon=function(e){return kr.default.createElement("svg",Vc({},$c(12),e),kr.default.createElement("path",{fillRule:"evenodd",d:"M12 5.5l-8 8-4-4L1.5 8 4 10.5 10.5 4 12 5.5z"}))};Fn.FlameIcon=function(e){return kr.default.createElement("svg",Vc({},$c(12),e),kr.default.createElement("path",{fillRule:"evenodd",d:"M5.05.01c.81 2.17.41 3.38-.52 4.31C3.55 5.37 1.98 6.15.9 7.68c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.01 8.68 2.15 5.05.02L5.03 0l.02.01z"}))};Fn.InfoIcon=function(e){return kr.default.createElement("svg",Vc({},$c(14),e),kr.default.createElement("path",{fillRule:"evenodd",d:"M6.3 5.71a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 8.01c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V8v.01zM7 2.32C3.86 2.32 1.3 4.86 1.3 8c0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 1c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))};Fn.CloseIcon=function(e){return kr.default.createElement("svg",Vc({},$c(14),e),kr.default.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"}))};var j={};Object.defineProperty(j,"__esModule",{value:!0});j.R50="#FFEBE6";j.R75="#FFBDAD";j.R100="#FF8F73";j.R200="#FF7452";j.R300="#FF5630";j.R400="#DE350B";j.R500="#BF2600";j.Y50="#FFFAE6";j.Y75="#FFF0B3";j.Y100="#FFE380";j.Y200="#FFC400";j.Y300="#FFAB00";j.Y400="#FF991F";j.Y500="#FF8B00";j.G50="#E3FCEF";j.G75="#ABF5D1";j.G100="#79F2C0";j.G200="#57D9A3";j.G300="#36B37E";j.G400="#00875A";j.G500="#006644";j.B50="#DEEBFF";j.B75="#B3D4FF";j.B100="#4C9AFF";j.B200="#2684FF";j.B300="#0065FF";j.B400="#0052CC";j.B500="#0747A6";j.P50="#EAE6FF";j.P75="#C0B6F2";j.P100="#998DD9";j.P200="#8777D9";j.P300="#6554C0";j.P400="#5243AA";j.P500="#403294";j.T50="#E6FCFF";j.T75="#B3F5FF";j.T100="#79E2F2";j.T200="#00C7E6";j.T300="#00B8D9";j.T400="#00A3BF";j.T500="#008DA6";j.N0="#FFFFFF";j.N10="#FAFBFC";j.N20="#F4F5F7";j.N30="#EBECF0";j.N40="#DFE1E6";j.N50="#C1C7D0";j.N60="#B3BAC5";j.N70="#A5ADBA";j.N80="#97A0AF";j.N90="#8993A4";j.N100="#7A869A";j.N200="#6B778C";j.N300="#5E6C84";j.N400="#505F79";j.N500="#42526E";j.N600="#344563";j.N700="#253858";j.N800="#172B4D";j.N900="#091E42";j.N10A="rgba(9, 30, 66, 0.02)";j.N20A="rgba(9, 30, 66, 0.04)";j.N30A="rgba(9, 30, 66, 0.08)";j.N40A="rgba(9, 30, 66, 0.13)";j.N50A="rgba(9, 30, 66, 0.25)";j.N60A="rgba(9, 30, 66, 0.31)";j.N70A="rgba(9, 30, 66, 0.36)";j.N80A="rgba(9, 30, 66, 0.42)";j.N90A="rgba(9, 30, 66, 0.48)";j.N100A="rgba(9, 30, 66, 0.54)";j.N200A="rgba(9, 30, 66, 0.60)";j.N300A="rgba(9, 30, 66, 0.66)";j.N400A="rgba(9, 30, 66, 0.71)";j.N500A="rgba(9, 30, 66, 0.77)";j.N600A="rgba(9, 30, 66, 0.82)";j.N700A="rgba(9, 30, 66, 0.89)";j.N800A="rgba(9, 30, 66, 0.95)";var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.generateUEID=JW;Ga.NOOP=function(){};function JW(){var t=Math.random()*46656|0,e=Math.random()*46656|0;return t=("000"+t.toString(36)).slice(-3),e=("000"+e.toString(36)).slice(-3),t+e}Object.defineProperty(cn,"__esModule",{value:!0});cn.DefaultToast=cn.shrinkKeyframes=cn.toastWidth=cn.gutter=cn.borderRadius=void 0;var ZW=function(){function t(e,n){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(r.push(l.value),!(n&&r.length===n));i=!0);}catch(u){s=!0,o=u}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),eo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eH=sH(["from { height: 100%; } to { height: 0% }"],["from { height: 100%; } to { height: 0% }"]),od=x;iH(od);var Wt=WP,kl=Fn,tH=j,Hn=rH(tH),nH=Ga;function rH(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function iH(t){return t&&t.__esModule?t:{default:t}}function Zp(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function sH(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var my=cn.borderRadius=4,es=cn.gutter=8,oH=cn.toastWidth=360,aH=cn.shrinkKeyframes=(0,Wt.keyframes)(eH),YP=function(e){var n=e.tag,r=Zp(e,["tag"]);return(0,Wt.jsx)(n,eo({css:{border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1}},r))};YP.defaultProps={tag:"span"};var gy={success:{icon:kl.CheckIcon,text:Hn.G500,fg:Hn.G300,bg:Hn.G50},error:{icon:kl.FlameIcon,text:Hn.R500,fg:Hn.R300,bg:Hn.R50},warning:{icon:kl.AlertIcon,text:Hn.Y500,fg:Hn.Y300,bg:Hn.Y50},info:{icon:kl.InfoIcon,text:Hn.N400,fg:Hn.B200,bg:"white"}},lH=function(e){return(0,Wt.jsx)("div",eo({role:"button",className:"react-toast-notifications__toast__dismiss-button",css:{cursor:"pointer",flexShrink:0,opacity:.5,padding:es+"px "+es*1.5+"px",transition:"opacity 150ms",":hover":{opacity:1}}},e))},uH=function(e){return(0,Wt.jsx)("div",eo({className:"react-toast-notifications__toast__content",css:{flexGrow:1,fontSize:14,lineHeight:1.4,minHeight:40,padding:es+"px "+es*1.5+"px"}},e))},cH=function(e){var n=e.autoDismissTimeout,r=e.opacity,i=e.isRunning,s=Zp(e,["autoDismissTimeout","opacity","isRunning"]);return(0,Wt.jsx)("div",eo({className:"react-toast-notifications__toast__countdown",css:{animation:aH+" "+n+"ms linear",animationPlayState:i?"running":"paused",backgroundColor:"rgba(0,0,0,0.1)",bottom:0,height:0,left:0,opacity:r,position:"absolute",width:"100%"}},s))},hH=function(e){var n=e.appearance,r=e.autoDismiss,i=e.autoDismissTimeout,s=e.isRunning,o=gy[n],a=o.icon;return(0,Wt.jsx)("div",{className:"react-toast-notifications__toast__icon-wrapper",css:{backgroundColor:o.fg,borderTopLeftRadius:my,borderBottomLeftRadius:my,color:o.bg,flexShrink:0,paddingBottom:es,paddingTop:es,position:"relative",overflow:"hidden",textAlign:"center",width:30}},(0,Wt.jsx)(cH,{opacity:r?1:0,autoDismissTimeout:i,isRunning:s}),(0,Wt.jsx)(a,{className:"react-toast-notifications__toast__icon",css:{position:"relative",zIndex:1}}))};function dH(t){var e=t.split("-"),n=e[1]==="center"?e[0]:e[1],r={right:"translate3d(120%, 0, 0)",left:"translate3d(-120%, 0, 0)",bottom:"translate3d(0, 120%, 0)",top:"translate3d(0, -120%, 0)"};return r[n]}var fH=function(e){return{entering:{transform:dH(e)},entered:{transform:"translate3d(0,0,0)"},exiting:{transform:"scale(0.66)",opacity:0},exited:{transform:"scale(0.66)",opacity:0}}},pH=function(e){var n=e.appearance,r=e.placement,i=e.transitionDuration,s=e.transitionState,o=Zp(e,["appearance","placement","transitionDuration","transitionState"]),a=(0,od.useState)("auto"),l=ZW(a,2),u=l[0],c=l[1],h=(0,od.useRef)(null);return(0,od.useEffect)(function(){if(s==="entered"){var d=h.current;c(d.offsetHeight+es)}s==="exiting"&&c(0)},[s]),(0,Wt.jsx)("div",{ref:h,style:{height:u},css:{transition:"height "+(i-100)+"ms 100ms"}},(0,Wt.jsx)("div",eo({className:"react-toast-notifications__toast react-toast-notifications__toast--"+n,css:eo({backgroundColor:gy[n].bg,borderRadius:my,boxShadow:"0 3px 8px rgba(0, 0, 0, 0.175)",color:gy[n].text,display:"flex",marginBottom:es,maxWidth:"100%",transition:"transform "+i+"ms cubic-bezier(0.2, 0, 0, 1), opacity "+i+"ms",width:oH},fH(r)[s])},o)))},QP=function(e){var n=e.appearance,r=n===void 0?"info":n,i=e.autoDismiss,s=e.autoDismissTimeout,o=e.children,a=e.isRunning,l=e.onDismiss,u=e.placement,c=e.transitionDuration,h=e.transitionState,d=e.onMouseEnter,f=e.onMouseLeave,p=Zp(e,["appearance","autoDismiss","autoDismissTimeout","children","isRunning","onDismiss","placement","transitionDuration","transitionState","onMouseEnter","onMouseLeave"]);return(0,Wt.jsx)(pH,eo({appearance:r,placement:u,transitionState:h,transitionDuration:c,onMouseEnter:d,onMouseLeave:f},p),(0,Wt.jsx)(hH,{appearance:r,autoDismiss:i,autoDismissTimeout:s,isRunning:a}),(0,Wt.jsx)(uH,null,o),l?(0,Wt.jsx)(lH,{onClick:l},(0,Wt.jsx)(kl.CloseIcon,{className:"react-toast-notifications__toast__dismiss-icon"}),(0,Wt.jsx)(YP,{className:"react-toast-notifications__toast__dismiss-text"},"Close")):null)};cn.DefaultToast=QP;QP.defaultProps={onDismiss:nH.NOOP};Object.defineProperty(Fc,"__esModule",{value:!0});Fc.ToastContainer=void 0;var dT=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mH=WP,gH=x;vH(gH);var yH=cn;function vH(t){return t&&t.__esModule?t:{default:t}}function _H(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var wH={"top-left":{top:0,left:0},"top-center":{top:0,left:"50%",transform:"translateX(-50%)"},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-center":{bottom:0,left:"50%",transform:"translateX(-50%)"},"bottom-right":{bottom:0,right:0}},EH=function(e){var n=e.hasToasts,r=e.placement,i=_H(e,["hasToasts","placement"]);return(0,mH.jsx)("div",dT({className:"react-toast-notifications__container",css:dT({boxSizing:"border-box",maxHeight:"100%",maxWidth:"100%",overflow:"hidden",padding:yH.gutter,pointerEvents:n?null:"none",position:"fixed",zIndex:1e3},wH[r])},i))};Fc.ToastContainer=EH;var gr={},em={};Object.defineProperty(em,"__esModule",{value:!0});em.ToastController=void 0;var xH=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TH=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),XP=x,bH=SH(XP),tu=Ga;function SH(t){return t&&t.__esModule?t:{default:t}}function CH(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function IH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fT(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function AH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}tu.NOOP,tu.NOOP,tu.NOOP;function kH(t,e){var n=void 0,r=e,i=e;this.clear=function(){clearTimeout(n)},this.pause=function(){clearTimeout(n),i-=Date.now()-r},this.resume=function(){r=Date.now(),clearTimeout(n),n=setTimeout(t,i)},this.resume()}var PH=em.ToastController=function(t){AH(e,t);function e(){var n,r,i,s;IH(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=fT(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.state={isRunning:!!i.props.autoDismiss},i.startTimer=function(){var u=i.props,c=u.autoDismiss,h=u.autoDismissTimeout,d=u.onDismiss;c&&(i.setState({isRunning:!0}),i.timeout=new kH(d,h))},i.clearTimer=function(){i.timeout&&i.timeout.clear()},i.onMouseEnter=function(){i.setState({isRunning:!1},function(){i.timeout&&i.timeout.pause()})},i.onMouseLeave=function(){i.setState({isRunning:!0},function(){i.timeout&&i.timeout.resume()})},r),fT(i,s)}return TH(e,[{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentDidUpdate",value:function(r){if(r.autoDismiss!==this.props.autoDismiss){var i=this.props.autoDismiss?this.startTimer:this.clearTimer;i()}}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"render",value:function(){var r=this.props,i=r.autoDismiss,s=r.autoDismissTimeout,o=r.component,a=CH(r,["autoDismiss","autoDismissTimeout","component"]),l=this.state.isRunning,u=i?this.onMouseEnter:tu.NOOP,c=i?this.onMouseLeave:tu.NOOP;return bH.default.createElement(o,xH({autoDismiss:i,autoDismissTimeout:s,isRunning:l,onMouseEnter:u,onMouseLeave:c},a))}}]),e}(XP.Component);PH.defaultProps={autoDismiss:!1};Object.defineProperty(gr,"__esModule",{value:!0});gr.useToasts=gr.withToastManager=gr.ToastConsumer=gr.ToastProvider=void 0;var Pl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RH=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h1=x,Yn=LH(h1),OH=_v,pT=YW,DH=em,NH=Fc,MH=cn,ll=Ga;function LH(t){return t&&t.__esModule?t:{default:t}}function FH(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function xh(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}function VH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mT(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $H(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var JP={Toast:MH.DefaultToast,ToastContainer:NH.ToastContainer},d1=Yn.default.createContext(),jH=d1.Consumer,UH=d1.Provider,zH=!!(typeof window<"u"&&window.document&&window.document.createElement),BH=gr.ToastProvider=function(t){$H(e,t);function e(){var n,r,i,s;VH(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=mT(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.state={toasts:[]},i.has=function(u){return i.state.toasts.length?!!i.state.toasts.filter(function(c){return c.id===u}).length:!1},i.onDismiss=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ll.NOOP;return function(){c(u),i.remove(u)}},i.add=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ll.NOOP,d=c.id?c.id:(0,ll.generateUEID)(),f=function(){return h(d)};if(!i.has(d))return i.setState(function(p){var m=Pl({content:u,id:d},c),y=i.props.newestOnTop?[m].concat(xh(p.toasts)):[].concat(xh(p.toasts),[m]);return{toasts:y}},f),d},i.remove=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ll.NOOP,h=function(){return c(u)};i.has(u)&&i.setState(function(d){var f=d.toasts.filter(function(p){return p.id!==u});return{toasts:f}},h)},i.removeAll=function(){i.state.toasts.length&&i.state.toasts.forEach(function(u){return i.remove(u.id)})},i.update=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ll.NOOP,d=function(){return h(u)};i.has(u)&&i.setState(function(f){var p=f.toasts,m=p.findIndex(function(v){return v.id===u}),y=Pl({},p[m],c),g=[].concat(xh(p.slice(0,m)),[y],xh(p.slice(m+1)));return{toasts:g}},d)},r),mT(i,s)}return RH(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.autoDismiss,o=i.autoDismissTimeout,a=i.children,l=i.components,u=i.placement,c=i.portalTargetSelector,h=i.transitionDuration,d=Pl({},JP,l),f=d.Toast,p=d.ToastContainer,m=this.add,y=this.remove,g=this.removeAll,v=this.update,w=Object.freeze(this.state.toasts),E=!!w.length,T=zH?c?document.querySelector(c):document.body:null;return Yn.default.createElement(UH,{value:{add:m,remove:y,removeAll:g,update:v,toasts:w}},a,T?(0,OH.createPortal)(Yn.default.createElement(p,{placement:u,hasToasts:E},Yn.default.createElement(pT.TransitionGroup,{component:null},w.map(function(b){var S=b.appearance,C=b.autoDismiss,R=b.content,P=b.id,N=b.onDismiss,$=FH(b,["appearance","autoDismiss","content","id","onDismiss"]);return Yn.default.createElement(pT.Transition,{appear:!0,key:P,mountOnEnter:!0,timeout:h,unmountOnExit:!0},function(Z){return Yn.default.createElement(DH.ToastController,Pl({appearance:S,autoDismiss:C!==void 0?C:s,autoDismissTimeout:o,component:f,key:P,onDismiss:r.onDismiss(P,N),placement:u,transitionDuration:h,transitionState:Z},$),R)})}))),T):Yn.default.createElement(p,{placement:u,hasToasts:E}))}}]),e}(h1.Component);BH.defaultProps={autoDismiss:!1,autoDismissTimeout:5e3,components:JP,newestOnTop:!1,placement:"top-right",transitionDuration:220};var WH=gr.ToastConsumer=function(e){var n=e.children;return Yn.default.createElement(jH,null,function(r){return n(r)})};gr.withToastManager=function(e){return Yn.default.forwardRef(function(n,r){return Yn.default.createElement(WH,null,function(i){return Yn.default.createElement(e,Pl({toastManager:i},n,{ref:r}))})})};gr.useToasts=function(){var e=(0,h1.useContext)(d1);if(!e)throw Error("The `useToasts` hook must be called from a descendent of the `ToastProvider`.");return{addToast:e.add,removeToast:e.remove,removeAllToasts:e.removeAll,updateToast:e.update,toastStack:e.toasts}};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Fc;Object.defineProperty(t,"DefaultToastContainer",{enumerable:!0,get:function(){return e.ToastContainer}});var n=cn;Object.defineProperty(t,"DefaultToast",{enumerable:!0,get:function(){return n.DefaultToast}});var r=gr;Object.defineProperty(t,"ToastConsumer",{enumerable:!0,get:function(){return r.ToastConsumer}}),Object.defineProperty(t,"ToastProvider",{enumerable:!0,get:function(){return r.ToastProvider}}),Object.defineProperty(t,"withToastManager",{enumerable:!0,get:function(){return r.withToastManager}}),Object.defineProperty(t,"useToasts",{enumerable:!0,get:function(){return r.useToasts}})})(To);const HH=()=>{const[t,e]=x.useState({TitleHome:"",unionChoice:[]}),[n,r]=x.useState(""),[i,s]=x.useState(""),o=Ns(Hi,"students"),[a,l]=x.useState(!1),[u,c]=x.useState(!0),[h,d]=x.useState(),{address:f,userPosition:p}=Q7();console.log("address ",f);const[m,y]=x.useState([]);x.useEffect(()=>{(async()=>{try{const b=await fetch("/api/mac");if(!b.ok)throw new Error(`HTTP error! status: ${b.status}`);const S=await b.json();y(S)}catch(b){console.error("Error fetching MAC addresses:",b)}})()},[]);const{addToast:g}=To.useToasts(),v=async(T,{resetForm:b,setSubmitting:S})=>{if(h.map(N=>{if(N.magv===T.magv){c(!1),b(),s(""),S(!1),l(!1);return}}),u||g("Đã điểm danh",{appearance:"info",autoDismiss:!0}),!u)return;if(S(!0),!i){g("Vui lòng chụp ảnh",{appearance:"error",autoDismiss:!0}),S(!1);return}if(S(!0),!f){g("Vui lòng bật vị trí",{appearance:"error",autoDismiss:!0}),S(!1);return}l(!0);const C=Y7(i),R=`${Date.now()}-${Math.random().toString(36).substring(2)}`,P=X2(PP,`images/${R}`);try{await Iz(P,C);const N=await Az(P);await D2(o,{magv:T.magv,group:T.group,image:N,mac:m,address:f||"No address",position:JSON.stringify(p||"No address"),created_at:new Date}).then(()=>{g("Điểm danh thành công",{appearance:"success",autoDismiss:!0}),b(),s(""),S(!1),l(!1)}).catch(()=>{S(!1),l(!1)})}catch(N){alert(JSON.stringify(N)),g("Lỗi upload",{appearance:"error",autoDismiss:!0}),l(!1)}};async function w(){try{const T=Ns(Hi,"students");l(!0);let b;n===""?b=Wi(T,Hu("created_at","desc")):b=Wi(T,j_("group","==",n));const C=(await ka(b)).docs.map(R=>({id:R.id,...R.data()}));d(C)}catch(T){console.log("fetchData error: ",T)}finally{l(!1)}}x.useEffect(()=>{w()},[n]),x.useEffect(()=>{async function T(){try{const b=Ns(Hi,"HomeValue");l(!0);let S;S=Wi(b,Hu("created_at","desc"));const R=(await ka(S)).docs.map(N=>({id:N.id,...N.data()})),P=R.map(N=>N.unionChoice);e({TitleHome:R[0].TitleHome,unionChoice:P[0]})}catch(b){console.log("fetchData error: ",b)}finally{l(!1)}}T()},[]);function E(T){r(T.target.value)}return console.log("g",n),_.jsxs("div",{className:"bg-white pb-20",children:[a&&_.jsx(Z7,{}),_.jsx("div",{className:"container max-w-full mx-auto py-5 px-6",children:_.jsx("div",{className:"font-sans",children:_.jsx("div",{className:"max-w-sm mx-auto px-6",children:_.jsx("div",{className:"relative flex flex-wrap",children:_.jsx("div",{className:"w-full relative",children:_.jsxs("div",{className:"mt-6",children:[_.jsxs("div",{className:"mb-5 pb-1 border-b-2 text-center font-base text-blue-700",children:[_.jsx("h2",{className:"text-xl mb-3 font-bold",children:"Điểm Danh Cuộc Thi"}),_.jsx("h1",{className:"text-2xl font-bold text-red-500",children:t.TitleHome})]}),_.jsx("div",{className:"text-center text-[15px] font-semibold text-gray-500",children:"Nhập đầy đủ thông tin"}),_.jsx(zv,{initialValues:{magv:"",group:""},validationSchema:Zf({magv:Bs().length(6,"Mã giáo viên không đúng").required("Vui lòng nhập"),group:Bs().required("Vui lòng chọn công đoàn")}),onSubmit:v,children:({values:T,handleChange:b,handleBlur:S,isSubmitting:C,errors:R,touched:P})=>_.jsx(VP,{values:T,dataFetch:t,handleChangeGroup:E,handleSubmit:v,handleChange:b,handleBlur:S,isSubmitting:C,errors:R,touched:P,setImage:s,image:i})})]})})})})})})]})};function ZP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=ZP(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Si(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=ZP(t))&&(r&&(r+=" "),r+=e);return r}const ad=t=>typeof t=="number"&&!isNaN(t),pf=t=>typeof t=="string",En=t=>typeof t=="function",ld=t=>pf(t)||En(t)?t:null,pg=t=>x.isValidElement(t)||pf(t)||En(t)||ad(t);function qH(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function tm(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:h,isIn:d}=o;const f=r?`${e}--${l}`:e,p=r?`${n}--${l}`:n,m=x.useRef(0);return x.useLayoutEffect(()=>{const y=h.current,g=f.split(" "),v=w=>{w.target===h.current&&(y.dispatchEvent(new Event("d")),y.removeEventListener("animationend",v),y.removeEventListener("animationcancel",v),m.current===0&&w.type!=="animationcancel"&&y.classList.remove(...g))};y.classList.add(...g),y.addEventListener("animationend",v),y.addEventListener("animationcancel",v)},[]),x.useEffect(()=>{const y=h.current,g=()=>{y.removeEventListener("animationend",g),i?qH(y,c,s):c()};d||(u?g():(m.current=1,y.className+=` ${p}`,y.addEventListener("animationend",g)))},[d]),K.createElement(K.Fragment,null,a)}}function gT(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const ks={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},Th=t=>{let{theme:e,type:n,...r}=t;return K.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},mg={info:function(t){return K.createElement(Th,{...t},K.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return K.createElement(Th,{...t},K.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return K.createElement(Th,{...t},K.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return K.createElement(Th,{...t},K.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return K.createElement("div",{className:"Toastify__spinner"})}};function GH(t){const[,e]=x.useReducer(f=>f+1,0),[n,r]=x.useState([]),i=x.useRef(null),s=x.useRef(new Map).current,o=f=>n.indexOf(f)!==-1,a=x.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:f=>s.get(f)}).current;function l(f){let{containerId:p}=f;const{limit:m}=a.props;!m||p&&a.containerId!==p||(a.count-=a.queue.length,a.queue=[])}function u(f){r(p=>f==null?[]:p.filter(m=>m!==f))}function c(){const{toastContent:f,toastProps:p,staleId:m}=a.queue.shift();d(f,p,m)}function h(f,p){let{delay:m,staleId:y,...g}=p;if(!pg(f)||function($){return!i.current||a.props.enableMultiContainer&&$.containerId!==a.props.containerId||s.has($.toastId)&&$.updateId==null}(g))return;const{toastId:v,updateId:w,data:E}=g,{props:T}=a,b=()=>u(v),S=w==null;S&&a.count++;const C={...T,style:T.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(g).filter($=>{let[Z,re]=$;return re!=null})),toastId:v,updateId:w,data:E,closeToast:b,isIn:!1,className:ld(g.className||T.toastClassName),bodyClassName:ld(g.bodyClassName||T.bodyClassName),progressClassName:ld(g.progressClassName||T.progressClassName),autoClose:!g.isLoading&&(R=g.autoClose,P=T.autoClose,R===!1||ad(R)&&R>0?R:P),deleteToast(){const $=gT(s.get(v),"removed");s.delete(v),ks.emit(4,$);const Z=a.queue.length;if(a.count=v==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),Z>0){const re=v==null?a.props.limit:1;if(Z===1||re===1)a.displayedToast++,c();else{const G=re>Z?Z:re;a.displayedToast=G;for(let te=0;te<G;te++)c()}}else e()}};var R,P;C.iconOut=function($){let{theme:Z,type:re,isLoading:G,icon:te}=$,L=null;const k={theme:Z,type:re};return te===!1||(En(te)?L=te(k):x.isValidElement(te)?L=x.cloneElement(te,k):pf(te)||ad(te)?L=te:G?L=mg.spinner():(U=>U in mg)(re)&&(L=mg[re](k))),L}(C),En(g.onOpen)&&(C.onOpen=g.onOpen),En(g.onClose)&&(C.onClose=g.onClose),C.closeButton=T.closeButton,g.closeButton===!1||pg(g.closeButton)?C.closeButton=g.closeButton:g.closeButton===!0&&(C.closeButton=!pg(T.closeButton)||T.closeButton);let N=f;x.isValidElement(f)&&!pf(f.type)?N=x.cloneElement(f,{closeToast:b,toastProps:C,data:E}):En(f)&&(N=f({closeToast:b,toastProps:C,data:E})),T.limit&&T.limit>0&&a.count>T.limit&&S?a.queue.push({toastContent:N,toastProps:C,staleId:y}):ad(m)?setTimeout(()=>{d(N,C,y)},m):d(N,C,y)}function d(f,p,m){const{toastId:y}=p;m&&s.delete(m);const g={content:f,props:p};s.set(y,g),r(v=>[...v,y].filter(w=>w!==m)),ks.emit(4,gT(g,g.props.updateId==null?"added":"updated"))}return x.useEffect(()=>(a.containerId=t.containerId,ks.cancelEmit(3).on(0,h).on(1,f=>i.current&&u(f)).on(5,l).emit(2,a),()=>{s.clear(),ks.emit(3,a)}),[]),x.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(f){const p=new Map,m=Array.from(s.values());return t.newestOnTop&&m.reverse(),m.forEach(y=>{const{position:g}=y.props;p.has(g)||p.set(g,[]),p.get(g).push(y)}),Array.from(p,y=>f(y[0],y[1]))},containerRef:i,isToastActive:o}}function yT(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function vT(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function KH(t){const[e,n]=x.useState(!1),[r,i]=x.useState(!1),s=x.useRef(null),o=x.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=x.useRef(t),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:h,closeOnClick:d}=t;function f(E){if(t.draggable){E.nativeEvent.type==="touchstart"&&E.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",g),document.addEventListener("mouseup",v),document.addEventListener("touchmove",g),document.addEventListener("touchend",v);const T=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=T.getBoundingClientRect(),T.style.transition="",o.x=yT(E.nativeEvent),o.y=vT(E.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=T.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=T.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function p(E){if(o.boundingRect){const{top:T,bottom:b,left:S,right:C}=o.boundingRect;E.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=S&&o.x<=C&&o.y>=T&&o.y<=b?y():m()}}function m(){n(!0)}function y(){n(!1)}function g(E){const T=s.current;o.canDrag&&T&&(o.didMove=!0,e&&y(),o.x=yT(E),o.y=vT(E),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),T.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,T.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function v(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",v);const E=s.current;if(o.canDrag&&o.didMove&&E){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();E.style.transition="transform 0.2s, opacity 0.2s",E.style.transform=`translate${t.draggableDirection}(0)`,E.style.opacity="1"}}x.useEffect(()=>{a.current=t}),x.useEffect(()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),En(t.onOpen)&&t.onOpen(x.isValidElement(t.children)&&t.children.props),()=>{const E=a.current;En(E.onClose)&&E.onClose(x.isValidElement(E.children)&&E.children.props)}),[]),x.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||y(),window.addEventListener("focus",m),window.addEventListener("blur",y)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",y))}),[t.pauseOnFocusLoss]);const w={onMouseDown:f,onTouchStart:f,onMouseUp:p,onTouchEnd:p};return l&&u&&(w.onMouseEnter=y,w.onMouseLeave=m),d&&(w.onClick=E=>{h&&h(E),o.canCloseOnClick&&c()}),{playToast:m,pauseToast:y,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:w}}function eR(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return K.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},K.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},K.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function YH(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:h,theme:d}=t;const f=s||l&&u===0,p={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:f?0:1};l&&(p.transform=`scaleX(${u})`);const m=Si("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),y=En(o)?o({rtl:c,type:i,defaultClassName:m}):Si(m,o);return K.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:y,style:p,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&r()}})}const QH=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=KH(t),{closeButton:s,children:o,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:h,transition:d,position:f,className:p,style:m,bodyClassName:y,bodyStyle:g,progressClassName:v,progressStyle:w,updateId:E,role:T,progress:b,rtl:S,toastId:C,deleteToast:R,isIn:P,isLoading:N,iconOut:$,closeOnClick:Z,theme:re}=t,G=Si("Toastify__toast",`Toastify__toast-theme--${re}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":Z}),te=En(p)?p({rtl:S,position:f,type:u,defaultClassName:G}):Si(G,p),L=!!b||!a,k={closeToast:h,type:u,theme:re};let U=null;return s===!1||(U=En(s)?s(k):x.isValidElement(s)?x.cloneElement(s,k):eR(k)),K.createElement(d,{isIn:P,done:R,position:f,preventExitTransition:n,nodeRef:r},K.createElement("div",{id:C,onClick:l,className:te,...i,style:m,ref:r},K.createElement("div",{...P&&{role:T},className:En(y)?y({type:u}):Si("Toastify__toast-body",y),style:g},$!=null&&K.createElement("div",{className:Si("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},$),K.createElement("div",null,o)),U,K.createElement(YH,{...E&&!L?{key:`pb-${E}`}:{},rtl:S,theme:re,delay:a,isRunning:e,isIn:P,closeToast:h,hide:c,type:u,style:w,className:v,controlledProgress:L,progress:b||0})))},nm=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},XH=tm(nm("bounce",!0));tm(nm("slide",!0));tm(nm("zoom"));tm(nm("flip"));const yy=x.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=GH(t),{className:s,style:o,rtl:a,containerId:l}=t;function u(c){const h=Si("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return En(s)?s({position:c,rtl:a,defaultClassName:h}):Si(h,ld(s))}return x.useEffect(()=>{e&&(e.current=r.current)},[]),K.createElement("div",{ref:r,className:"Toastify",id:l},n((c,h)=>{const d=h.length?{...o}:{...o,pointerEvents:"none"};return K.createElement("div",{className:u(c),style:d,key:`container-${c}`},h.map((f,p)=>{let{content:m,props:y}=f;return K.createElement(QH,{...y,isIn:i(y.toastId),style:{...y.style,"--nth":p+1,"--len":h.length},key:`toast-${y.key}`},m)}))}))});yy.displayName="ToastContainer",yy.defaultProps={position:"top-right",transition:XH,autoClose:5e3,closeButton:eR,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let _T,gg=new Map,wT=[];ks.on(2,t=>{_T=t.containerId||t,gg.set(_T,t),wT.forEach(e=>{ks.emit(0,e.content,e.options)}),wT=[]}).on(3,t=>{gg.delete(t.containerId||t),gg.size===0&&ks.off(0).off(1).off(5)});const tR=({setCheckAuth:t,setUser:e})=>{x.useEffect(()=>{localStorage.getItem("auth")?t(!0):t(!1)},[]);const{addToast:n}=To.useToasts,r=hc(),i=async o=>{try{const a=await DB(RP,o.email,o.password);console.log(a.user),localStorage.setItem("auth",a.user.accessToken),e(a),t(!0),r("/admin"),n("Đăng nhập thành công",{appearance:"success",autoDismiss:!0})}catch{n("Tài khoản hoặc mật khẩu không đúng",{appearance:"error",autoDismiss:!0})}},s=()=>{r("/admin/register")};return _.jsx("div",{children:_.jsx("section",{className:"bg-[#F4F7FF] py-20 lg:py-[120px] overflow-hidden",children:_.jsx("div",{className:"container",children:_.jsx("div",{className:"flex flex-wrap -mx-4",children:_.jsx("div",{className:"w-full px-4",children:_.jsxs("div",{className:`\r
                  max-w-[525px]\r
                  mx-auto\r
                  text-center\r
                  bg-white\r
                  rounded-lg\r
                  relative\r
                  overflow-hidden\r
                  py-16\r
                  px-10\r
                  sm:px-12\r
                  md:px-[60px]\r
                  `,children:[_.jsx("div",{className:"mb-10 flex justify-center md:mb-16 text-center",children:_.jsx("img",{src:"https://sinhvien.hitu.edu.vn/Content/AConfig/images/sv_logo_dashboard.png",alt:"image"})}),_.jsx(zv,{initialValues:{email:"",password:""},validationSchema:Zf({email:Bs().email("Email không hợp lệ").required("Trường này không được để trống"),password:Bs().required("Trường này không được để trống")}),onSubmit:(o,{resetForm:a,setSubmitting:l})=>i(o),children:({values:o})=>_.jsxs(_.Fragment,{children:[_.jsxs(pp,{children:[_.jsxs("div",{className:"mb-6",children:[_.jsx(Iu,{type:"text",placeholder:"Email",name:"email",className:`\r
                             w-full\r
                             rounded-md\r
                             border\r
                             bordder-[#E9EDF4]\r
                             py-3\r
                             px-5\r
                             bg-[#FCFDFE]\r
                             text-base text-body-color\r
                             placeholder-[#ACB6BE]\r
                             outline-none\r
                             focus-visible:shadow-none\r
                             focus:border-primary\r
                             `}),_.jsx("p",{className:"text-[12px] text-left h-5 text-red-600",children:_.jsx(wa,{name:"email"})})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx(Iu,{name:"password",type:"password",placeholder:"Password",className:`\r
                             w-full\r
                             rounded-md\r
                             border\r
                             bordder-[#E9EDF4]\r
                             py-3\r
                             px-5\r
                             bg-[#FCFDFE]\r
                             text-base text-body-color\r
                             placeholder-[#ACB6BE]\r
                             outline-none\r
                             focus-visible:shadow-none\r
                             focus:border-primary\r
                             `}),_.jsx("p",{className:"text-[12px] text-left h-5 text-red-600",children:_.jsx(wa,{name:"password"})})]}),_.jsx("div",{className:"mb-10",children:_.jsx("button",{className:`\r
                             w-full\r
                             rounded-md\r
                             border\r
                             border-blue-800\r
                             py-3\r
                             px-5\r
                             bg-blue-500\r
                             text-base text-white\r
                             cursor-pointer\r
                             hover:bg-opacity-90\r
                             transition\r
                             `,children:"Đăng nhập"})})]}),_.jsx(dc,{to:"/admin/register",onClick:s,children:_.jsx("button",{className:`\r
                             w-full\r
                             rounded-md\r
                             border\r
                             border-blue-800\r
                             py-3\r
                             px-5\r
                             bg-blue-500\r
                             text-base text-white\r
                             cursor-pointer\r
                             hover:bg-opacity-90\r
                             transition\r
                             `,children:"Đăng ký"})})]})})]})})})})})})},JH=()=>{const[t,e]=x.useState(!1),[n,r]=x.useState(null);return x.useEffect(()=>{e(!!localStorage.getItem("auth"))},[]),t?_.jsxs("div",{children:[_.jsx("h1",{className:"text-center text-2xl font-bold my-3",children:"QUẢN LÝ THÀNH VIÊN"}),_.jsx(lI,{})]}):_.jsx(tR,{setCheckAuth:e,setUser:r})};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function to(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function sn(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Or(t){sn(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||mf(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ZH(t,e){sn(2,arguments);var n=Or(t).getTime(),r=to(e);return new Date(n+r)}var eq={};function rm(){return eq}function tq(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function nq(t){return sn(1,arguments),t instanceof Date||mf(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function rq(t){if(sn(1,arguments),!nq(t)&&typeof t!="number")return!1;var e=Or(t);return!isNaN(Number(e))}function iq(t,e){sn(2,arguments);var n=to(e);return ZH(t,-n)}var sq=864e5;function oq(t){sn(1,arguments);var e=Or(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/sq)+1}function gf(t){sn(1,arguments);var e=1,n=Or(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function nR(t){sn(1,arguments);var e=Or(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=gf(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=gf(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function aq(t){sn(1,arguments);var e=nR(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=gf(n);return r}var lq=6048e5;function uq(t){sn(1,arguments);var e=Or(t),n=gf(e).getTime()-aq(e).getTime();return Math.round(n/lq)+1}function yf(t,e){var n,r,i,s,o,a,l,u;sn(1,arguments);var c=rm(),h=to((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Or(t),f=d.getUTCDay(),p=(f<h?7:0)+f-h;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function rR(t,e){var n,r,i,s,o,a,l,u;sn(1,arguments);var c=Or(t),h=c.getUTCFullYear(),d=rm(),f=to((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(h+1,0,f),p.setUTCHours(0,0,0,0);var m=yf(p,e),y=new Date(0);y.setUTCFullYear(h,0,f),y.setUTCHours(0,0,0,0);var g=yf(y,e);return c.getTime()>=m.getTime()?h+1:c.getTime()>=g.getTime()?h:h-1}function cq(t,e){var n,r,i,s,o,a,l,u;sn(1,arguments);var c=rm(),h=to((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),d=rR(t,e),f=new Date(0);f.setUTCFullYear(d,0,h),f.setUTCHours(0,0,0,0);var p=yf(f,e);return p}var hq=6048e5;function dq(t,e){sn(1,arguments);var n=Or(t),r=yf(n,e).getTime()-cq(n,e).getTime();return Math.round(r/hq)+1}function Ce(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var fq={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Ce(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Ce(r+1,2)},d:function(e,n){return Ce(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Ce(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Ce(e.getUTCHours(),n.length)},m:function(e,n){return Ce(e.getUTCMinutes(),n.length)},s:function(e,n){return Ce(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Ce(s,n.length)}};const li=fq;var Po={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pq={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return li.y(e,n)},Y:function(e,n,r,i){var s=rR(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Ce(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ce(o,n.length)},R:function(e,n){var r=nR(e);return Ce(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Ce(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ce(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ce(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return li.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Ce(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=dq(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Ce(s,n.length)},I:function(e,n,r){var i=uq(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Ce(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):li.d(e,n)},D:function(e,n,r){var i=oq(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ce(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ce(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ce(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Ce(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Po.noon:i===0?s=Po.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Po.evening:i>=12?s=Po.afternoon:i>=4?s=Po.morning:s=Po.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return li.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):li.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ce(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ce(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):li.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):li.s(e,n)},S:function(e,n){return li.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return xT(o);case"XXXX":case"XX":return _s(o);case"XXXXX":case"XXX":default:return _s(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return xT(o);case"xxxx":case"xx":return _s(o);case"xxxxx":case"xxx":default:return _s(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+ET(o,":");case"OOOO":default:return"GMT"+_s(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+ET(o,":");case"zzzz":default:return"GMT"+_s(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return Ce(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return Ce(o,n.length)}};function ET(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+Ce(s,2)}function xT(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Ce(Math.abs(t)/60,2)}return _s(t,e)}function _s(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Ce(Math.floor(i/60),2),o=Ce(i%60,2);return r+s+n+o}const mq=pq;var TT=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},iR=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},gq=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return TT(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",TT(i,n)).replace("{{time}}",iR(s,n))},yq={p:iR,P:gq};const vq=yq;var _q=["D","DD"],wq=["YY","YYYY"];function Eq(t){return _q.indexOf(t)!==-1}function xq(t){return wq.indexOf(t)!==-1}function bT(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Tq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bq=function(e,n,r){var i,s=Tq[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Sq=bq;function yg(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Cq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Iq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Aq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kq={date:yg({formats:Cq,defaultWidth:"full"}),time:yg({formats:Iq,defaultWidth:"full"}),dateTime:yg({formats:Aq,defaultWidth:"full"})};const Pq=kq;var Rq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Oq=function(e,n,r,i){return Rq[e]};const Dq=Oq;function ul(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Nq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Lq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$q={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Uq={ordinalNumber:jq,era:ul({values:Nq,defaultWidth:"wide"}),quarter:ul({values:Mq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ul({values:Lq,defaultWidth:"wide"}),day:ul({values:Fq,defaultWidth:"wide"}),dayPeriod:ul({values:Vq,defaultWidth:"wide",formattingValues:$q,defaultFormattingWidth:"wide"})};const zq=Uq;function cl(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Wq(a,function(h){return h.test(o)}):Bq(a,function(h){return h.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Bq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Wq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Hq(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var qq=/^(\d+)(th|st|nd|rd)?/i,Gq=/\d+/i,Kq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yq={any:[/^b/i,/^(a|c)/i]},Qq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Xq={any:[/1/i,/2/i,/3/i,/4/i]},Jq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iG={ordinalNumber:Hq({matchPattern:qq,parsePattern:Gq,valueCallback:function(e){return parseInt(e,10)}}),era:cl({matchPatterns:Kq,defaultMatchWidth:"wide",parsePatterns:Yq,defaultParseWidth:"any"}),quarter:cl({matchPatterns:Qq,defaultMatchWidth:"wide",parsePatterns:Xq,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:cl({matchPatterns:Jq,defaultMatchWidth:"wide",parsePatterns:Zq,defaultParseWidth:"any"}),day:cl({matchPatterns:eG,defaultMatchWidth:"wide",parsePatterns:tG,defaultParseWidth:"any"}),dayPeriod:cl({matchPatterns:nG,defaultMatchWidth:"any",parsePatterns:rG,defaultParseWidth:"any"})};const sG=iG;var oG={code:"en-US",formatDistance:Sq,formatLong:Pq,formatRelative:Dq,localize:zq,match:sG,options:{weekStartsOn:0,firstWeekContainsDate:1}};const aG=oG;var lG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cG=/^'([^]*?)'?$/,hG=/''/g,dG=/[a-zA-Z]/;function ST(t,e,n){var r,i,s,o,a,l,u,c,h,d,f,p,m,y,g,v,w,E;sn(2,arguments);var T=String(e),b=rm(),S=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:b.locale)!==null&&r!==void 0?r:aG,C=to((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:b.firstWeekContainsDate)!==null&&o!==void 0?o:(h=b.locale)===null||h===void 0||(d=h.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=to((f=(p=(m=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(g=n.locale)===null||g===void 0||(v=g.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&m!==void 0?m:b.weekStartsOn)!==null&&p!==void 0?p:(w=b.locale)===null||w===void 0||(E=w.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&f!==void 0?f:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var P=Or(t);if(!rq(P))throw new RangeError("Invalid time value");var N=tq(P),$=iq(P,N),Z={firstWeekContainsDate:C,weekStartsOn:R,locale:S,_originalDate:P},re=T.match(uG).map(function(G){var te=G[0];if(te==="p"||te==="P"){var L=vq[te];return L(G,S.formatLong)}return G}).join("").match(lG).map(function(G){if(G==="''")return"'";var te=G[0];if(te==="'")return fG(G);var L=mq[te];if(L)return!(n!=null&&n.useAdditionalWeekYearTokens)&&xq(G)&&bT(G,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Eq(G)&&bT(G,e,String(t)),L($,G,S.localize,Z);if(te.match(dG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+te+"`");return G}).join("");return re}function fG(t){var e=t.match(cG);return e?e[1].replace(hG,"'"):t}function sR(t){const e=new Date(t.seconds*1e3+t.nanoseconds/1e6),n=ST(e,"dd/MM/yyyy HH:mm:ss");return{dayOfWeek:ST(e,"EEEE"),formattedDate:n}}const oR=({numPage:t,currentPage:e,totalItems:n,totalCount:r,itemsPerPage:i,setCurrentPage:s})=>{const o=hc(),a=()=>{e>=Math.ceil(n/i)||(s(Number(e+1)),o(`?page=${e+1}`))},l=()=>{e<=1||(s(e-1),o(`?page=${e-1}`))};return _.jsx("div",{children:_.jsxs("div",{className:"px-5 py-5 bg-white border-t flex flex-col xs:flex-row items-center xs:justify-between",children:[_.jsxs("span",{className:"text-xs xs:text-sm text-gray-900",children:["Hiển thị ",r," của ",n," người dùng"]}),_.jsxs("div",{className:"inline-flex mt-2 xs:mt-0",children:[_.jsx("button",{onClick:l,className:"text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-l",children:"Prev"}),t&&[...Array(t)].map((u,c)=>c<e-5||c>e+3?null:_.jsx(dc,{className:`text-sm hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 ${e===c+1?"bg-blue-500 hover:!bg-blue-700 text-white":"bg-gray-300 hover:!bg-blue-700 hover:text-white"}`,to:`?page=${c+1}`,children:c+1},c)),_.jsx("button",{onClick:a,className:"text-sm bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded-r",children:"Next"})]})]})})};oR.propTypes={numPage:it.number.isRequired,currentPage:it.number.isRequired,totalItems:it.number.isRequired,totalCount:it.number.isRequired,itemsPerPage:it.number.isRequired,setCurrentPage:it.func.isRequired};/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function jc(t){return t+.5|0}const Ci=(t,e,n)=>Math.max(Math.min(t,n),e);function Rl(t){return Ci(jc(t*2.55),0,255)}function qi(t){return Ci(jc(t*255),0,255)}function zr(t){return Ci(jc(t/2.55)/100,0,1)}function CT(t){return Ci(jc(t*100),0,100)}const Rn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vy=[..."0123456789ABCDEF"],pG=t=>vy[t&15],mG=t=>vy[(t&240)>>4]+vy[t&15],bh=t=>(t&240)>>4===(t&15),gG=t=>bh(t.r)&&bh(t.g)&&bh(t.b)&&bh(t.a);function yG(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Rn[t[1]]*17,g:255&Rn[t[2]]*17,b:255&Rn[t[3]]*17,a:e===5?Rn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Rn[t[1]]<<4|Rn[t[2]],g:Rn[t[3]]<<4|Rn[t[4]],b:Rn[t[5]]<<4|Rn[t[6]],a:e===9?Rn[t[7]]<<4|Rn[t[8]]:255})),n}const vG=(t,e)=>t<255?e(t):"";function _G(t){var e=gG(t)?pG:mG;return t?"#"+e(t.r)+e(t.g)+e(t.b)+vG(t.a,e):void 0}const wG=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function aR(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function EG(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function xG(t,e,n){const r=aR(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function TG(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function f1(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,u,c;return s!==o&&(c=s-o,u=a>.5?c/(2-s-o):c/(s+o),l=TG(n,r,i,c,s),l=l*60+.5),[l|0,u||0,a]}function p1(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(qi)}function m1(t,e,n){return p1(aR,t,e,n)}function bG(t,e,n){return p1(xG,t,e,n)}function SG(t,e,n){return p1(EG,t,e,n)}function lR(t){return(t%360+360)%360}function CG(t){const e=wG.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Rl(+e[5]):qi(+e[5]));const i=lR(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=bG(i,s,o):e[1]==="hsv"?r=SG(i,s,o):r=m1(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function IG(t,e){var n=f1(t);n[0]=lR(n[0]+e),n=m1(n),t.r=n[0],t.g=n[1],t.b=n[2]}function AG(t){if(!t)return;const e=f1(t),n=e[0],r=CT(e[1]),i=CT(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${zr(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const IT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},AT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function kG(){const t={},e=Object.keys(AT),n=Object.keys(IT);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,IT[s]);s=parseInt(AT[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Sh;function PG(t){Sh||(Sh=kG(),Sh.transparent=[0,0,0,0]);const e=Sh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function OG(t){const e=RG.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Rl(o):Ci(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Rl(r):Ci(r,0,255)),i=255&(e[4]?Rl(i):Ci(i,0,255)),s=255&(e[6]?Rl(s):Ci(s,0,255)),{r,g:i,b:s,a:n}}}function DG(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${zr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const vg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ro=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function NG(t,e,n){const r=Ro(zr(t.r)),i=Ro(zr(t.g)),s=Ro(zr(t.b));return{r:qi(vg(r+n*(Ro(zr(e.r))-r))),g:qi(vg(i+n*(Ro(zr(e.g))-i))),b:qi(vg(s+n*(Ro(zr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Ch(t,e,n){if(t){let r=f1(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=m1(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function uR(t,e){return t&&Object.assign(e||{},t)}function kT(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=qi(t[3]))):(e=uR(t,{r:0,g:0,b:0,a:1}),e.a=qi(e.a)),e}function MG(t){return t.charAt(0)==="r"?OG(t):CG(t)}class Zu{constructor(e){if(e instanceof Zu)return e;const n=typeof e;let r;n==="object"?r=kT(e):n==="string"&&(r=yG(e)||PG(e)||MG(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=uR(this._rgb);return e&&(e.a=zr(e.a)),e}set rgb(e){this._rgb=kT(e)}rgbString(){return this._valid?DG(this._rgb):void 0}hexString(){return this._valid?_G(this._rgb):void 0}hslString(){return this._valid?AG(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,r.r=255&u*r.r+s*i.r+.5,r.g=255&u*r.g+s*i.g+.5,r.b=255&u*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=NG(this._rgb,e._rgb,n)),this}clone(){return new Zu(this.rgb)}alpha(e){return this._rgb.a=qi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=jc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ch(this._rgb,2,e),this}darken(e){return Ch(this._rgb,2,-e),this}saturate(e){return Ch(this._rgb,1,e),this}desaturate(e){return Ch(this._rgb,1,-e),this}rotate(e){return IG(this._rgb,e),this}}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Fr(){}const LG=(()=>{let t=0;return()=>t++})();function Ge(t){return t===null||typeof t>"u"}function Je(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Te(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Et(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function yn(t,e){return Et(t)?t:e}function Se(t,e){return typeof t>"u"?e:t}const FG=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,cR=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Me(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ae(t,e,n,r){let i,s,o;if(Je(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(Te(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function vf(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function _f(t){if(Je(t))return t.map(_f);if(Te(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=_f(t[n[i]]);return e}return t}function hR(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function VG(t,e,n,r){if(!hR(t))return;const i=e[t],s=n[t];Te(i)&&Te(s)?ec(i,s,r):e[t]=_f(s)}function ec(t,e,n){const r=Je(e)?e:[e],i=r.length;if(!Te(t))return t;n=n||{};const s=n.merger||VG;let o;for(let a=0;a<i;++a){if(o=r[a],!Te(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)s(l[u],t,o,n)}return t}function nu(t,e){return ec(t,e,{merger:$G})}function $G(t,e,n){if(!hR(t))return;const r=e[t],i=n[t];Te(r)&&Te(i)?nu(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=_f(i))}const PT={"":t=>t,x:t=>t.x,y:t=>t.y};function jG(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function UG(t){const e=jG(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function tc(t,e){return(PT[e]||(PT[e]=UG(e)))(t)}function g1(t){return t.charAt(0).toUpperCase()+t.slice(1)}const wf=t=>typeof t<"u",ts=t=>typeof t=="function",RT=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function zG(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ht=Math.PI,Ze=2*ht,Ef=Number.POSITIVE_INFINITY,BG=ht/180,ot=ht/2,cs=ht/4,OT=ht*2/3,Ii=Math.log10,xf=Math.sign;function ud(t,e,n){return Math.abs(t-e)<n}function DT(t){const e=Math.round(t);t=ud(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ii(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function WG(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Tf(t){return!isNaN(parseFloat(t))&&isFinite(t)}function HG(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function dR(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function yr(t){return t*(ht/180)}function y1(t){return t*(180/ht)}function NT(t){if(!Et(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function fR(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*ht&&(s+=Ze),{angle:s,distance:i}}function qG(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function lr(t){return(t%Ze+Ze)%Ze}function bf(t,e,n,r){const i=lr(t),s=lr(e),o=lr(n),a=lr(s-i),l=lr(o-i),u=lr(i-s),c=lr(i-o);return i===s||i===o||r&&s===o||a>l&&u<c}function $n(t,e,n){return Math.max(e,Math.min(n,t))}function GG(t){return $n(t,-32768,32767)}function Ol(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function v1(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const _y=(t,e,n,r)=>v1(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),KG=(t,e,n)=>v1(t,n,r=>t[r][e]>=n);function YG(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const pR=["push","pop","shift","splice","unshift"];function QG(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),pR.forEach(n=>{const r="_onData"+g1(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function MT(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(pR.forEach(s=>{delete t[s]}),delete t._chartjs)}function XG(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const mR=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function gR(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,mR.call(window,()=>{r=!1,t.apply(e,n)}))}}function JG(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const yR=t=>t==="start"?"left":t==="end"?"right":"center",gn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,ZG=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,Ih=t=>t===0||t===1,LT=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ze/n)),FT=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ze/n)+1,ru={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ot)+1,easeOutSine:t=>Math.sin(t*ot),easeInOutSine:t=>-.5*(Math.cos(ht*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ih(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ih(t)?t:LT(t,.075,.3),easeOutElastic:t=>Ih(t)?t:FT(t,.075,.3),easeInOutElastic(t){return Ih(t)?t:t<.5?.5*LT(t*2,.1125,.45):.5+.5*FT(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ru.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ru.easeInBounce(t*2)*.5:ru.easeOutBounce(t*2-1)*.5+.5};function vR(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function VT(t){return vR(t)?t:new Zu(t)}function _g(t){return vR(t)?t:new Zu(t).saturate(.5).darken(.1).hexString()}const eK=["x","y","borderWidth","radius","tension"],tK=["color","borderColor","backgroundColor"];function nK(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:tK},numbers:{type:"number",properties:eK}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function rK(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $T=new Map;function iK(t,e){e=e||{};const n=t+JSON.stringify(e);let r=$T.get(n);return r||(r=new Intl.NumberFormat(t,e),$T.set(n,r)),r}function im(t,e,n){return iK(e,n).format(t)}const _R={values(t){return Je(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=sK(t,n)}const o=Ii(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),im(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Ii(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?_R.numeric.call(this,t,e,n):""}};function sK(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var sm={formatters:_R};function oK(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:sm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const no=Object.create(null),wy=Object.create(null);function iu(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function wg(t,e,n){return typeof e=="string"?ec(iu(t,e),n):ec(iu(t,""),e)}class aK{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>_g(i.backgroundColor),this.hoverBorderColor=(r,i)=>_g(i.borderColor),this.hoverColor=(r,i)=>_g(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return wg(this,e,n)}get(e){return iu(this,e)}describe(e,n){return wg(wy,e,n)}override(e,n){return wg(no,e,n)}route(e,n,r,i){const s=iu(this,e),o=iu(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[i];return Te(l)?Object.assign({},u,l):Se(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var et=new aK({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[nK,rK,oK]);function lK(t){return!t||Ge(t.size)||Ge(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Sf(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function uK(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,u,c,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&!Je(h))o=Sf(t,i,s,o,h);else if(Je(h))for(u=0,c=h.length;u<c;u++)d=h[u],d!=null&&!Je(d)&&(o=Sf(t,i,s,o,d));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return o}function hs(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function jT(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function UT(t,e,n,r){wR(t,e,n,r,null)}function wR(t,e,n,r,i){let s,o,a,l,u,c,h,d;const f=e.pointStyle,p=e.rotation,m=e.radius;let y=(p||0)*BG;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(y),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,m,0,0,Ze):t.arc(n,r,m,0,Ze),t.closePath();break;case"triangle":c=i?i/2:m,t.moveTo(n+Math.sin(y)*c,r-Math.cos(y)*m),y+=OT,t.lineTo(n+Math.sin(y)*c,r-Math.cos(y)*m),y+=OT,t.lineTo(n+Math.sin(y)*c,r-Math.cos(y)*m),t.closePath();break;case"rectRounded":u=m*.516,l=m-u,o=Math.cos(y+cs)*l,h=Math.cos(y+cs)*(i?i/2-u:l),a=Math.sin(y+cs)*l,d=Math.sin(y+cs)*(i?i/2-u:l),t.arc(n-h,r-a,u,y-ht,y-ot),t.arc(n+d,r-o,u,y-ot,y),t.arc(n+h,r+a,u,y,y+ot),t.arc(n-d,r+o,u,y+ot,y+ht),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,c=i?i/2:l,t.rect(n-c,r-l,2*c,2*l);break}y+=cs;case"rectRot":h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,d=Math.sin(y)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+d,r-o),t.lineTo(n+h,r+a),t.lineTo(n-d,r+o),t.closePath();break;case"crossRot":y+=cs;case"cross":h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,d=Math.sin(y)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o);break;case"star":h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,d=Math.sin(y)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o),y+=cs,h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,d=Math.sin(y)*(i?i/2:m),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o);break;case"line":o=i?i/2:Math.cos(y)*m,a=Math.sin(y)*m,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(y)*(i?i/2:m),r+Math.sin(y)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Xo(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function _1(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function w1(t){t.restore()}function cK(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ge(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function hK(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function dK(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ra(t,e,n,r,i,s={}){const o=Je(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,cK(t,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&dK(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Ge(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,n,r,s.maxWidth)),t.fillText(u,n,r,s.maxWidth),hK(t,n,r,u,s),r+=Number(i.lineHeight);t.restore()}function Cf(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*ht,ht,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,ht,ot,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,ot,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-ot,!0),t.lineTo(n+o.topLeft,r)}const fK=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,pK=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mK(t,e){const n=(""+t).match(fK);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const gK=t=>+t||0;function E1(t,e){const n={},r=Te(e),i=r?Object.keys(e):e,s=Te(t)?r?o=>Se(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=gK(s(o));return n}function yK(t){return E1(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ca(t){return E1(t,["topLeft","topRight","bottomLeft","bottomRight"])}function tn(t){const e=yK(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ot(t,e){t=t||{},e=e||et.font;let n=Se(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Se(t.style,e.style);r&&!(""+r).match(pK)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Se(t.family,e.family),lineHeight:mK(Se(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Se(t.weight,e.weight),string:""};return i.string=lK(i),i}function Ah(t,e,n,r){let i=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&Je(a)&&(a=a[n%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function vK(t,e,n){const{min:r,max:i}=t,s=cR(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function bo(t,e){return Object.assign(Object.create(t),e)}function x1(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=bR("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>x1([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return xR(a,l,()=>CK(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return BT(a).includes(l)},ownKeys(a){return BT(a)},set(a,l,u){const c=a._storage||(a._storage=i());return a[l]=c[l]=u,delete a._keys,!0}})}function Oa(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:ER(t,r),setContext:s=>Oa(t,s,n,r),override:s=>Oa(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return xR(s,o,()=>wK(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function ER(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:ts(n)?n:()=>n,isIndexable:ts(r)?r:()=>r}}const _K=(t,e)=>t?t+g1(e):e,T1=(t,e)=>Te(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function xR(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function wK(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return ts(a)&&o.isScriptable(e)&&(a=EK(e,a,t,n)),Je(a)&&a.length&&(a=xK(e,a,t,o.isIndexable)),T1(e,a)&&(a=Oa(a,i,s&&s[e],o)),a}function EK(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),T1(t,l)&&(l=b1(i._scopes,i,t,l)),l}function xK(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Te(e[0])){const l=e,u=i._scopes.filter(c=>c!==l);e=[];for(const c of l){const h=b1(u,i,t,c);e.push(Oa(h,s,o&&o[t],a))}}return e}function TR(t,e,n){return ts(t)?t(e,n):t}const TK=(t,e)=>t===!0?e:typeof t=="string"?tc(e,t):void 0;function bK(t,e,n,r,i){for(const s of e){const o=TK(n,s);if(o){t.add(o);const a=TR(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function b1(t,e,n,r){const i=e._rootScopes,s=TR(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=zT(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=zT(a,o,s,l,r),l===null)?!1:x1(Array.from(a),[""],i,s,()=>SK(e,n,r))}function zT(t,e,n,r,i){for(;n;)n=bK(t,e,n,r,i);return n}function SK(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Je(i)&&Te(n)?n:i||{}}function CK(t,e,n,r){let i;for(const s of e)if(i=bR(_K(s,t),n),typeof i<"u")return T1(t,i)?b1(n,r,t,i):i}function bR(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function BT(t){let e=t._keys;return e||(e=t._keys=IK(t._scopes)),e}function IK(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function SR(){return typeof window<"u"&&typeof document<"u"}function S1(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function If(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const om=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function AK(t,e){return om(t).getPropertyValue(e)}const kK=["top","right","bottom","left"];function Fs(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=kK[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const PK=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function RK(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(PK(i,s,t.target))a=i,l=s;else{const u=e.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function ws(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=om(n),s=i.boxSizing==="border-box",o=Fs(i,"padding"),a=Fs(i,"border","width"),{x:l,y:u,box:c}=RK(t,n),h=o.left+(c&&a.left),d=o.top+(c&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((u-d)/p*n.height/r)}}function OK(t,e,n){let r,i;if(e===void 0||n===void 0){const s=S1(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=om(s),l=Fs(a,"border","width"),u=Fs(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,r=If(a.maxWidth,s,"clientWidth"),i=If(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Ef,maxHeight:i||Ef}}const kh=t=>Math.round(t*10)/10;function DK(t,e,n,r){const i=om(t),s=Fs(i,"margin"),o=If(i.maxWidth,t,"clientWidth")||Ef,a=If(i.maxHeight,t,"clientHeight")||Ef,l=OK(t,e,n);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const d=Fs(i,"border","width"),f=Fs(i,"padding");u-=f.width+d.width,c-=f.height+d.height}return u=Math.max(0,u-s.width),c=Math.max(0,r?u/r:c-s.height),u=kh(Math.min(u,o,l.maxWidth)),c=kh(Math.min(c,a,l.maxHeight)),u&&!c&&(c=kh(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&c>l.height&&(c=l.height,u=kh(Math.floor(c*r))),{width:u,height:c}}function WT(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const NK=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function HT(t,e){const n=AK(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const MK=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},LK=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ha(t,e,n){return t?MK(e,n):LK()}function CR(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function IR(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class FK{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=mR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Vr=new FK;const qT="transparent",VK={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=VT(t||qT),i=r.valid&&VT(e||qT);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class $K{constructor(e,n,r,i){const s=n[r];i=Ah([e.to,i,s,e.from]);const o=Ah([e.from,s,i]);this._active=!0,this._fn=e.fn||VK[e.type||typeof o],this._easing=ru[e.easing]||ru.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ah([e.to,n,i,e.from]),this._from=Ah([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class AR{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Te(e))return;const n=Object.keys(et.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Te(s))return;const o={};for(const a of n)o[a]=s[a];(Je(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=UK(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&jK(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const c=n[u];let h=s[u];const d=r.get(u);if(h)if(d&&h.active()){h.update(d,c,a);continue}else h.cancel();if(!d||!d.duration){e[u]=c;continue}s[u]=h=new $K(d,e,u,c),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Vr.add(this._chart,r),!0}}function jK(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function UK(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function GT(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function zK(t,e,n){if(n===!1)return!1;const r=GT(t,n),i=GT(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function BK(t){let e,n,r,i;return Te(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function kR(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function KT(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,u;if(e!==null){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(r.all)continue;break}u=t.values[l],Et(u)&&(s||e===0||xf(e)===xf(u))&&(e+=u)}return e}}function WK(t){const e=Object.keys(t),n=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],n[r]={x:s,y:t[s]};return n}function YT(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function HK(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function qK(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function GK(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function QT(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function XT(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,u=o.axis,c=HK(s,o,r),h=e.length;let d;for(let f=0;f<h;++f){const p=e[f],{[l]:m,[u]:y}=p,g=p._stacks||(p._stacks={});d=g[u]=GK(i,c,m),d[a]=y,d._top=QT(d,o,!0,r.type),d._bottom=QT(d,o,!1,r.type);const v=d._visualValues||(d._visualValues={});v[a]=y}}function Eg(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function KK(t,e){return bo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function YK(t,e,n){return bo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function hl(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const xg=t=>t==="reset"||t==="none",JT=(t,e)=>e?t:Object.assign({},t),QK=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:kR(n,!0),values:null};class su{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=YT(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&hl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,s=n.xAxisID=Se(r.xAxisID,Eg(e,"x")),o=n.yAxisID=Se(r.yAxisID,Eg(e,"y")),a=n.rAxisID=Se(r.rAxisID,Eg(e,"r")),l=n.indexAxis,u=n.iAxisID=i(l,s,o,a),c=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&MT(this._data,this),e._stacked&&hl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Te(n))this._data=WK(n);else if(r!==n){if(r){MT(r,this);const i=this._cachedMeta;hl(i),i._parsed=[]}n&&Object.isExtensible(n)&&QG(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=YT(n.vScale,n),n.stack!==r.stack&&(i=!0,hl(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&XT(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,u=e>0&&r._parsed[e-1],c,h,d;if(this._parsing===!1)r._parsed=i,r._sorted=!0,d=i;else{Je(i[e])?d=this.parseArrayData(r,i,e,n):Te(i[e])?d=this.parseObjectData(r,i,e,n):d=this.parsePrimitiveData(r,i,e,n);const f=()=>h[a]===null||u&&h[a]<u[a];for(c=0;c<n;++c)r._parsed[c+e]=h=d[c],l&&(f()&&(l=!1),u=h);r._sorted=l}o&&XT(this,d)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,u=s.getLabels(),c=s===o,h=new Array(i);let d,f,p;for(d=0,f=i;d<f;++d)p=d+r,h[d]={[a]:c||s.parse(u[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,u,c,h;for(l=0,u=i;l<u;++l)c=l+r,h=n[c],a[l]={x:s.parse(h[0],c),y:o.parse(h[1],c)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,h,d,f;for(c=0,h=i;c<h;++c)d=c+r,f=n[d],u[c]={x:s.parse(tc(f,a),d),y:o.parse(tc(f,l),d)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:kR(i,!0),values:n._stacks[e.axis]._visualValues};return KT(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=KT(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=QK(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=qK(a);let d,f;function p(){f=i[d];const m=f[a.axis];return!Et(f[e.axis])||c>m||h<m}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(u,e,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(u,e,f,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],Et(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=BK(Se(this.options.clip,zK(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,s,a,l),c=a;c<a+l;++c){const h=i[c];h.hidden||(h.active&&u?o.push(h):h.draw(e,s))}for(c=0;c<o.length;++c)o[c].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=YK(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=KK(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&wf(r);if(a)return JT(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),f=Object.keys(et.elements[e]),p=()=>this.getContext(r,i,n),m=u.resolveNamedOptions(d,f,p,h);return m.$shared&&(m.$shared=l,s[o]=Object.freeze(JT(m,l))),m}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const c=this.chart.config,h=c.datasetAnimationScopeKeys(this._type,n),d=c.getOptionScopes(this.getDataset(),h);l=c.createResolver(d,this.getContext(e,r,n))}const u=new AR(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||xg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){xg(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!xg(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&hl(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}se(su,"defaults",{}),se(su,"datasetElementType",null),se(su,"dataElementType",null);function XK(t,e,n){let r=1,i=1,s=0,o=0;if(e<Ze){const a=t,l=a+e,u=Math.cos(a),c=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(w,E,T)=>bf(w,a,l,!0)?1:Math.max(E,E*n,T,T*n),p=(w,E,T)=>bf(w,a,l,!0)?-1:Math.min(E,E*n,T,T*n),m=f(0,u,h),y=f(ot,c,d),g=p(ht,u,h),v=p(ht+ot,c,d);r=(m-g)/2,i=(y-v)/2,s=-(m+g)/2,o=-(y+v)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Dl extends su{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Te(r[e])){const{key:l="value"}=this._parsing;s=u=>+tc(r[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return yr(this.options.rotation-90)}_getCircumference(){return yr(this.options.circumference)}_getRotationExtents(){let e=Ze,n=-Ze;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(FG(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:m}=XK(h,c,l),y=(r.width-o)/d,g=(r.height-o)/f,v=Math.max(Math.min(y,g)/2,0),w=cR(this.options.radius,v),E=Math.max(w*l,0),T=(w-E)/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=m*w,i.total=this.calculateTotal(),this.outerRadius=w-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Ze)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,c=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&u.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(n,i);let g=this._getRotation(),v;for(v=0;v<n;++v)g+=this._circumference(v,s);for(v=n;v<n+r;++v){const w=this._circumference(v,s),E=e[v],T={x:c+this.offsetX,y:h+this.offsetY,startAngle:g,endAngle:g+w,circumference:w,outerRadius:p,innerRadius:f};y&&(T.options=m||this.resolveDataElementOptions(v,E.active?"active":i)),g+=w,this.updateElement(E,v,T,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ze*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=im(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Se(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}se(Dl,"id","doughnut"),se(Dl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),se(Dl,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),se(Dl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});function ds(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class C1{constructor(e){se(this,"options");this.options=e||{}}static override(e){Object.assign(C1.prototype,e)}init(){}formats(){return ds()}parse(){return ds()}format(){return ds()}add(){return ds()}diff(){return ds()}startOf(){return ds()}endOf(){return ds()}}var JK={_date:C1};function ZK(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?KG:_y;if(r){if(i._sharedOptions){const u=s[0],c=typeof u.getRange=="function"&&u.getRange(e);if(c){const h=l(s,e,n-c),d=l(s,e,n+c);return{lo:h.lo,hi:d.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Uc(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:u,data:c}=s[a],{lo:h,hi:d}=ZK(s[a],e,o,i);for(let f=h;f<=d;++f){const p=c[f];p.skip||r(p,u,f)}}}function eY(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Tg(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Uc(t,n,e,function(a,l,u){!i&&!Xo(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function tY(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],r),{angle:h}=fR(o,{x:e.x,y:e.y});bf(h,u,c)&&i.push({element:o,datasetIndex:a,index:l})}return Uc(t,n,e,s),i}function nY(t,e,n,r,i,s){let o=[];const a=eY(n);let l=Number.POSITIVE_INFINITY;function u(c,h,d){const f=c.inRange(e.x,e.y,i);if(r&&!f)return;const p=c.getCenterPoint(i);if(!(!!s||t.isPointInArea(p))&&!f)return;const y=a(e,p);y<l?(o=[{element:c,datasetIndex:h,index:d}],l=y):y===l&&o.push({element:c,datasetIndex:h,index:d})}return Uc(t,n,e,u),o}function bg(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?tY(t,e,n,i):nY(t,e,n,r,i,s)}function ZT(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Uc(t,n,e,(l,u,c)=>{l[o](e[n],i)&&(s.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var rY={evaluateInteractionItems:Uc,modes:{index(t,e,n,r){const i=ws(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Tg(t,i,s,r,o):bg(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,h=u.data[c];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,n,r){const i=ws(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Tg(t,i,s,r,o):bg(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(t,e,n,r){const i=ws(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Tg(t,i,s,r,o)},nearest(t,e,n,r){const i=ws(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return bg(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=ws(e,t);return ZT(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=ws(e,t);return ZT(t,i,"y",n.intersect,r)}}};const PR=["left","top","right","bottom"];function dl(t,e){return t.filter(n=>n.pos===e)}function eb(t,e){return t.filter(n=>PR.indexOf(n.pos)===-1&&n.box.axis===e)}function fl(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function iY(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function sY(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!PR.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function oY(t,e){const n=sY(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=c?c*i:l&&e.availableHeight)}return n}function aY(t){const e=iY(t),n=fl(e.filter(u=>u.box.fullSize),!0),r=fl(dl(e,"left"),!0),i=fl(dl(e,"right")),s=fl(dl(e,"top"),!0),o=fl(dl(e,"bottom")),a=eb(e,"x"),l=eb(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:dl(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function tb(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function RR(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function lY(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Te(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[i]+=n.size}s.getPadding&&RR(o,s.getPadding());const a=Math.max(0,e.outerWidth-tb(o,t,"left","right")),l=Math.max(0,e.outerHeight-tb(o,t,"top","bottom")),u=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function uY(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function cY(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Nl(t,e,n,r){const i=[];let s,o,a,l,u,c;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,cY(a.horizontal,e));const{same:h,other:d}=lY(e,n,a,r);u|=h&&i.length,c=c||d,l.fullSize||i.push(a)}return u&&Nl(i,e,n,r)||c}function Ph(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function nb(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,u=r[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const h=e.w*c,d=u.size||l.height;wf(u.start)&&(o=u.start),l.fullSize?Ph(l,i.left,o,n.outerWidth-i.right-i.left,d):Ph(l,e.left+u.placed,o,h,d),u.start=o,u.placed+=h,o=l.bottom}else{const h=e.h*c,d=u.size||l.width;wf(u.start)&&(s=u.start),l.fullSize?Ph(l,s,i.top,d,n.outerHeight-i.bottom-i.top):Ph(l,s,e.top+u.placed,d,h),u.start=s,u.placed+=h,s=l.right}}e.x=s,e.y=o}var Ai={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=tn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=aY(t.boxes),l=a.vertical,u=a.horizontal;Ae(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const c=l.reduce((m,y)=>y.box.options&&y.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),d=Object.assign({},i);RR(d,tn(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),p=oY(l.concat(u),h);Nl(a.fullSize,f,h,p),Nl(l,f,h,p),Nl(u,f,h,p)&&Nl(l,f,h,p),uY(f),nb(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,nb(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Ae(a.chartArea,m=>{const y=m.box;Object.assign(y,t.chartArea),y.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class OR{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class hY extends OR{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const cd="$chartjs",dY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},rb=t=>t===null||t==="";function fY(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[cd]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",rb(i)){const s=HT(t,"width");s!==void 0&&(t.width=s)}if(rb(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=HT(t,"height");s!==void 0&&(t.height=s)}return t}const DR=NK?{passive:!0}:!1;function pY(t,e,n){t.addEventListener(e,n,DR)}function mY(t,e,n){t.canvas.removeEventListener(e,n,DR)}function gY(t,e){const n=dY[t.type]||t.type,{x:r,y:i}=ws(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Af(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function yY(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Af(a.addedNodes,r),o=o&&!Af(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function vY(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Af(a.removedNodes,r),o=o&&!Af(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const nc=new Map;let ib=0;function NR(){const t=window.devicePixelRatio;t!==ib&&(ib=t,nc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function _Y(t,e){nc.size||window.addEventListener("resize",NR),nc.set(t,e)}function wY(t){nc.delete(t),nc.size||window.removeEventListener("resize",NR)}function EY(t,e,n){const r=t.canvas,i=r&&S1(r);if(!i)return;const s=gR((a,l)=>{const u=i.clientWidth;n(a,l),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(i),_Y(t,s),o}function Sg(t,e,n){n&&n.disconnect(),e==="resize"&&wY(t)}function xY(t,e,n){const r=t.canvas,i=gR(s=>{t.ctx!==null&&n(gY(s,t))},t);return pY(r,e,i),i}class TY extends OR{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(fY(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[cd])return!1;const r=n[cd].initial;["height","width"].forEach(s=>{const o=r[s];Ge(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[cd],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:yY,detach:vY,resize:EY}[n]||xY;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:Sg,detach:Sg,resize:Sg}[n]||mY)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return DK(e,n,r,i)}isAttached(e){const n=S1(e);return!!(n&&n.isConnected)}}function bY(t){return!SR()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?hY:TY}var Vh;let zc=(Vh=class{constructor(){se(this,"x");se(this,"y");se(this,"active",!1);se(this,"options");se(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Tf(this.x)&&Tf(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},se(Vh,"defaults",{}),se(Vh,"defaultRoutes"),Vh);function SY(t,e){const n=t.options.ticks,r=CY(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?AY(e):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>i)return kY(e,u,s,o/i),u;const c=IY(s,e,i);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Rh(e,u,c,Ge(f)?0:a-f,a),h=0,d=o-1;h<d;h++)Rh(e,u,c,s[h],s[h+1]);return Rh(e,u,c,l,Ge(f)?e.length:l+f),u}return Rh(e,u,c),u}function CY(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function IY(t,e,n){const r=PY(t),i=e.length/n;if(!r)return Math.max(i,1);const s=WG(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function AY(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function kY(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function Rh(t,e,n,r,i){const s=Se(r,0),o=Math.min(Se(i,t.length),t.length);let a=0,l,u,c;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),c=s;c<0;)a++,c=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===c&&(e.push(t[u]),a++,c=Math.round(s+a*n))}function PY(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const RY=t=>t==="left"?"right":t==="right"?"left":t,sb=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,ob=(t,e)=>Math.min(e||t,t);function ab(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function OY(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(l-s,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-a||l>o+a)))return l}function DY(t,e){Ae(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function pl(t){return t.drawTicks?t.tickLength:0}function lb(t,e){if(!t.display)return 0;const n=Ot(t.font,e),r=tn(t.padding);return(Je(t.text)?t.text.length:1)*n.lineHeight+r.height}function NY(t,e){return bo(t,{scale:e,type:"scale"})}function MY(t,e,n){return bo(t,{tick:n,index:e,type:"tick"})}function LY(t,e,n){let r=yR(t);return(n&&e!=="right"||!n&&e==="right")&&(r=RY(r)),r}function FY(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:c}=l;let h=0,d,f,p;const m=o-i,y=a-s;if(t.isHorizontal()){if(f=gn(r,s,a),Te(n)){const g=Object.keys(n)[0],v=n[g];p=c[g].getPixelForValue(v)+m-e}else n==="center"?p=(u.bottom+u.top)/2+m-e:p=sb(t,n,e);d=a-s}else{if(Te(n)){const g=Object.keys(n)[0],v=n[g];f=c[g].getPixelForValue(v)-y+e}else n==="center"?f=(u.left+u.right)/2-y+e:f=sb(t,n,e);p=gn(r,o,i),h=n==="left"?-ot:ot}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class Ka extends zc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=yn(e,Number.POSITIVE_INFINITY),n=yn(n,Number.NEGATIVE_INFINITY),r=yn(r,Number.POSITIVE_INFINITY),i=yn(i,Number.NEGATIVE_INFINITY),{min:yn(e,r),max:yn(n,i),minDefined:Et(e),maxDefined:Et(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:yn(n,yn(r,n)),max:yn(r,yn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Me(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=vK(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?ab(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=SY(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Me(this.options.afterUpdate,[this])}beforeSetDimensions(){Me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Me(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Me(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Me(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=ob(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,u;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),h=c.widest.width,d=c.highest.height,f=$n(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),h+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-pl(e.grid)-n.padding-lb(e.title,this.chart.options.font),u=Math.sqrt(h*h+d*d),o=y1(Math.min(Math.asin($n((c.highest.height+6)/a,-1,1)),Math.asin($n(l/u,-1,1))-Math.asin($n(d/u,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Me(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=lb(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=pl(s)+l):(e.height=this.maxHeight,e.width=pl(s)+l),r.display&&this.ticks.length){const{first:u,last:c,widest:h,highest:d}=this._getLabelSizes(),f=r.padding*2,p=yr(this.labelRotation),m=Math.cos(p),y=Math.sin(p);if(a){const g=r.mirror?0:y*h.width+m*d.height;e.height=Math.min(this.maxHeight,e.height+g+f)}else{const g=r.mirror?0:m*h.width+y*d.height;e.width=Math.min(this.maxWidth,e.width+g+f)}this._calculatePadding(u,c,y,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?u?(d=i*e.width,f=r*n.height):(d=r*e.height,f=i*n.width):s==="start"?f=n.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let c=n.height/2,h=e.height/2;s==="start"?(c=0,h=e.height):s==="end"&&(c=n.height,h=0),this.paddingTop=c+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Me(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Ge(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=ab(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/ob(n,r));let u=0,c=0,h,d,f,p,m,y,g,v,w,E,T;for(h=0;h<n;h+=l){if(p=e[h].label,m=this._resolveTickFontOptions(h),i.font=y=m.string,g=s[y]=s[y]||{data:{},gc:[]},v=m.lineHeight,w=E=0,!Ge(p)&&!Je(p))w=Sf(i,g.data,g.gc,w,p),E=v;else if(Je(p))for(d=0,f=p.length;d<f;++d)T=p[d],!Ge(T)&&!Je(T)&&(w=Sf(i,g.data,g.gc,w,T),E+=v);o.push(w),a.push(E),u=Math.max(w,u),c=Math.max(E,c)}DY(s,n);const b=o.indexOf(u),S=a.indexOf(c),C=R=>({width:o[R]||0,height:a[R]||0});return{first:C(0),last:C(n-1),widest:C(b),highest:C(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return GG(this._alignToPixels?hs(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=MY(this.getContext(),e,r))}return this.$context||(this.$context=NY(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=yr(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=pl(s),f=[],p=a.setContext(this.getContext()),m=p.display?p.width:0,y=m/2,g=function(te){return hs(r,te,m)};let v,w,E,T,b,S,C,R,P,N,$,Z;if(o==="top")v=g(this.bottom),S=this.bottom-d,R=v-y,N=g(e.top)+y,Z=e.bottom;else if(o==="bottom")v=g(this.top),N=e.top,Z=g(e.bottom)-y,S=v+y,R=this.top+d;else if(o==="left")v=g(this.right),b=this.right-d,C=v-y,P=g(e.left)+y,$=e.right;else if(o==="right")v=g(this.left),P=e.left,$=g(e.right)-y,b=v+y,C=this.left+d;else if(n==="x"){if(o==="center")v=g((e.top+e.bottom)/2+.5);else if(Te(o)){const te=Object.keys(o)[0],L=o[te];v=g(this.chart.scales[te].getPixelForValue(L))}N=e.top,Z=e.bottom,S=v+y,R=S+d}else if(n==="y"){if(o==="center")v=g((e.left+e.right)/2);else if(Te(o)){const te=Object.keys(o)[0],L=o[te];v=g(this.chart.scales[te].getPixelForValue(L))}b=v-y,C=b-d,P=e.left,$=e.right}const re=Se(i.ticks.maxTicksLimit,h),G=Math.max(1,Math.ceil(h/re));for(w=0;w<h;w+=G){const te=this.getContext(w),L=s.setContext(te),k=a.setContext(te),U=L.lineWidth,X=L.color,ue=k.dash||[],V=k.dashOffset,B=L.tickWidth,Y=L.tickColor,ie=L.tickBorderDash||[],I=L.tickBorderDashOffset;E=OY(this,w,l),E!==void 0&&(T=hs(r,E,U),u?b=C=P=$=T:S=R=N=Z=T,f.push({tx1:b,ty1:S,tx2:C,ty2:R,x1:P,y1:N,x2:$,y2:Z,width:U,color:X,borderDash:ue,borderDashOffset:V,tickWidth:B,tickColor:Y,tickBorderDash:ie,tickBorderDashOffset:I}))}return this._ticksLength=h,this._borderValue=v,f}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:h}=s,d=pl(r.grid),f=d+c,p=h?-c:f,m=-yr(this.labelRotation),y=[];let g,v,w,E,T,b,S,C,R,P,N,$,Z="middle";if(i==="top")b=this.bottom-p,S=this._getXAxisLabelAlignment();else if(i==="bottom")b=this.top+p,S=this._getXAxisLabelAlignment();else if(i==="left"){const G=this._getYAxisLabelAlignment(d);S=G.textAlign,T=G.x}else if(i==="right"){const G=this._getYAxisLabelAlignment(d);S=G.textAlign,T=G.x}else if(n==="x"){if(i==="center")b=(e.top+e.bottom)/2+f;else if(Te(i)){const G=Object.keys(i)[0],te=i[G];b=this.chart.scales[G].getPixelForValue(te)+f}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")T=(e.left+e.right)/2-f;else if(Te(i)){const G=Object.keys(i)[0],te=i[G];T=this.chart.scales[G].getPixelForValue(te)}S=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?Z="top":l==="end"&&(Z="bottom"));const re=this._getLabelSizes();for(g=0,v=a.length;g<v;++g){w=a[g],E=w.label;const G=s.setContext(this.getContext(g));C=this.getPixelForTick(g)+s.labelOffset,R=this._resolveTickFontOptions(g),P=R.lineHeight,N=Je(E)?E.length:1;const te=N/2,L=G.color,k=G.textStrokeColor,U=G.textStrokeWidth;let X=S;o?(T=C,S==="inner"&&(g===v-1?X=this.options.reverse?"left":"right":g===0?X=this.options.reverse?"right":"left":X="center"),i==="top"?u==="near"||m!==0?$=-N*P+P/2:u==="center"?$=-re.highest.height/2-te*P+P:$=-re.highest.height+P/2:u==="near"||m!==0?$=P/2:u==="center"?$=re.highest.height/2-te*P:$=re.highest.height-N*P,h&&($*=-1),m!==0&&!G.showLabelBackdrop&&(T+=P/2*Math.sin(m))):(b=C,$=(1-N)*P/2);let ue;if(G.showLabelBackdrop){const V=tn(G.backdropPadding),B=re.heights[g],Y=re.widths[g];let ie=$-V.top,I=0-V.left;switch(Z){case"middle":ie-=B/2;break;case"bottom":ie-=B;break}switch(S){case"center":I-=Y/2;break;case"right":I-=Y;break}ue={left:I,top:ie,width:Y+V.width,height:B+V.height,color:G.backdropColor}}y.push({label:E,font:R,textOffset:$,options:{rotation:m,color:L,strokeColor:k,strokeWidth:U,textAlign:X,textBaseline:Z,translation:[T,b],backdrop:ue}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-yr(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let u,c;return n==="left"?i?(c=this.right+s,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?i?(c=this.left+s,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,u,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,h,d;this.isHorizontal()?(u=hs(e,this.left,o)-o/2,c=hs(e,this.right,a)+a/2,h=d=l):(h=hs(e,this.top,o)-o/2,d=hs(e,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,h),n.lineTo(c,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&_1(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,u=o.label,c=o.textOffset;Ra(r,u,0,c,l,a)}i&&w1(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Ot(r.font),o=tn(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Te(n)?(l+=o.bottom,Je(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:h,rotation:d}=FY(this,l,n,a);Ra(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:d,textAlign:LY(a,n,i),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Se(e.grid&&e.grid.z,-1),i=Se(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ka.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ot(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Oh{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;jY(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,VY(e,o,r),this.override&&et.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in et[i]&&(delete et[i][r],this.override&&delete no[r])}}function VY(t,e,n){const r=ec(Object.create(null),[n?et.get(n):{},et.get(e),t.defaults]);et.set(e,r),t.defaultRoutes&&$Y(e,t.defaultRoutes),t.descriptors&&et.describe(e,t.descriptors)}function $Y(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");et.route(s,i,l,a)})}function jY(t){return"id"in t&&"defaults"in t}class UY{constructor(){this.controllers=new Oh(su,"datasets",!0),this.elements=new Oh(zc,"elements"),this.plugins=new Oh(Object,"plugins"),this.scales=new Oh(Ka,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Ae(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=g1(e);Me(r["before"+i],[],r),n[e](r),Me(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var or=new UY;class zY{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Me(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Se(r.options&&r.options.plugins,{}),s=BY(r);return i===!1&&!n?[]:HY(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function BY(t){const e={},n=[],r=Object.keys(or.plugins.items);for(let s=0;s<r.length;s++)n.push(or.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function WY(t,e){return!e&&t===!1?null:t===!0?{}:t}function HY(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,u=WY(r[l],i);u!==null&&s.push({plugin:a,options:qY(t.config,{plugin:a,local:n[l]},u,o)})}return s}function qY(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ey(t,e){const n=et.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function GY(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function KY(t,e){return t===e?"_index_":"_value_"}function ub(t){if(t==="x"||t==="y"||t==="r")return t}function YY(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function xy(t,...e){if(ub(t))return t;for(const n of e){const r=n.axis||YY(n.position)||t.length>1&&ub(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function cb(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function QY(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return cb(t,"x",n[0])||cb(t,"y",n[0])}return{}}function XY(t,e){const n=no[t.type]||{scales:{}},r=e.scales||{},i=Ey(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Te(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=xy(o,a,QY(o,t),et.scales[a.type]),u=KY(l,i),c=n.scales||{};s[o]=nu(Object.create(null),[{axis:l},a,c[l],c[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Ey(a,e),c=(no[a]||{}).scales||{};Object.keys(c).forEach(h=>{const d=GY(h,l),f=o[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),nu(s[f],[{axis:d},r[f],c[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];nu(a,[et.scales[a.type],et.scale])}),s}function MR(t){const e=t.options||(t.options={});e.plugins=Se(e.plugins,{}),e.scales=XY(t,e)}function LR(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function JY(t){return t=t||{},t.data=LR(t.data),MR(t),t}const hb=new Map,FR=new Set;function Dh(t,e){let n=hb.get(t);return n||(n=e(),hb.set(t,n),FR.add(n)),n}const ml=(t,e,n)=>{const r=tc(e,n);r!==void 0&&t.add(r)};class ZY{constructor(e){this._config=JY(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=LR(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),MR(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Dh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Dh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Dh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Dh(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{e&&(l.add(e),c.forEach(h=>ml(l,e,h))),c.forEach(h=>ml(l,i,h)),c.forEach(h=>ml(l,no[s]||{},h)),c.forEach(h=>ml(l,et,h)),c.forEach(h=>ml(l,wy,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),FR.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,no[n]||{},et.datasets[n]||{},{type:n},et,wy]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=db(this._resolverCache,e,i);let l=o;if(tQ(o,n)){s.$shared=!1,r=ts(r)?r():r;const u=this.createResolver(e,r,a);l=Oa(o,r,u)}for(const u of n)s[u]=l[u];return s}createResolver(e,n,r=[""],i){const{resolver:s}=db(this._resolverCache,e,r);return Te(n)?Oa(s,n,void 0,i):s}}function db(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:x1(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const eQ=t=>Te(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||ts(t[n]),!1);function tQ(t,e){const{isScriptable:n,isIndexable:r}=ER(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(ts(a)||eQ(a))||o&&Je(a))return!0}return!1}var nQ="4.4.0";const rQ=["top","bottom","left","right","chartArea"];function fb(t,e){return t==="top"||t==="bottom"||rQ.indexOf(t)===-1&&e==="x"}function pb(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function mb(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Me(n&&n.onComplete,[t],e)}function iQ(t){const e=t.chart,n=e.options.animation;Me(n&&n.onProgress,[t],e)}function VR(t){return SR()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const hd={},gb=t=>{const e=VR(t);return Object.values(hd).filter(n=>n.canvas===e).pop()};function sQ(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function oQ(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function Nh(t,e,n){return t.options.clip?t[n]:e[n]}function aQ(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Nh(n,e,"left"),right:Nh(n,e,"right"),top:Nh(r,e,"top"),bottom:Nh(r,e,"bottom")}:e}var ui;let am=(ui=class{static register(...e){or.add(...e),yb()}static unregister(...e){or.remove(...e),yb()}constructor(e,n){const r=this.config=new ZY(n),i=VR(e),s=gb(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||bY(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=LG(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zY,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=JG(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],hd[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Vr.listen(this,"complete",mb),Vr.listen(this,"progress",iQ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Ge(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return or}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():WT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jT(this.canvas,this.ctx),this}stop(){return Vr.stop(this),this}resize(e,n){Vr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,WT(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Me(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ae(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=xy(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),Ae(s,o=>{const a=o.options,l=a.id,u=xy(l,a),c=Se(a.type,o.dtype);(a.position===void 0||fb(a.position,u)!==fb(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===c)h=r[l];else{const d=or.getScale(c);h=new d({id:l,type:c,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),Ae(i,(o,a)=>{o||delete r[a]}),Ae(r,o=>{Ai.configure(this,o,o.options),Ai.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(pb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Ey(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=or.getController(a),{datasetElementType:u,dataElementType:c}=et.datasets[a];Object.assign(l,{dataElementType:or.getElement(c),datasetElementType:u&&or.getElement(u)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ae(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:h}=this.getDatasetMeta(u),d=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Ae(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(pb("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ae(this.scales,e=>{Ai.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!RT(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;sQ(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!RT(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ai.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Ae(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ts(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vr.has(this)?this.attached&&!Vr.running(this)&&Vr.start(this):(this.draw(),mb({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=aQ(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&_1(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&w1(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Xo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=rY.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=bo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);wf(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Vr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),jT(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete hd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Ae(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ae(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ae(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!vf(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(h=>c.datasetIndex===h.datasetIndex&&c.index===h.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=zG(e),u=oQ(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Me(s.onHover,[e,a,this],this),l&&Me(s.onClick,[e,a,this],this));const c=!vf(a,i);return(c||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,c}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},se(ui,"defaults",et),se(ui,"instances",hd),se(ui,"overrides",no),se(ui,"registry",or),se(ui,"version",nQ),se(ui,"getChart",gb),ui);function yb(){return Ae(am.instances,t=>t._plugins.invalidate())}function lQ(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let u=i/a;t.beginPath(),t.arc(s,o,a,r-u,n+u),l>i?(u=i/l,t.arc(s,o,l,n+u,r-u,!0)):t.arc(s,o,i,n+ot,r-ot),t.closePath(),t.clip()}function uQ(t){return E1(t,["outerStart","outerEnd","innerStart","innerEnd"])}function cQ(t,e,n,r){const i=uQ(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const u=(n-Math.min(s,l))*r/2;return $n(l,0,Math.min(s,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:$n(i.innerStart,0,o),innerEnd:$n(i.innerEnd,0,o)}}function Oo(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function kf(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=e,h=Math.max(e.outerRadius+r+n-u,0),d=c>0?c+r+n+u:0;let f=0;const p=i-l;if(r){const G=c>0?c-r:0,te=h>0?h-r:0,L=(G+te)/2,k=L!==0?p*L/(L+r):p;f=(p-k)/2}const m=Math.max(.001,p*h-n/ht)/h,y=(p-m)/2,g=l+y+f,v=i-y-f,{outerStart:w,outerEnd:E,innerStart:T,innerEnd:b}=cQ(e,d,h,v-g),S=h-w,C=h-E,R=g+w/S,P=v-E/C,N=d+T,$=d+b,Z=g+T/N,re=v-b/$;if(t.beginPath(),s){const G=(R+P)/2;if(t.arc(o,a,h,R,G),t.arc(o,a,h,G,P),E>0){const U=Oo(C,P,o,a);t.arc(U.x,U.y,E,P,v+ot)}const te=Oo($,v,o,a);if(t.lineTo(te.x,te.y),b>0){const U=Oo($,re,o,a);t.arc(U.x,U.y,b,v+ot,re+Math.PI)}const L=(v-b/d+(g+T/d))/2;if(t.arc(o,a,d,v-b/d,L,!0),t.arc(o,a,d,L,g+T/d,!0),T>0){const U=Oo(N,Z,o,a);t.arc(U.x,U.y,T,Z+Math.PI,g-ot)}const k=Oo(S,g,o,a);if(t.lineTo(k.x,k.y),w>0){const U=Oo(S,R,o,a);t.arc(U.x,U.y,w,g-ot,R)}}else{t.moveTo(o,a);const G=Math.cos(R)*h+o,te=Math.sin(R)*h+a;t.lineTo(G,te);const L=Math.cos(P)*h+o,k=Math.sin(P)*h+a;t.lineTo(L,k)}t.closePath()}function hQ(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){kf(t,e,n,r,l,i);for(let u=0;u<s;++u)t.fill();isNaN(a)||(l=o+(a%Ze||Ze))}return kf(t,e,n,r,l,i),t.fill(),l}function dQ(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:c,borderDash:h,borderDashOffset:d}=l,f=l.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=d,f?(t.lineWidth=u*2,t.lineJoin=c||"round"):(t.lineWidth=u,t.lineJoin=c||"bevel");let p=e.endAngle;if(s){kf(t,e,n,r,p,i);for(let m=0;m<s;++m)t.stroke();isNaN(a)||(p=o+(a%Ze||Ze))}f&&lQ(t,e,p),s||(kf(t,e,n,r,p,i),t.stroke())}class Ml extends zc{constructor(n){super();se(this,"circumference");se(this,"endAngle");se(this,"fullCircles");se(this,"innerRadius");se(this,"outerRadius");se(this,"pixelMargin");se(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=fR(s,{x:n,y:r}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,m=Se(d,u-l)>=Ze||bf(o,l,u),y=Ol(a,c+f,h+f);return m&&y}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:c}=this.options,h=(s+o)/2,d=(a+l+c+u)/2;return{x:r+Math.cos(h)*d,y:i+Math.sin(h)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Ze?Math.floor(i/Ze):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(ht,i||0)),c=s*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,hQ(n,this,c,o,a),dQ(n,this,c,o,a),n.restore()}}se(Ml,"id","arc"),se(Ml,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),se(Ml,"defaultRoutes",{backgroundColor:"backgroundColor"}),se(Ml,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});const vb=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},fQ=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class _b extends zc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Me(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Ot(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=vb(r,s);let u,c;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,i,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-c;return this.legendItems.forEach((p,m)=>{const y=r+n/2+s.measureText(p.text).width;(m===0||u[u.length-1]+y+2*a>o)&&(h+=c,u[u.length-(m>0?0:1)]=0,f+=c,d++),l[m]={left:0,top:f,row:d,width:y,height:i},u[u.length-1]+=y+a}),h}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e;let h=a,d=0,f=0,p=0,m=0;return this.legendItems.forEach((y,g)=>{const{itemWidth:v,itemHeight:w}=pQ(r,n,s,y,i);g>0&&f+w+2*a>c&&(h+=d+a,u.push({width:d,height:f}),p+=d+a,m++,d=f=0),l[g]={left:p,top:f,col:m,width:v,height:w},d=Math.max(d,v),f+=w+a}),h+=d,u.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=ha(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=gn(r,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=gn(r,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let a=0,l=gn(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=gn(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;_1(e,this),this._draw(),w1(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=et.color,l=ha(e.rtl,this.left,this.width),u=Ot(o.font),{padding:c}=o,h=u.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:p,boxHeight:m,itemHeight:y}=vb(o,h),g=function(b,S,C){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;i.save();const R=Se(C.lineWidth,1);if(i.fillStyle=Se(C.fillStyle,a),i.lineCap=Se(C.lineCap,"butt"),i.lineDashOffset=Se(C.lineDashOffset,0),i.lineJoin=Se(C.lineJoin,"miter"),i.lineWidth=R,i.strokeStyle=Se(C.strokeStyle,a),i.setLineDash(Se(C.lineDash,[])),o.usePointStyle){const P={radius:m*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:R},N=l.xPlus(b,p/2),$=S+d;wR(i,P,N,$,o.pointStyleWidth&&p)}else{const P=S+Math.max((h-m)/2,0),N=l.leftForLtr(b,p),$=ca(C.borderRadius);i.beginPath(),Object.values($).some(Z=>Z!==0)?Cf(i,{x:N,y:P,w:p,h:m,radius:$}):i.rect(N,P,p,m),i.fill(),R!==0&&i.stroke()}i.restore()},v=function(b,S,C){Ra(i,C.text,b,S+y/2,u,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},w=this.isHorizontal(),E=this._computeTitleHeight();w?f={x:gn(s,this.left+c,this.right-r[0]),y:this.top+c+E,line:0}:f={x:this.left+c,y:gn(s,this.top+E+c,this.bottom-n[0].height),line:0},CR(this.ctx,e.textDirection);const T=y+c;this.legendItems.forEach((b,S)=>{i.strokeStyle=b.fontColor,i.fillStyle=b.fontColor;const C=i.measureText(b.text).width,R=l.textAlign(b.textAlign||(b.textAlign=o.textAlign)),P=p+d+C;let N=f.x,$=f.y;l.setWidth(this.width),w?S>0&&N+P+c>this.right&&($=f.y+=T,f.line++,N=f.x=gn(s,this.left+c,this.right-r[f.line])):S>0&&$+T>this.bottom&&(N=f.x=N+n[f.line].width+c,f.line++,$=f.y=gn(s,this.top+E+c,this.bottom-n[f.line].height));const Z=l.x(N);if(g(Z,$,b),N=ZG(R,N+p+d,w?N+P:this.right,e.rtl),v(l.x(N),$,b),w)f.x+=P+c;else if(typeof b.text!="string"){const re=u.lineHeight;f.y+=$R(b,re)+c}else f.y+=T}),IR(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Ot(n.font),i=tn(n.padding);if(!n.display)return;const s=ha(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=i.top+l;let c,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+u,h=gn(e.align,h,this.right-d);else{const p=this.columnSizes.reduce((m,y)=>Math.max(m,y.height),0);c=u+gn(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=gn(a,h,h+d);o.textAlign=s.textAlign(yR(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ra(o,n.text,f,c,r)}_computeTitleHeight(){const e=this.options.title,n=Ot(e.font),r=tn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Ol(e,this.left,this.right)&&Ol(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Ol(e,i.left,i.left+i.width)&&Ol(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!yQ(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=fQ(i,r);i&&!s&&Me(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Me(n.onHover,[e,r,this],this)}else r&&Me(n.onClick,[e,r,this],this)}}function pQ(t,e,n,r,i){const s=mQ(r,t,e,n),o=gQ(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function mQ(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function gQ(t,e,n){let r=t;return typeof e.text!="string"&&(r=$R(e,n)),r}function $R(t,e){const n=t.text?t.text.length:0;return e*n}function yQ(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var vQ={id:"legend",_element:_b,start(t,e,n){const r=t.legend=new _b({ctx:t.ctx,options:n,chart:t});Ai.configure(t,r,n),Ai.addBox(t,r)},stop(t){Ai.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Ai.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=tn(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Ll={average(t){if(!t.length)return!1;let e,n,r=0,i=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();r+=a.x,i+=a.y,++s}}return{x:r/s,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=qG(e,u);c<i&&(i=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function ir(t,e){return e&&(Je(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function $r(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function _Q(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function wb(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Ot(e.bodyFont),u=Ot(e.titleFont),c=Ot(e.footerFont),h=s.length,d=i.length,f=r.length,p=tn(e.padding);let m=p.height,y=0,g=r.reduce((E,T)=>E+T.before.length+T.lines.length+T.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const E=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=f*E+(g-f)*l.lineHeight+(g-1)*e.bodySpacing}d&&(m+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let v=0;const w=function(E){y=Math.max(y,n.measureText(E).width+v)};return n.save(),n.font=u.string,Ae(t.title,w),n.font=l.string,Ae(t.beforeBody.concat(t.afterBody),w),v=e.displayColors?o+2+e.boxPadding:0,Ae(r,E=>{Ae(E.before,w),Ae(E.lines,w),Ae(E.after,w)}),v=0,n.font=c.string,Ae(t.footer,w),n.restore(),y+=p.width,{width:y,height:m}}function wQ(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function EQ(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function xQ(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return r==="center"?u=i<=(a+l)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),EQ(u,t,e,n)&&(u="center"),u}function Eb(t,e,n){const r=n.yAlign||e.yAlign||wQ(t,n);return{xAlign:n.xAlign||e.xAlign||xQ(t,e,n,r),yAlign:r}}function TQ(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function bQ(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function xb(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=i+s,{topLeft:c,topRight:h,bottomLeft:d,bottomRight:f}=ca(o);let p=TQ(e,a);const m=bQ(e,l,u);return l==="center"?a==="left"?p+=u:a==="right"&&(p-=u):a==="left"?p-=Math.max(c,d)+i:a==="right"&&(p+=Math.max(h,f)+i),{x:$n(p,0,r.width-e.width),y:$n(m,0,r.height-e.height)}}function Mh(t,e,n){const r=tn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Tb(t){return ir([],$r(t))}function SQ(t,e,n){return bo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function bb(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const jR={beforeTitle:Fr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Fr,beforeBody:Fr,beforeLabel:Fr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ge(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Fr,afterBody:Fr,beforeFooter:Fr,footer:Fr,afterFooter:Fr};function on(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?jR[e].call(n,r):i}class Ty extends zc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new AR(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=SQ(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=on(r,"beforeTitle",this,e),s=on(r,"title",this,e),o=on(r,"afterTitle",this,e);let a=[];return a=ir(a,$r(i)),a=ir(a,$r(s)),a=ir(a,$r(o)),a}getBeforeBody(e,n){return Tb(on(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Ae(e,s=>{const o={before:[],lines:[],after:[]},a=bb(r,s);ir(o.before,$r(on(a,"beforeLabel",this,s))),ir(o.lines,on(a,"label",this,s)),ir(o.after,$r(on(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return Tb(on(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=on(r,"beforeFooter",this,e),s=on(r,"footer",this,e),o=on(r,"afterFooter",this,e);let a=[];return a=ir(a,$r(i)),a=ir(a,$r(s)),a=ir(a,$r(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(_Q(this.chart,n[l]));return e.filter&&(a=a.filter((c,h,d)=>e.filter(c,h,d,r))),e.itemSort&&(a=a.sort((c,h)=>e.itemSort(c,h,r))),Ae(a,c=>{const h=bb(e.callbacks,c);i.push(on(h,"labelColor",this,c)),s.push(on(h,"labelPointStyle",this,c)),o.push(on(h,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Ll[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=wb(this,r),u=Object.assign({},a,l),c=Eb(this.chart,r,u),h=xb(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:h}=ca(a),{x:d,y:f}=e,{width:p,height:m}=n;let y,g,v,w,E,T;return s==="center"?(E=f+m/2,i==="left"?(y=d,g=y-o,w=E+o,T=E-o):(y=d+p,g=y+o,w=E-o,T=E+o),v=y):(i==="left"?g=d+Math.max(l,c)+o:i==="right"?g=d+p-Math.max(u,h)-o:g=this.caretX,s==="top"?(w=f,E=w-o,y=g-o,v=g+o):(w=f+m,E=w+o,y=g+o,v=g-o),T=w),{x1:y,x2:g,x3:v,y1:w,y2:E,y3:T}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const u=ha(r.rtl,this.x,this.width);for(e.x=Mh(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=Ot(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=s,c=Ot(s.bodyFont),h=Mh(this,"left",s),d=i.x(h),f=l<c.lineHeight?(c.lineHeight-l)/2:0,p=n.y+f;if(s.usePointStyle){const m={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(d,u)+u/2,g=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,UT(e,m,y,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,UT(e,m,y,g)}else{e.lineWidth=Te(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(d,u),y=i.leftForLtr(i.xPlus(d,1),u-2),g=ca(o.borderRadius);Object.values(g).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Cf(e,{x:m,y:p,w:u,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Cf(e,{x:y,y:p+1,w:u-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,p,u,l),e.strokeRect(m,p,u,l),e.fillStyle=o.backgroundColor,e.fillRect(y,p+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=r,h=Ot(r.bodyFont);let d=h.lineHeight,f=0;const p=ha(r.rtl,this.x,this.width),m=function(C){n.fillText(C,p.x(e.x+f),e.y+d/2),e.y+=d+s},y=p.textAlign(o);let g,v,w,E,T,b,S;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Mh(this,y,r),n.fillStyle=r.bodyColor,Ae(this.beforeBody,m),f=a&&y!=="right"?o==="center"?u/2+c:u+2+c:0,E=0,b=i.length;E<b;++E){for(g=i[E],v=this.labelTextColors[E],n.fillStyle=v,Ae(g.before,m),w=g.lines,a&&w.length&&(this._drawColorBox(n,e,E,p,r),d=Math.max(h.lineHeight,l)),T=0,S=w.length;T<S;++T)m(w[T]),d=h.lineHeight;Ae(g.after,m)}f=0,d=h.lineHeight,Ae(this.afterBody,m),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=ha(r.rtl,this.x,this.width);for(e.x=Mh(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Ot(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:c}=r,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=ca(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+u-d,l),n.quadraticCurveTo(a+u,l,a+u,l+d),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+u,l+c-p),n.quadraticCurveTo(a+u,l+c,a+u-p,l+c),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+f,l+c),n.quadraticCurveTo(a,l+c,a,l+c-f),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Ll[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=wb(this,e),l=Object.assign({},o,this._size),u=Eb(n,e,l),c=xb(e,l,u,n);(i._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=tn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),CR(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),IR(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!vf(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!vf(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n;const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Ll[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}se(Ty,"positioners",Ll);var CQ={id:"tooltip",_element:Ty,positioners:Ll,afterInit(t,e,n){n&&(t.tooltip=new Ty({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:jR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function IQ(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:h,includeBounds:d}=t,f=s||1,p=c-1,{min:m,max:y}=e,g=!Ge(o),v=!Ge(a),w=!Ge(u),E=(y-m)/(h+1);let T=DT((y-m)/p/f)*f,b,S,C,R;if(T<1e-14&&!g&&!v)return[{value:m},{value:y}];R=Math.ceil(y/T)-Math.floor(m/T),R>p&&(T=DT(R*T/p/f)*f),Ge(l)||(b=Math.pow(10,l),T=Math.ceil(T*b)/b),i==="ticks"?(S=Math.floor(m/T)*T,C=Math.ceil(y/T)*T):(S=m,C=y),g&&v&&s&&HG((a-o)/s,T/1e3)?(R=Math.round(Math.min((a-o)/T,c)),T=(a-o)/R,S=o,C=a):w?(S=g?o:S,C=v?a:C,R=u-1,T=(C-S)/R):(R=(C-S)/T,ud(R,Math.round(R),T/1e3)?R=Math.round(R):R=Math.ceil(R));const P=Math.max(NT(T),NT(S));b=Math.pow(10,Ge(l)?P:l),S=Math.round(S*b)/b,C=Math.round(C*b)/b;let N=0;for(g&&(d&&S!==o?(n.push({value:o}),S<o&&N++,ud(Math.round((S+N*T)*b)/b,o,Sb(o,E,t))&&N++):S<o&&N++);N<R;++N){const $=Math.round((S+N*T)*b)/b;if(v&&$>a)break;n.push({value:$})}return v&&d&&C!==a?n.length&&ud(n[n.length-1].value,a,Sb(a,E,t))?n[n.length-1].value=a:n.push({value:a}):(!v||C===a)&&n.push({value:C}),n}function Sb(t,e,{horizontal:n,minRotation:r}){const i=yr(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Pf extends Ka{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ge(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=xf(i),u=xf(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=IQ(i,s);return e.bounds==="ticks"&&dR(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return im(e,this.chart.options.locale,this.options.ticks.format)}}class Cb extends Pf{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Et(e)?e:0,this.max=Et(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=yr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}se(Cb,"id","linear"),se(Cb,"defaults",{ticks:{callback:sm.formatters.numeric}});const rc=t=>Math.floor(Ii(t)),fs=(t,e)=>Math.pow(10,rc(t)+e);function Ib(t){return t/Math.pow(10,rc(t))===1}function Ab(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function AQ(t,e){const n=e-t;let r=rc(n);for(;Ab(t,e,r)>10;)r++;for(;Ab(t,e,r)<10;)r--;return Math.min(r,rc(t))}function kQ(t,{min:e,max:n}){e=yn(t.min,e);const r=[],i=rc(e);let s=AQ(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,u=Math.round((e-l)*o)/o,c=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((u-c)/Math.pow(10,s)),d=yn(t.min,Math.round((l+c+h*Math.pow(10,s))*o)/o);for(;d<n;)r.push({value:d,major:Ib(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),d=Math.round((l+c+h*Math.pow(10,s))*o)/o;const f=yn(t.max,d);return r.push({value:f,major:Ib(f),significand:h}),r}class kb extends Ka{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=Pf.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Et(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Et(e)?Math.max(0,e):null,this.max=Et(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Et(this._userMin)&&(this.min=e===fs(this.min,0)?fs(this.min,-1):fs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(fs(r,-1)),o(fs(i,1)))),r<=0&&s(fs(i,-1)),i<=0&&o(fs(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=kQ(n,this);return e.bounds==="ticks"&&dR(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":im(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ii(e),this._valueRange=Ii(this.max)-Ii(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ii(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}se(kb,"id","logarithmic"),se(kb,"defaults",{ticks:{callback:sm.formatters.logarithmic,major:{enabled:!0}}});function by(t){const e=t.ticks;if(e.display&&t.display){const n=tn(e.backdropPadding);return Se(e.font&&e.font.size,et.font.size)+n.height}return 0}function PQ(t,e,n){return n=Je(n)?n:[n],{w:uK(t,e.string,n),h:n.length*e.lineHeight}}function Pb(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function RQ(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?ht/s:0;for(let l=0;l<s;l++){const u=o.setContext(t.getPointLabelContext(l));i[l]=u.padding;const c=t.getPointPosition(l,t.drawingArea+i[l],a),h=Ot(u.font),d=PQ(t.ctx,h,t._pointLabels[l]);r[l]=d;const f=lr(t.getIndexAngle(l)+a),p=Math.round(y1(f)),m=Pb(p,c.x,d.w,0,180),y=Pb(p,c.y,d.h,90,270);OQ(n,e,f,m,y)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=MQ(t,r,i)}function OQ(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function DQ(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,r+i+o,s),u=Math.round(y1(lr(l.angle+ot))),c=VQ(l.y,a.h,u),h=LQ(u),d=FQ(l.x,a.w,h);return{visible:!0,x:l.x,y:c,textAlign:h,left:d,top:c,right:d+a.w,bottom:c+a.h}}function NQ(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(Xo({x:n,y:r},e)||Xo({x:n,y:s},e)||Xo({x:i,y:r},e)||Xo({x:i,y:s},e))}function MQ(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:by(s)/2,additionalAngle:o?ht/i:0};let u;for(let c=0;c<i;c++){l.padding=n[c],l.size=e[c];const h=DQ(t,c,l);r.push(h),a==="auto"&&(h.visible=NQ(h,u),h.visible&&(u=h))}return r}function LQ(t){return t===0||t===180?"center":t<180?"left":"right"}function FQ(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function VQ(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function $Q(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!Ge(a)){const l=ca(e.borderRadius),u=tn(e.backdropPadding);t.fillStyle=a;const c=r-u.left,h=i-u.top,d=s-r+u.width,f=o-i+u.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),Cf(t,{x:c,y:h,w:d,h:f,radius:l}),t.fill()):t.fillRect(c,h,d,f)}}function jQ(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(t.getPointLabelContext(i));$Q(n,o,s);const a=Ot(o.font),{x:l,y:u,textAlign:c}=s;Ra(n,t._pointLabels[i],l,u+a.lineHeight/2,a,{color:o.color,textAlign:c,textBaseline:"middle"})}}function UR(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Ze);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function UQ(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),UR(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function zQ(t,e,n){return bo(t,{label:n,index:e,type:"pointLabel"})}class Lh extends Pf{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=tn(by(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Et(e)&&!isNaN(e)?e:0,this.max=Et(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/by(this.options))}generateTickLabels(e){Pf.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=Me(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?RQ(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=Ze/(this._pointLabels.length||1),r=this.options.startAngle||0;return lr(e*n+yr(r))}getDistanceFromCenterForValue(e){if(Ge(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Ge(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return zQ(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-ot+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),UR(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,u;if(n.pointLabels.display&&jQ(this,o),i.display&&this.ticks.forEach((c,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(c.value);const d=this.getContext(h),f=i.setContext(d),p=s.setContext(d);UQ(this,f,l,o,p)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const c=r.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=c;!d||!h||(e.lineWidth=d,e.strokeStyle=h,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),u=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const u=r.setContext(this.getContext(l)),c=Ot(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=c.string,o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;const h=tn(u.backdropPadding);e.fillRect(-o/2-h.left,-s-c.size/2-h.top,o+h.width,c.size+h.height)}Ra(e,a.label,0,-s,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}se(Lh,"id","radialLinear"),se(Lh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:sm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),se(Lh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),se(Lh,"descriptors",{angleLines:{_fallback:"grid"}});const lm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},hn=Object.keys(lm);function Rb(t,e){return t-e}function Ob(t,e){if(Ge(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Et(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Tf(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function Db(t,e,n,r){const i=hn.length;for(let s=hn.indexOf(t);s<i-1;++s){const o=lm[hn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return hn[s]}return hn[i-1]}function BQ(t,e,n,r,i){for(let s=hn.length-1;s>=hn.indexOf(n);s--){const o=hn[s];if(lm[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return hn[n?hn.indexOf(n):0]}function WQ(t){for(let e=hn.indexOf(t)+1,n=hn.length;e<n;++e)if(lm[hn[e]].common)return hn[e]}function Nb(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=v1(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function HQ(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function Mb(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:HQ(t,r,i,n)}class Rf extends Ka{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new JK._date(e.adapters.date);i.init(n),nu(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Ob(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Et(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Et(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=YG(i,s,o);return this._unit=n.unit||(r.autoSkip?Db(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):BQ(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:WQ(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Mb(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=$n(n,0,o),r=$n(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||Db(s.minUnit,n,r,this._getLabelCapacity(n)),a=Se(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=Tf(l)||l===!0,c={};let h=n,d,f;if(u&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,u?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<r;d=+e.add(d,a,o),f++)Nb(c,d,p);return(d===r||i.bounds==="ticks"||f===1)&&Nb(c,d,p),Object.keys(c).sort(Rb).map(m=>+m)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Me(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],h=u&&a[u],d=r[n],f=u&&h&&d&&d.major;return this._adapter.format(e,i||(f?h:c))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=yr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Mb(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(Ob(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return XG(e.sort(Rb))}}se(Rf,"id","time"),se(Rf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Fh(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=_y(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=_y(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const u=o-s;return u?a+(l-a)*(e-s)/u:a}class Lb extends Rf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Fh(n,this.min),this._tableRange=Fh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,u,c;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)c=i[o+1],l=i[o-1],u=i[o],Math.round((c+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Fh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Fh(this._table,r*this._tableRange+this._minPos,!0)}}se(Lb,"id","timeseries"),se(Lb,"defaults",Rf.defaults);const zR="label";function Fb(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function qQ(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function BR(t,e){t.labels=e}function WR(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zR;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function GQ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zR;const n={labels:[],datasets:[]};return BR(n,t.labels),WR(n,t.datasets,e),n}function KQ(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:h,...d}=t,f=x.useRef(null),p=x.useRef(),m=()=>{f.current&&(p.current=new am(f.current,{type:o,data:GQ(a,s),options:l&&{...l},plugins:u}),Fb(e,p.current))},y=()=>{Fb(e,null),p.current&&(p.current.destroy(),p.current=null)};return x.useEffect(()=>{!i&&p.current&&l&&qQ(p.current,l)},[i,l]),x.useEffect(()=>{!i&&p.current&&BR(p.current.config.data,a.labels)},[i,a.labels]),x.useEffect(()=>{!i&&p.current&&a.datasets&&WR(p.current.config.data,a.datasets,s)},[i,a.datasets]),x.useEffect(()=>{p.current&&(i?(y(),setTimeout(m)):p.current.update(h))},[i,l,a.labels,a.datasets,h]),x.useEffect(()=>{p.current&&(y(),setTimeout(m))},[o]),x.useEffect(()=>(m(),()=>y()),[]),K.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:r},d),c)}const YQ=x.forwardRef(KQ);function QQ(t,e){return am.register(e),x.forwardRef((n,r)=>K.createElement(YQ,Object.assign({},n,{ref:r,type:t})))}const XQ=QQ("doughnut",Dl);am.register(Ml,CQ,vQ);const HR=({setIsModel:t})=>{const e=Ns(Hi,"students"),[n,r]=x.useState([0,0,0,0,0]);x.useEffect(()=>{const s=["CĐ Công Nghệ","CĐ  Kỹ Thuật","CĐ  Kinh Tế","CĐ  Phòng Ban","CĐ  Đào Tạo"];(async()=>{let a=[];const l=s.map(async u=>{const c=Wi(e,j_("group","==",u)),h=await ka(c);return a.push(h.size),h.size});await Promise.all(l),r(a)})()},[]);const i={labels:["CĐ Công Nghệ","CĐ  Kỹ Thuật","CĐ  Kinh Tế","CĐ  Phòng Ban","CĐ  Đào Tạo"],datasets:[{label:"Số người",data:n,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]};return document.body.style.overflow="hidden",_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed z-20  inset-0 h-full  bg-[#00000089]",onClick:()=>{document.body.style.overflow="auto",t(!1)}}),_.jsx("div",{className:" flex items-center justify-center z-10 p-5",children:_.jsxs("div",{className:"bg-white z-50 rounded-lg fixed !max-w-full p-5  w-[1000px] left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ",children:[_.jsx("div",{children:_.jsx("h1",{className:"text-center font-bold text-xl",children:"Thống kê chi tiết"})}),_.jsx("span",{onClick:()=>{document.body.style.overflow="auto",t(!1)},className:"absolute top-0 right-0 text-2xl text-gray-500 cursor-pointer hover:rotate-90 transition-all duration-200 p-5 hover:text-red-500",children:_.jsx(hI,{})}),_.jsx("div",{className:"flex justify-center items-center",children:_.jsx("div",{className:"w-[500px] max-w-full",children:_.jsx(XQ,{data:i})})}),_.jsx("div",{className:"mt-5",children:_.jsx("div",{className:"flex items-center justify-center",children:_.jsxs("ul",{className:"flex items-center gap-5",children:[_.jsxs("li",{children:[_.jsx("span",{className:"font-bold",children:"CĐ Công nghệ:"})," ",n[0]," ",_.jsx("sub",{className:"text-[10px] capitalize",children:"người"})]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-bold",children:"CĐ Kỹ thuật:"})," ",n[1]," ",_.jsx("sub",{className:"text-[10px] capitalize",children:"người"})]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-bold",children:"CĐ Kinh tế:"})," ",n[2]," ",_.jsx("sub",{className:"text-[10px] capitalize",children:"người"})]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-bold",children:"CĐ Phòng ban:"})," ",n[3]," ",_.jsx("sub",{className:"text-[10px] capitalize",children:"người"})]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-bold",children:"CĐ Đào tạo:"})," ",n[4]," ",_.jsx("sub",{className:"text-[10px] capitalize",children:"người"})]})]})})})]})})]})};HR.propTypes={data:ua.checkPropTypes.array,setIsModel:ua.checkPropTypes.func,isModel:ua.checkPropTypes.bool};function JQ(t){return ao({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 1.75V3h5.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5H8V1.75C8 .784 8.784 0 9.75 0h4.5C15.216 0 16 .784 16 1.75Zm-6.5 0V3h5V1.75a.25.25 0 0 0-.25-.25h-4.5a.25.25 0 0 0-.25.25ZM4.997 6.178a.75.75 0 1 0-1.493.144L4.916 20.92a1.75 1.75 0 0 0 1.742 1.58h10.684a1.75 1.75 0 0 0 1.742-1.581l1.413-14.597a.75.75 0 0 0-1.494-.144l-1.412 14.596a.25.25 0 0 1-.249.226H6.658a.25.25 0 0 1-.249-.226L4.997 6.178Z"}},{tag:"path",attr:{d:"M9.206 7.501a.75.75 0 0 1 .793.705l.5 8.5A.75.75 0 1 1 9 16.794l-.5-8.5a.75.75 0 0 1 .705-.793Zm6.293.793A.75.75 0 1 0 14 8.206l-.5 8.5a.75.75 0 0 0 1.498.088l.5-8.5Z"}}]})(t)}function ZQ(t){return ao({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.99993 6.00316C9.47266 6.00316 10.6666 7.19708 10.6666 8.66981C10.6666 10.1426 9.47266 11.3365 7.99993 11.3365C6.52715 11.3365 5.33324 10.1426 5.33324 8.66981C5.33324 7.19708 6.52715 6.00316 7.99993 6.00316ZM7.99993 7.00315C7.07946 7.00315 6.33324 7.74935 6.33324 8.66981C6.33324 9.59028 7.07946 10.3365 7.99993 10.3365C8.9204 10.3365 9.6666 9.59028 9.6666 8.66981C9.6666 7.74935 8.9204 7.00315 7.99993 7.00315ZM7.99993 3.66675C11.0756 3.66675 13.7307 5.76675 14.4673 8.70968C14.5344 8.97755 14.3716 9.24908 14.1037 9.31615C13.8358 9.38315 13.5643 9.22041 13.4973 8.95248C12.8713 6.45205 10.6141 4.66675 7.99993 4.66675C5.38454 4.66675 3.12664 6.45359 2.50182 8.95555C2.43491 9.22341 2.16348 9.38635 1.89557 9.31948C1.62766 9.25255 1.46471 8.98115 1.53162 8.71321C2.26701 5.76856 4.9229 3.66675 7.99993 3.66675Z"}}]})(t)}const qR=({data:t,handleDelete:e,handleDetail:n})=>{const r=x.useRef(null),i=x.useRef(null),{dropdow:s,setDropdow:o}=OP(!1,i,r);return _.jsx("div",{children:_.jsxs("div",{className:"relative inline-block text-left",children:[_.jsx("button",{ref:r,onClick:()=>o(!s),className:"px-1 py-1 text-gray-500 transition-colors duration-200 rounded-lg dark:text-gray-300 hover:bg-gray-100",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})})}),_.jsx("div",{ref:i,id:"dropdown-menu",className:s?"absolute z-10 right-0  mt-2 w-max origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none":"hidden",children:_.jsxs("div",{className:"py-2 p-2",role:"menu","aria-orientation":"vertical","aria-labelledby":"dropdown-button",children:[_.jsxs("a",{onClick:()=>n(t),className:"flex block items-center gap-3 rounded-md px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 active:bg-blue-100 hover:text-blue-500 cursor-pointer",role:"menuitem",children:[_.jsx(ZQ,{}),"Chi tiết"]}),_.jsxs("a",{onClick:()=>e(t.id),className:"flex block rounded-md px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 active:bg-blue-100 items-center gap-3 cursor-pointer hover:text-red-500",role:"menuitem",children:[_.jsx(JQ,{}),"Delete"]})]})})]})})};qR.propTypes={data:it.object.isRequired,handleDelete:it.func.isRequired,handleDetail:it.func.isRequired};function eX(t){return ao({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 176v-40a40 40 0 00-40-40H88a40 40 0 00-40 40v240a40 40 0 0040 40h192a40 40 0 0040-40v-40m64-160l80 80-80 80m-193-80h273"}}]})(t)}const tX=()=>{const t=()=>{localStorage.removeItem("auth"),window.location.reload()},e=x.useRef(null),n=x.useRef(null),{dropdow:r,setDropdow:i}=OP(!1,n,e);return _.jsx("div",{children:_.jsx("div",{className:"flex justify-center",children:_.jsxs("div",{className:"relative inline-block",children:[_.jsxs("button",{ref:e,onClick:()=>i(!r),className:"relative z-10 flex items-center p-2 text-sm text-gray-600 bg-white border border-transparent rounded-md focus:border-blue-500 focus:ring-opacity-40 dark:focus:ring-opacity-40 focus:ring-blue-300 dark:focus:ring-blue-400 focus:ring dark:text-white dark:bg-gray-800 focus:outline-none",children:[_.jsx("span",{className:"mx-1",children:"Admin"}),_.jsx("svg",{className:"w-5 h-5 mx-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("path",{d:"M12 15.713L18.01 9.70299L16.597 8.28799L12 12.888L7.40399 8.28799L5.98999 9.70199L12 15.713Z",fill:"currentColor"})})]}),_.jsxs("div",{ref:n,className:r?"absolute right-0 z-20 w-56 mt-2 origin-top-right bg-white rounded-md shadow-lg ring-1 ring-black py-3 ring-opacity-5 focus:outline-none":"hidden",children:[_.jsxs("a",{className:"flex items-center p-3 -mt-2 text-sm text-gray-600 transition-colors duration-200 transform dark:text-gray-300  dark:hover:bg-gray-700 dark:hover:text-white",children:[_.jsx("img",{className:"flex-shrink-0 object-cover mx-1 rounded-full w-9 h-9",src:"https://images.unsplash.com/photo-1523779917675-b6ed3a42a561?ixid=MnwxMjA3fDB8MHxzZWFyY2h8N3x8d29tYW4lMjBibHVlfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=face&w=500&q=200",alt:"janeavatar"}),_.jsxs("div",{className:"mx-1",children:[_.jsx("h1",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Admin"}),_.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"admin@gmail.com"})]})]}),_.jsx("hr",{className:"border-gray-200 dark:border-gray-700 "}),_.jsxs("span",{onClick:()=>t(),className:"block hover:text-red-500 cursor-pointer px-4 py-3 text-sm text-gray-600 capitalize transition-colors duration-200 flex items-center justify-between gap-3 transform dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white",children:["Sign Out ",_.jsx(eX,{className:"text-base"})]}),_.jsx(dc,{to:"/admin/adminEdit",children:_.jsx("span",{className:"block hover:text-red-500 cursor-pointer px-4 py-3 text-sm text-gray-600 capitalize transition-colors duration-200 flex items-center justify-between gap-3 transform dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white",children:"AdminEdit"})})]})]})})})},GR=({data:t,setIsDetail:e})=>{const n=sR({seconds:t.created_at.seconds,nanoseconds:t.created_at.nanoseconds});return document.body.style.overflow="hidden",_.jsxs("div",{children:[_.jsx("div",{className:"fixed z-20  inset-0 h-full  bg-[#00000089]",onClick:()=>{document.body.style.overflow="auto",e(!1)}}),_.jsx("div",{className:" flex  items-center justify-center p-5",children:_.jsxs("div",{className:"bg-white z-40 rounded-lg fixed !max-w-full p-5  w-[1000px] left-[50%] top-[50%] -translate-x-[50%] -translate-y-[50%] ",children:[_.jsx("div",{children:_.jsx("h1",{className:"text-center font-bold text-xl",children:"Thống tin chi tiết"})}),_.jsx("span",{onClick:()=>{document.body.style.overflow="auto",e(!1)},className:"absolute top-0 right-0 text-2xl text-gray-500 cursor-pointer hover:rotate-90 transition-all duration-200 p-5 hover:text-red-500",children:_.jsx(hI,{})}),_.jsx("div",{className:"flex justify-center items-center",children:_.jsx("div",{className:" max-w-full",children:_.jsxs("div",{className:"flex gap-5",children:[_.jsx("div",{className:"basis-1/4",children:_.jsxs(dc,{target:"_blank",to:t.image,children:[" ",_.jsx("img",{className:"w-full",src:t.image,alt:"Detail image"})]})}),_.jsx("div",{className:"basis-3/4",children:_.jsxs("table",{className:"",children:[_.jsxs("tr",{className:"",children:[_.jsx("td",{className:"font-bold py-3 px-3",children:"Mã Giảng Viên/Nhân Viên:"}),_.jsx("td",{children:t.magv})]}),_.jsxs("tr",{className:"",children:[_.jsx("td",{className:"font-bold py-3 px-3",children:"Công đoàn:"}),_.jsx("td",{children:t.group})]}),_.jsxs("tr",{className:"",children:[_.jsx("td",{className:"font-bold py-3 px-3",children:"Địa chỉ:"}),_.jsx("td",{children:t.address})]}),_.jsxs("tr",{className:"",children:[_.jsx("td",{className:"font-bold py-3 px-3",children:"Mac Ip:"}),_.jsx("td",{children:t.mac})]}),_.jsxs("tr",{className:"",children:[_.jsx("td",{className:"font-bold py-3 px-3",children:"Ngày tạo:"}),_.jsx("td",{children:n.dayOfWeek+" "+n.formattedDate})]})]})})]})})})]})})]})};GR.propTypes={data:ua.checkPropTypes.object,setIsDetail:ua.checkPropTypes.func};const nX=()=>{J7("Quản lý");const[t,e]=x.useState(0),[n,r]=x.useState(1),[i,s]=x.useState(!1),[o,a]=x.useState(5),[l,u]=x.useState([]),[c,h]=x.useState(""),d=cc(),f=new URLSearchParams(d.search).get("page"),[p,m]=x.useState(!1),[y,g]=x.useState([]),[v,w]=x.useState({}),[E,T]=x.useState(!1),[b,S]=x.useState({TitleHome:"",unionChoice:[]});x.useEffect(()=>{f&&r(Number(f))},[f,i]),x.useEffect(()=>{const L=l.slice((n-1)*o,n*o);g(L)},[l,n,o]),x.useEffect(()=>{C()},[c]);async function C(){try{const L=Ns(Hi,"students");s(!0);let k;c===""?k=Wi(L,Hu("created_at","desc")):k=Wi(L,j_("group","==",c));const X=(await ka(k)).docs.map(ue=>({id:ue.id,...ue.data()}));$(X),console.log("Fetched ne:",X),u(X)}catch(L){console.log("fetchData error: ",L)}finally{s(!1)}}const R=L=>{T(!0),w(L)},{addToast:P}=To.useToasts(),N=async L=>{const k=l.find(X=>X.id===L);if(!k){P("Không tìm thấy item để xóa",{appearance:"error",autoDismiss:!0});return}const U=k.image;if(!U){P("URL hình ảnh không hợp lệ",{appearance:"error",autoDismiss:!0});return}try{const X=decodeURIComponent(U.split("/o/")[1].split("?")[0]);console.log(X);const ue=X2(PP,`/${X}`);console.log("dsd",ue),await kz(ue),await g8(w2(Hi,"students",L));const V=l.filter(B=>B.id!==L);u(V),P("Đã xóa ",{appearance:"error",autoDismiss:!0})}catch(X){console.log("handleDelete error: ",X),P("Đã xóa ",{appearance:"success",autoDismiss:!0})}},$=async L=>{try{const k=(L==null?void 0:L.length)||0;console.log("fetchTotalItems error: ",k),e(k)}catch(k){console.log("fetchTotalItems error: ",k)}},Z=L=>{a(Number(L.target.value)),r(1)},re=L=>{s(!0),setTimeout(()=>{const k=L.target.value,U=l.filter(X=>String(X.magv).includes(k));g(U),s(!1)},1e3)},G=Math.ceil(l.length/o),te=L=>{h(L.target.value)};return x.useEffect(()=>{async function L(){try{const k=Ns(Hi,"HomeValue");s(!0);let U;U=Wi(k,Hu("created_at","desc"));const ue=(await ka(U)).docs.map(B=>({id:B.id,...B.data()})),V=ue.map(B=>B.unionChoice);S({TitleHome:ue[0].TitleHome,unionChoice:V[0]})}catch(k){console.log("fetchData error: ",k)}finally{s(!1)}}L()},[]),_.jsxs("div",{children:[_.jsx("div",{className:"container mx-auto px-4 sm:px-8",children:_.jsxs("div",{className:"py-8",children:[_.jsx("div",{children:_.jsx("h2",{className:"text-2xl font-semibold leading-tight",children:"Danh sách điểm danh"})}),_.jsxs("div",{className:"my-2 flex sm:flex-row justify-between flex-col",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-0 mb-1 sm:mb-0",children:[_.jsxs("div",{className:"relative",children:[_.jsxs("select",{onChange:Z,className:"appearance-none h-full rounded-l border block  w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",children:[_.jsx("option",{value:5,children:"5"}),_.jsx("option",{value:10,children:"10"}),_.jsx("option",{value:20,children:"20"}),_.jsx("option",{value:40,children:"40"}),_.jsx("option",{value:100,children:"100"})]}),_.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:_.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:_.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}),_.jsxs("div",{className:"relative",children:[_.jsxs("select",{onChange:te,className:" h-full rounded-r border-t sm:rounded-r-none sm:border-r-0 border-r border-b block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none capitalize focus:border-l focus:border-r focus:bg-white focus:border-gray-500",children:[_.jsx("option",{value:"",children:"tất cả công đoàn"}),b&&b.unionChoice.map((L,k)=>_.jsx("option",{value:L,children:L},k))]}),_.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:_.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:_.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}),_.jsxs("div",{className:"block relative",children:[_.jsx("span",{className:"h-full absolute inset-y-0 left-0 flex items-center pl-2",children:_.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 fill-current text-gray-500",children:_.jsx("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"})})}),_.jsx("input",{placeholder:"Tìm kiến mã Giảng viên / Nhân viên",type:"number",onChange:re,className:"appearance-none focus:border-blue-500  sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"})]}),_.jsx("button",{onClick:()=>m(!0),className:"px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-blue-600 border border-transparent  active:bg-blue-600 hover:bg-blue-700",children:"Thống kê chi tiết"})]}),_.jsx(tX,{})]}),_.jsx("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8  py-4 overflow-x-auto",children:_.jsxs("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden",children:[_.jsxs("table",{className:"min-w-full leading-normal overflow-x-auto shadow-md min-h-[100px]",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Hình"}),_.jsx("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Mã Giảng Viên/Nhân Viên"}),_.jsx("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Công đoàn"}),_.jsx("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100  text-xs font-semibold text-gray-600 text-center uppercase tracking-wider",children:"Ngày tạo"}),_.jsx("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Địa chỉ"}),_.jsx("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"MacIp"}),_.jsx("th",{className:" py-3 border-b-2 border-gray-200 bg-gray-100 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"})]})}),_.jsxs("tbody",{className:"relative",children:[!i&&(y==null?void 0:y.length)===0&&_.jsx("tr",{className:"w-full mt-2 text-xl text-gray-500",children:_.jsx("td",{colSpan:"6",className:"text-center",children:"Không tồn tại dữ liệu"})}),!i&&(y==null?void 0:y.length)>0&&(y==null?void 0:y.map(L=>{const k=sR({seconds:L.created_at.seconds,nanoseconds:L.created_at.nanoseconds});return _.jsxs("tr",{className:"transition-all duration-300",children:[_.jsx("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:_.jsx("div",{onClick:()=>R(L),className:"flex cursor-pointer items-center",children:_.jsx("div",{className:"flex-shrink-0 w-10 h-10",children:_.jsx("img",{className:"w-full h-full rounded-full",src:L==null?void 0:L.image,alt:"image"})})})}),_.jsx("td",{onClick:()=>R(L),className:"px-5 cursor-pointer py-5 border-b border-gray-200 bg-white text-sm",children:_.jsx("div",{className:"ml-3",children:_.jsx("p",{className:"text-gray-900 hover:text-blue-500 w-max capitalize whitespace-no-wrap",children:L==null?void 0:L.magv})})}),_.jsx("td",{className:"px-5 w-max py-5 border-b border-gray-200 bg-white text-sm",children:_.jsx("p",{className:"text-gray-900 w-max whitespace-no-wrap",children:L==null?void 0:L.group})}),_.jsx("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:k.dayOfWeek+" "+k.formattedDate}),_.jsx("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:_.jsx("p",{className:"text-gray-900",children:L==null?void 0:L.address})}),_.jsx("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:_.jsx("p",{className:"text-gray-900",children:L==null?void 0:L.mac})}),_.jsx("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:_.jsx(qR,{data:L,handleDelete:N,handleDetail:R})})]},L.id)})),i&&_.jsx("tr",{children:_.jsx("td",{colSpan:"6",children:_.jsx("div",{className:"absolute bg-white inset-0 bottom-0 flex justify-center items-center",children:_.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 rounded-full animate-spin border-t-transparent"})})})})]})]}),_.jsx(oR,{numPage:G,currentPage:n,setCurrentPage:r,totalItems:t,itemsPerPage:o,totalCount:o}),E&&_.jsx(GR,{data:v,setIsDetail:T})]})})]})}),p&&_.jsx(HR,{isModel:p,setIsModel:m})]})},rX=()=>{const[t,e]=x.useState(null);x.useState(!1);const{addToast:n}=To.useToasts(),r=hc(),i=async s=>{try{const o=await OB(RP,s.email,s.password);localStorage.setItem("auth",o.user.accessToken),e(o),r("/admin/login"),n("Đăng ký thành công!",{appearance:"success",autoDismiss:!0})}catch(o){console.error("Error during registration:",o),n("Đăng ký không thành công. Vui lòng thử lại.!",{appearance:"error",autoDismiss:!0})}};return _.jsx("div",{children:_.jsx("section",{className:"bg-[#F4F7FF] py-20 lg:py-[120px] overflow-hidden",children:_.jsx("div",{className:"container",children:_.jsx("div",{className:"flex flex-wrap -mx-4",children:_.jsx("div",{className:"w-full px-4",children:_.jsxs("div",{className:"max-w-[525px] mx-auto text-center bg-white rounded-lg relative overflow-hidden py-16 px-10 sm:px-12 md:px-[60px]",children:[_.jsx("div",{className:"mb-10 flex justify-center md:mb-16 text-center",children:_.jsx("img",{src:"https://sinhvien.hitu.edu.vn/Content/AConfig/images/sv_logo_dashboard.png",alt:"ddddd"})}),_.jsx(zv,{initialValues:{email:"",password:""},validationSchema:Zf({email:Bs().email("Email không hợp lệ").required("Trường này không được để trống"),password:Bs().min(6,"Mật khẩu phải có ít nhất 6 ký tự").required("Trường này không được để trống")}),onSubmit:async(s,{resetForm:o})=>{await i(s),o()},children:({values:s})=>_.jsxs(pp,{children:[_.jsxs("div",{className:"mb-6",children:[_.jsx(Iu,{type:"text",placeholder:"Email",name:"email",className:"w-full rounded-md border py-3 px-5 bg-[#FCFDFE] text-base text-body-color placeholder-[#ACB6BE] outline-none focus-visible:shadow-none focus:border-primary"}),_.jsx("p",{className:"text-[12px] text-left h-5 text-red-600",children:_.jsx(wa,{name:"email"})})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx(Iu,{name:"password",type:"password",placeholder:"Password",className:"w-full rounded-md border py-3 px-5 bg-[#FCFDFE] text-base text-body-color placeholder-[#ACB6BE] outline-none focus-visible:shadow-none focus:border-primary"}),_.jsx("p",{className:"text-[12px] text-left h-5 text-red-600",children:_.jsx(wa,{name:"password"})})]}),_.jsx("div",{className:"mb-10",children:_.jsx("button",{type:"submit",className:"w-full rounded-md border border-blue-800 py-3 px-5 bg-blue-500 text-base text-white cursor-pointer hover:bg-opacity-90 transition",children:"Đăng ký"})}),_.jsx("button",{className:"bg-gray-200 p-3 rounded-lg float-left",children:"Back"})]})})]})})})})})})},iX=()=>{const{addToast:t}=To.useToasts(),[e,n]=x.useState(!1),r=Ns(Hi,"HomeValue"),[i,s]=x.useState({TitleHome:"",unionChoice:[]});x.useEffect(()=>{(async()=>{try{n(!0);const f=Wi(r,Hu("created_at","desc")),m=(await ka(f)).docs.map(y=>({id:y.id,...y.data()}));m.length>0&&s({TitleHome:m[0].TitleHome||"",unionChoice:m[0].unionChoice||[]})}catch(f){console.error("fetchData error: ",f)}finally{n(!1)}})()},[]);const o=d=>{const{name:f,value:p}=d.target;s(m=>({...m,[f]:p}))},a=(d,f)=>{const p=[...i.unionChoice];p[d]=f,s(m=>({...m,unionChoice:p}))},l=()=>{s(d=>({...d,unionChoice:[...d.unionChoice,""]}))},u=d=>{const f=i.unionChoice.filter((p,m)=>m!==d);s(p=>({...p,unionChoice:f}))},c=async()=>{n(!0);try{await D2(r,i),t("Add Success",{appearance:"success",autoDismiss:!0})}catch(d){t(d.message,{appearance:"error",autoDismiss:!0})}finally{n(!1)}},h=hc();return _.jsxs("div",{className:"flex flex-col items-center p-4",children:[_.jsx("div",{onClick:()=>h("/admin"),className:"flex items-center cursor-pointer mb-4",children:_.jsx(IM,{size:40,color:"blue"})}),_.jsxs("div",{className:"w-full max-w-md bg-white p-6 rounded-lg shadow-md",children:[_.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Edit Home"}),_.jsx("div",{className:"mb-4",children:_.jsxs("label",{className:"block mb-2",children:["Song Title:",_.jsx("input",{type:"text",name:"TitleHome",value:i.TitleHome,onChange:o,className:"mt-1 p-2 border border-gray-300 rounded w-full",placeholder:"Enter song title"})]})}),_.jsxs("div",{children:[_.jsx("label",{className:"block mb-2",children:"Union Choices:"}),i.unionChoice.map((d,f)=>_.jsxs("div",{className:"flex items-center mb-2",children:[_.jsx("input",{type:"text",value:d,onChange:p=>a(f,p.target.value),className:"p-2 border border-gray-300 rounded w-full mr-2",placeholder:`Choice ${f+1}`}),_.jsx("button",{className:"bg-red-500 text-white p-2 rounded",type:"button",onClick:()=>u(f),children:"Remove"})]},f)),_.jsx("button",{type:"button",onClick:l,className:"mt-2 bg-blue-600 text-white p-2 rounded",children:"Add Union Choice"})]}),_.jsx("button",{onClick:c,disabled:e,className:`mt-4 p-2 rounded w-full ${e?"bg-gray-400":"bg-green-600 text-white"}`,children:e?"Saving...":"Save"})]})]})};function sX(){const t=[{path:"/",element:_.jsx(PM,{}),children:[{index:!0,element:_.jsx(HH,{})}]},{path:"/admin",element:_.jsx(JH,{}),children:[{index:!0,element:_.jsx(nX,{})},{path:"login",element:_.jsx(tR,{})},{path:"register",element:_.jsx(rX,{})},{path:"adminEdit",element:_.jsx(iX,{})}]}];return _.jsxs(_.Fragment,{children:[nM(t),_.jsx(yy,{})]})}Cg.createRoot(document.getElementById("root")).render(_.jsx(K.StrictMode,{children:_.jsx(To.ToastProvider,{children:_.jsx(wM,{basename:"/",children:_.jsx(sX,{})})})}))});export default oX();
